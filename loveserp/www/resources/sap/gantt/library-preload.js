sap.ui.predefine('sap/gantt/drawer/Legend',["sap/gantt/drawer/Drawer","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(D,F){"use strict";
var L=D.extend("sap.gantt.drawer.Legend");
L.prototype._recursiveDraw=function(g,s){var S=g.selectAll("."+s.getId()).data(function(d){var r=[];return r.concat(d);});this._drawPerTag(S,s);};
L.prototype._drawPerTag=function(s,S){var l=S.mChartInstance;if(S.getIsDuration()){S.getTime=function(){return l.TIME_RANGE[0];};S.getEndTime=function(){return l.TIME_RANGE[1];};}else{S.getTime=function(){return l.TIME;};}S.setRowYCenter(l.getScaledLegendHeight()/2);switch(S.getTag()){case"g":this._drawGroup(s,S);break;case"line":this._drawLine(s,S);break;case"rect":this._drawRect(s,S);break;case"text":this._drawText(s,S);break;case"path":this._drawPath(s,S);break;case"image":this._drawImage(s,S);break;case"polygon":this._drawPolygon(s,S);break;case"polyline":this._drawPolyline(s,S);break;case"circle":this._drawCircle(s,S);break;default:break;}this._insertTitle(s,S);};
L.prototype._insertTitle=function(s,S){s.select("title").remove();s.insert("title",":first-child").text(function(d){if(!S.getParent()){return S.getTitle(d);}});};
L.prototype._drawGroup=function(s,S){s.enter().append("g").classed(S.getId(),true).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();var a=S.getShapes();if(a&&a.length>0){for(var i=0;i<a.length;i++){this._recursiveDraw(s,a[i]);}}};
L.prototype._drawLine=function(s,S){var t=this;s.enter().append("line").attr("x1",function(d){return S.getX1(d);}).attr("y1",function(d){return S.getY1(d);}).attr("x2",function(d){return S.getX2(d);}).attr("y2",function(d){return S.getY2(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("fill-Opacity",function(d){return S.getFillOpacity(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawRect=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("rect").classed(S.getId(),true);s.attr("x",function(d){if(l.getLegendSpace!==undefined){if(sap.ui.getCore().getConfiguration().getRTL()){var x=l.getXDomain(),X=x.length;return l.getScaledLegendWidth()*(X-d.xIndex-1)+l.getLegendSpace()*(X-d.xIndex);}return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getY(d);}).attr("width",function(d){return S.getWidth(d);}).attr("height",function(d){return S.getHeight(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("rx",function(d){return S.getRx(d);}).attr("ry",function(d){return S.getRy(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("opacity",function(d){return S.getFillOpacity(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawText=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("text").attr("x",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getRowYCenter(d);}).attr("text-anchor","middle").attr("font-size",function(d){return S.getFontSize(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("alignment-baseline","central").attr("font-family",function(d){return S.getFontFamily(d);}).text(S.getText()).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPath=function(s,S){var t=this;s.enter().append("path").attr("d",function(d){return S.getD(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("opacity",function(d){if(S.getIsClosed()){return S.getFillOpacity(d);}}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawImage=function(s,S){var l=S.mChartInstance;s.enter().append("image").attr("xlink:href",function(d){return S.getImage(d);}).attr("x",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getY(d);}).attr("width",function(d){return S.getWidth(d);}).attr("height",function(d){return S.getHeight(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPolygon=function(s,S){var t=this;s.enter().append("polygon").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("points",function(d){return S.getPoints(d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPolyline=function(s,S){var t=this;s.enter().append("polyline").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("points",function(d){return S.getPoints(d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawCircle=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("circle").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("cx",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*(d.xIndex+0.5)+l.getLegendSpace()*(d.xIndex+1);}return S.getCx(d);}).attr("cy",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*(d.yIndex+0.5)+l.getLegendSpace()*(d.yIndex+1);}return S.getCy(d);}).attr("r",function(d){return S.getR(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype.determineValue=function(a,s,d){var A=null;if(a==="fill"){A=s.getFill(d);}else if(a==="stroke"){A=s.getStroke(d);}return sap.gantt.ValueSVGPaintServer.normalize(A);};
return L;},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine('sap/gantt/GanttChart',["jquery.sap.global","sap/ui/Device","sap/gantt/GanttChartBase","sap/ui/core/Core","sap/ui/table/TreeTable","sap/ui/table/Row","sap/gantt/misc/Utility","sap/ui/core/theming/Parameters","sap/gantt/shape/SelectedShape","sap/gantt/shape/ext/rls/SelectedRelationship","sap/gantt/drawer/ShapeInRow","sap/gantt/drawer/ShapeCrossRow","sap/gantt/drawer/CursorLine","sap/gantt/drawer/NowLine","sap/gantt/drawer/VerticalLine","sap/gantt/drawer/CalendarPattern","sap/gantt/drawer/ExpandedBackground","sap/gantt/misc/AxisTime","sap/gantt/misc/AxisOrdinal","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(q,D,G,C,T,R,U,P,S,a,b,c,e,N,V,f,E,A,h,F){"use strict";
var m=G.extend("sap.gantt.GanttChart",{metadata:{aggregations:{_treeTable:{type:"sap.ui.table.TreeTable",multiple:false,visibility:"hidden"}}}});
m.prototype.init=function(){G.prototype.init.apply(this,arguments);q.sap.measure.start("GanttChart init","GanttPerf:GanttChart init function");this._oTT=new T(this.getId()+"-table",{visibleRowCountMode:"Auto",minAutoRowCount:1,selectionBehavior:sap.ui.table.SelectionBehavior.RowOnly,selectionMode:sap.ui.table.SelectionMode.MultiToggle,columnHeaderVisible:false});this._oRowStatusMap={};this._oTT._bVariableRowHeightEnabled=true;var t=this;this._oTT._collectRowHeights=function(){t._aHeights=T.prototype._collectRowHeights.apply(this);if(t._aHeights[0]!==undefined&&t._aHeights[0]!==0){t._iInferedBaseRowHeightOnTT=t._aHeights[0];}var B=t.getBaseRowHeight();var d=this.getFirstVisibleRow();var M=B;var s=t._getDrawingData([0,0]);if(s&&s.length>0){M=s[0].rowSpan*B;}for(var i=0;i<t._aHeights.length;i++){var o=this.getContextByIndex(d+i);if(o){var g=o.getObject();var u=g?g.uid:undefined;if(u&&t._oRowStatusMap[u]){t._aHeights[i]=t._oRowStatusMap[u].visibleRowSpan*B;}else{t._aHeights[i]=M;}}else{t._aHeights[i]=B;}}return t._aHeights;};this._oTT.onvscroll=function(o){sap.ui.table.TreeTable.prototype.onvscroll.apply(this,arguments);t._onVSbScroll();};this._oColumn=new sap.ui.table.Column();this._oTT.addColumn(this._oColumn);this.setAggregation("_treeTable",this._oTT);this._oTT.attachEvent("_rowsUpdated",this._onTTRowUpdate.bind(this));this._oTT.attachRowSelectionChange(this._onRowSelectionChange,this);this._oTT.addEventDelegate({onAfterRendering:this._onTTHScrollAfterRendering},this);this._oTT.addEventDelegate({onAfterRendering:this._initialSvgDrawing},this);this._oShapeInRowDrawer=new b();this._oShapeCrossRowDrawer=new c();this._oCursorLineDrawer=new e();this._oCalendarPatternDrawer=new f();this._oExpandedBackgroundDrawer=new E();this._oAxisTime=undefined;this._oAxisOrdinal=undefined;this._aFilteredRowData=undefined;this._aShapeInstance=undefined;this._oShapeInstance=undefined;this._oZoom={base:{}};this._oDataNamePerType={};this._fLeftOffsetRate=0.0;this._oStatusSet=null;this._nLowerRange=0;this._nUpperRange=0;this._aSelectedRelationships=undefined;this._oSelectedShapes={};this._aSelectedShapeUids=undefined;this._aShapeIdsToBeSelected=[];this._bMouseDown=false;this._bDragging=false;this._bDragStart=false;this._oDraggingData=undefined;this._lastHoverRowIndex=undefined;this._oChartSchemesConfigMap={};this._oChartSchemesConfigMap[sap.gantt.config.DEFAULT_CHART_SCHEME_KEY]=sap.gantt.config.DEFAULT_CHART_SCHEME;this._oObjectTypesConfigMap={};this._oObjectTypesConfigMap[sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY]=sap.gantt.config.DEFAULT_OBJECT_TYPE;this._fExtendFactor=0.382;this._calZoomFromTimeAxisConfig(sap.gantt.config.DEFAULT_TIME_AXIS);this._createAxisTime(sap.gantt.config.DEFAULT_TIME_AXIS);this._mTimeouts={};this._bCanApplyTableTransform=true;this._iFirstVisiableRowIndex=undefined;q.sap.measure.end("GanttChart init");};
m.prototype.setTimeAxis=function(t){this.setProperty("timeAxis",t,true);this._createAxisTime(t);var l=this._oZoom;this._oZoom={base:{}};this._calZoomFromTimeAxisConfig(t);var z=this.getZoomInfo();if(z&&z.determinedByChartWidth){if(!l.determinedByChartWidth||!U.floatEqual(l.determinedByConfig.fRate,z.determinedByConfig.fRate)||!U.floatEqual(l.determinedByConfig.fMaxRate,z.determinedByConfig.fMaxRate)||!U.floatEqual(l.determinedByChartWidth.fMinRate,z.determinedByChartWidth.fMinRate)){this.fireEvent("_zoomInfoUpdated",{zoomInfo:z});}if(!l.determinedByConfig.fRate||!U.floatEqual(l.determinedByConfig.fRate,z.determinedByConfig.fRate)){this.setTimeZoomRate(z.determinedByConfig.fRate);}}this._oStatusSet=null;this._draw(true);return this;};
m.prototype.setLocale=function(l){this.setProperty("locale",l,true);this._oAxisTime.setLocale(l);this._updateLocaleInShapeInstances();this._draw(true);return this;};
m.prototype.setChartSchemes=function(d){this.setProperty("chartSchemes",d,true);this._oChartSchemesConfigMap={};if(d){for(var i=0;i<d.length;i++){this._oChartSchemesConfigMap[d[i].getKey()]=d[i];}}this._draw(true);return this;};
m.prototype.setObjectTypes=function(o){this.setProperty("objectTypes",o,true);this._oObjectTypesConfigMap={};if(o){for(var i=0;i<o.length;i++){this._oObjectTypesConfigMap[o[i].getKey()]=o[i];}}this._draw(true);return this;};
m.prototype.setSelectionMode=function(s){this.setProperty("selectionMode",s,true);if(this._oTT){if(s==sap.gantt.SelectionMode.MultiWithKeyboard){this._oTT.setSelectionMode(sap.ui.table.SelectionMode.MultiToggle);}else if(s==sap.gantt.SelectionMode.Multiple){this._oTT.setSelectionMode(sap.ui.table.SelectionMode.MultiToggle);}else if(s==sap.gantt.SelectionMode.Single){this._oTT.setSelectionMode(sap.ui.table.SelectionMode.Single);}else{this._oTT.setSelectionMode(sap.ui.table.SelectionMode.None);}}return this;};
m.prototype._calZoomFromTimeAxisConfig=function(t){if(!t){return;}this._oZoom.base.sGranularity=t.getGranularity();var g=t.getZoomStrategy()[this._oZoom.base.sGranularity];this._oZoom.determinedByConfig={fRate:t.getRate()};var o=t.getZoomStrategy()[t.getFinestGranularity()];var d=t.getZoomStrategy()[t.getCoarsestGranularity()];var s=d3.time.format("%Y%m%d%H%M%S").parse("20000101000000");var B=q.sap.getObject(g.innerInterval.unit).offset(s,g.innerInterval.span);this._oZoom.base.fScale=this._calZoomScale(s,B,g.innerInterval.range);var M=q.sap.getObject(o.innerInterval.unit).offset(s,o.innerInterval.span);var i=this._calZoomScale(s,M,o.innerInterval.range*4);var j=q.sap.getObject(d.innerInterval.unit).offset(s,d.innerInterval.span);var k=this._calZoomScale(s,j,d.innerInterval.range);this._oZoom.determinedByConfig.fMaxRate=this._oZoom.base.fScale/i;this._oZoom.determinedByConfig.fMinRate=this._oZoom.base.fScale/k;};
m.prototype._calZoomScale=function(s,o,l){return(o.valueOf()-s.valueOf())/l;};
m.prototype._createAxisTime=function(o){var s=o.getZoomStrategy();var H=d3.time.format("%Y%m%d%H%M%S").parse(o.getPlanHorizon().getStartTime());var d=d3.time.format("%Y%m%d%H%M%S").parse(o.getPlanHorizon().getEndTime());var n=d.valueOf()-H.valueOf();var g=s[o.getGranularity()];var i=q.sap.getObject(g.innerInterval.unit).offset(H,g.innerInterval.span).valueOf()-H.valueOf();this._oAxisTime=new A([H,d],[0,Math.ceil(n*g.innerInterval.range/i)],o.getRate(),null,null,this.getLocale(),o.getZoomStrategy());this._oZoom.determinedByConfig.fRate=o.getRate();this._nLowerRange=this._oAxisTime.getViewRange()[0];this._nUpperRange=Math.ceil(this._oAxisTime.getViewRange()[1]);};
m.prototype.setShapes=function(s){this.setProperty("shapes",s,true);if(s&&s.length>0){this._oShapesConfigMap={};for(var i=0;i<s.length;i++){this._oShapesConfigMap[s[i].getKey()]=s[i];}this._parseAndSortShape(this._oShapesConfigMap);this._draw(true);}return this;};
m.prototype._parseAndSortShape=function(s,t){var r=[];var d,o,g,l,p,n;for(var i in s){d=t?t:i;o={};if(s[i].getShapeClassName()){o=this._instantiateCustomerClass(s[i].getShapeClassName(),i,s[i],d);var u=o.getCategory(null,this._oAxisTime,this._oAxisOrdinal);if(!t){n=s[i].getSelectedClassName();if(!n){if(u==sap.gantt.shape.ShapeCategory.Relationship){n="sap.gantt.shape.ext.rls.SelectedRelationship";g=new a();}else{n="sap.gantt.shape.SelectedShape";}}g=this._instantiateCustomerClass(n,"selected"+i,s[i],d,true);o.setAggregation("selectedShape",g);}if(s[i].getGroupAggregation()&&s[i].getGroupAggregation()instanceof Array){l=this._parseAndSortShape(s[i].getGroupAggregation(),d);for(var k=0;k<l.length;k++){o.addShape(l[k]);}}else if(s[i].getClippathAggregation()&&s[i].getClippathAggregation()instanceof Array){p=this._parseAndSortShape(s[i].getClippathAggregation(),d);for(var j=0;j<p.length;j++){o.addPath(p[j]);}}}r.push(o);}if(t){return r;}else{r.sort(function(w,x){var y=q.isNumeric(w.mShapeConfig.getLevel())?w.mShapeConfig.getLevel():99;var z=q.isNumeric(x.mShapeConfig.getLevel())?x.mShapeConfig.getLevel():99;return z-y;});this._aShapeInstance=r;var v={};q.each(this._aShapeInstance,function(K,w){v[w.mShapeConfig.getKey()]=w;});this._oShapeInstance=v;}};
m.prototype._instantiateCustomerClass=function(s,d,o,t,g){var i=q.sap.getObject(s);if(!i){q.sap.require(s);i=q.sap.getObject(s);}var j=new i();var k=t;if(k===undefined){k=d;}this._storeCustomerClassId(d,j.getId(),t,g);j.mLocaleConfig=this.getLocale();j.mShapeConfig=o;j.mChartInstance=this;return j;};
m.prototype._updateLocaleInShapeInstances=function(){if(this._aShapeInstance){var l=this.getLocale();q.each(this._aShapeInstance,function(k,v){v.mLocaleConfig=l;});}};
m.prototype._storeCustomerClassId=function(s,i,t,d){if(!this._customerClassIds){this._customerClassIds={};}if(this._oShapesConfigMap[s]){this._customerClassIds[s]={"classId":i,"topShapeId":t};}else{var g=t+"_"+s;this._customerClassIds[g]={"classId":i,"topShapeId":d?undefined:t};}};
m.prototype._getIdByShapeId=function(s){if(this._customerClassIds&&this._customerClassIds[s]){return this._customerClassIds[s].classId;}return null;};
m.prototype._getShapeIdById=function(s){if(this._customerClassIds){for(var d in this._customerClassIds){var o=this._customerClassIds[d];if(o.classId===s){return{"shapeId":d,"topShapeId":o.topShapeId};}}}return null;};
m.prototype._genShapeConfig=function(s,p){var o={},d;if(s!==null&&s!==undefined){o.shapeId=s;}if(p.data){o.data=p.data;}if(p.level){o.level=p.level;}if(p.draw){d=p.draw;}else{d=p;}for(var i in d){if(i!=="class"){o[i]=d[i];}}return o;};
m.prototype.getZoomInfo=function(){var t=this.getTimeAxis();var p=t.getPlanHorizon();var i=t.getInitHorizon();var d=q("#"+this.getId()+"-svg-ctn");if(!d){return null;}var n=d.width()-((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width());if(!n||n<=0){return null;}this._oZoom.determinedByChartWidth={};this._oZoom.determinedByChartWidth.fMinRate=this._oZoom.determinedByConfig.fMinRate;if(p){var M=this._calZoomScale(F.abapTimestampToDate(p.getStartTime()),F.abapTimestampToDate(p.getEndTime()),n);this._oZoom.determinedByChartWidth.fMinRate=this._oZoom.base.fScale/M;var g=(this._oZoom.determinedByChartWidth.fMinRate>this._oZoom.determinedByConfig.fMinRate)?this._oZoom.determinedByChartWidth.fMinRate:this._oZoom.determinedByConfig.fMinRate;this._oZoom.determinedByConfig.fRate=g>this._oZoom.determinedByConfig.fRate?g:this._oZoom.determinedByConfig.fRate;}if(i&&i.getStartTime()&&i.getEndTime()){var s=this._calZoomScale(F.abapTimestampToDate(i.getStartTime()),F.abapTimestampToDate(i.getEndTime()),n);this._oZoom.determinedByChartWidth.fSuitableRate=this._oZoom.base.fScale/s;this._oZoom.determinedByChartWidth.fSuitableRate=this._oZoom.determinedByChartWidth.fMinRate>this._oZoom.determinedByChartWidth.fSuitableRate?this._oZoom.determinedByChartWidth.fMinRate:this._oZoom.determinedByChartWidth.fSuitableRate;}this._oZoom.iChartWidth=n;return this._oZoom;};
m.prototype.setTimeZoomRate=function(t){var M=(this._oZoom.determinedByChartWidth&&(this._oZoom.determinedByChartWidth.fMinRate>this._oZoom.determinedByConfig.fMinRate))?this._oZoom.determinedByChartWidth.fMinRate:this._oZoom.determinedByConfig.fMinRate;this._oZoom.determinedByConfig.fRate=M>t?M:t;this.setProperty("timeZoomRate",this._oZoom.determinedByConfig.fRate,true);this._oAxisTime.setZoomRate(this._oZoom.determinedByConfig.fRate);this._oAxisTime.setViewOffset(0);this._oStatusSet=null;this._nLowerRange=this._oAxisTime.getViewRange()[0];this._nUpperRange=Math.ceil(this._oAxisTime.getViewRange()[1]);this._draw(true);return this;};
m.prototype.updateRelationships=function(r){var B=this.getBinding("relationships");if(B){var d=B.getContexts(0,0);if(d&&d.length>0){this._aRelationshipsContexts=d;}}this._prepareRelationshipDataFromModel();};
m.prototype.addRelationship=function(r){q.sap.log.error("The control manages the relationships aggregation. The method \"addRelationship\" cannot be used programmatically!");};
m.prototype.insertRelationship=function(i,r){q.sap.log.error("The control manages the relationships aggregation. The method \"insertRelationship\" cannot be used programmatically!");};
m.prototype.removeRelationship=function(r){q.sap.log.error("The control manages the relationships aggregation. The method \"removeRelationship\" cannot be used programmatically!");};
m.prototype.getRelationships=function(){q.sap.log.error("The control manages the relationships aggregation. The method \"getRelationships\" cannot be used programmatically!");};
m.prototype.destroyRelationships=function(){q.sap.log.error("The control manages the relationships aggregation. The method \"destroyRelationships\" cannot be used programmatically!");};
m.prototype.indexOfRelationship=function(r){q.sap.log.error("The control manages the relationships aggregation. The method \"indexOfRelationship\" cannot be used programmatically!");};
m.prototype.removeAllRelationships=function(){q.sap.log.error("The control manages the relationships aggregation. The method \"removeAllRelationships\" cannot be used programmatically!");};
m.prototype._bindAggregation=function(n,B){if(n=="rows"&&B){var M=this.getModel(B.model);var o=this.getBindingContext(B.model);if(o&&M){B.path=M.resolve(B.path,o);}this._oTT.bindRows(B);}else{return sap.ui.core.Control.prototype._bindAggregation.apply(this,arguments);}};
m.prototype.onBeforeRendering=function(){this._bTableReady=false;this._iSvgHeight=0;this._detachEvents();};
m.prototype._detachEvents=function(){var d=q("#"+this.getId()+"-svg-ctn");var g=q("#"+this.getId()+"-header");d.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel);d.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel);d.unbind("mouseleave",this._onSvgMouseLeave);d.unbind("mouseenter",this._onSvgMouseEnter);d.unbind("mousedown",this._onSvgMouseDown);d.unbind("mousemove",this._onSvgMouseMove);d.unbind("mouseup",this._onSvgMouseUp);d.unbind("dblclick",this._onSvgDoubleClick);if(D.support.touch){d.unbind("touchstart",this._onSvgTouchstart);d.unbind("touchend",this._onSvgTouchend);d.unbind("touchmove",this._onSvgTouchmove);g.unbind("touchstart",this._onSvgTouchstart);g.unbind("touchend",this._onSvgTouchend);g.unbind("touchmove",this._onSvgTouchmove);}};
m.prototype.onAfterRendering=function(){this._attachEvents();};
m.prototype._attachEvents=function(){var d=q("#"+this.getId()+"-svg-ctn");var g=q("#"+this.getId()+"-header");if(D.browser.firefox){d.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}else{d.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}d.bind("mouseenter",this._onSvgMouseEnter.bind(this));d.bind("mouseleave",this._onSvgMouseLeave.bind(this));d.bind("mousedown",this._onSvgMouseDown.bind(this));d.bind("mousemove",this._onSvgMouseMove.bind(this));d.bind("mouseup",this._onSvgMouseUp.bind(this));d.bind("dblclick",this._onSvgDoubleClick.bind(this));if(D.support.touch){d.bind("touchstart",this._onSvgTouchstart.bind(this));d.bind("touchend",this._onSvgTouchend.bind(this));d.bind("touchmove",this._onSvgTouchmove.bind(this));g.bind("touchstart",this._onSvgTouchstart.bind(this));g.bind("touchend",this._onSvgTouchend.bind(this));g.bind("touchmove",this._onSvgTouchmove.bind(this));}};
m.prototype._getMouseOrTouchPoint=function(o){if(o.targetTouches&&o.targetTouches.length>0){return o.targetTouches[o.targetTouches.length-1];}else if(o.changedTouches&&o.changedTouches.length>0){return o.changedTouches[o.changedTouches.length-1];}return{"pageX":o.pageX,"pageY":o.pageY};};
m.prototype._onTouchScrollStart=function(o){if(D.system.combi||D.system.phone||D.system.tablet){this._aTouchStartPosition=null;this._bIsScrollVertical=null;var t=this._getMouseOrTouchPoint(o);this._aTouchStartPosition=[t.pageX,t.pageY];var v=this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar);if(v){this._iTouchScrollTop=v.scrollTop;}var H=this._oTT.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar);if(H){this._iTouchScrollLeft=H.scrollLeft;}}};
m.prototype._onTouchScroll=function(o){if((D.system.combi||D.system.phone||D.system.tablet)&&this._aTouchStartPosition){var t=this._getMouseOrTouchPoint(o);var d=(t.pageX-this._aTouchStartPosition[0]);var i=(t.pageY-this._aTouchStartPosition[1]);if(this._bIsScrollVertical==null){this._bIsScrollVertical=Math.abs(i)>Math.abs(d);}if(this._bIsScrollVertical){var v=sap.ui.table.SharedDomRef.VerticalScrollBar;var g=this._oTT.getDomRef(v);if(g){var s=this._iTouchScrollTop-i;if(s>0&&s<(this._oTT.getDomRef(v+"-content").clientHeight-g.clientHeight)-1){this._preventBubbleAndDefault(o);}g.scrollTop=s;}}else{var H=sap.ui.table.SharedDomRef.HorizontalScrollBar;var j=this._oTT.getDomRef(H);if(j){var k=this._iTouchScrollLeft-d;if(k>0&&k<(this._oTT.getDomRef(H+"-content").clientWidth-j.clientWidth)-1){this._preventBubbleAndDefault(o);}j.scrollLeft=k;}}this._bScrolling=true;}};
m.prototype._onMouseWheel=function(o){var O=o.originalEvent;var i=O.shiftKey;var s=0;if(D.browser.firefox){s=O.detail;}else{if(i){if(D.browser.msie||D.browser.edge){s=O.deltaY;}else{s=O.deltaX;}}else{s=O.deltaY;}}if(i){var H=sap.ui.table.SharedDomRef.HorizontalScrollBar;var d=this._oTT.getDomRef(H);if(d){var g=d.scrollLeft+s;if(g>0&&g<(this._oTT.getDomRef(H+"-content").clientWidth-d.clientWidth)-1){this._preventBubbleAndDefault(o);}d.scrollLeft=g;}}else{var v=sap.ui.table.SharedDomRef.VerticalScrollBar;var j=this._oTT.getDomRef(v);if(j){var k=j.scrollTop+s;if(k>0&&k<(this._oTT.getDomRef(v+"-content").clientHeight-j.clientHeight)-1){this._preventBubbleAndDefault(o);}j.scrollTop=k;}}};
m.prototype.handleExpandChartChange=function(d,g,s){s=s?s:this._oTT.getSelectedIndices();if(s.length>0){this._updateRowStatusMap(d,g,s);this._oTT.updateRows();}};
m.prototype.invertRowExpandStatus=function(s,d){s=s?s:this._oTT.getSelectedIndices();if(s.length>0&&d){for(var i=0;i<s.length;i++){var I=s[i];var g=this._ifRowExpanded(I,d);if(g!==null){this._updateRowStatusMap(!g,d,[I]);}}this._oTT.updateRows();}};
m.prototype._ifRowExpanded=function(i,d){var t=this._oTT;var B=t.getBinding();var o=B.getContextByIndex(i);var g=null;if(o){var j=o.getObject();var u=j.uid;var s=this._getRowSpanWithData(j,d),k=s.name;if(u&&this._oRowStatusMap[u]&&this._oRowStatusMap[u][k]){g=true;}else{g=false;}}return g;};
m.prototype._updateRowStatusMap=function(d,g,j){var t=this._oTT;var B=t.getBinding();for(var i=0;i<j.length;i++){var I=j[i];var o=B.getContextByIndex(I);if(o){var k=o.getObject();var u=k.uid;if(u){var s=this._getRowSpanWithData(k,g),l=s.name;if(d){if(this._oRowStatusMap[u]){this._oRowStatusMap[u][l]=s;}else{this._oRowStatusMap[u]={};this._oRowStatusMap[u][l]=s;}}else if(!d&&this._oRowStatusMap[u]){delete this._oRowStatusMap[u][l];delete this._oRowStatusMap[u].visibleRowSpan;if(q.isEmptyObject(this._oRowStatusMap[u])){delete this._oRowStatusMap[u];continue;}}this._getDrawingData([I,I]);}}}};
m.prototype.isRowExpanded=function(){var r=!q.isEmptyObject(this._oRowStatusMap);return r;};
m.prototype._getRowSpanWithData=function(s,d){var r=1,g=null,i=null;for(var k=0;k<d.length;k++){var j=d[k];var M;if(this._oChartSchemesConfigMap[j]&&this._oChartSchemesConfigMap[j].getModeKey()){M=this._oChartSchemesConfigMap[j].getModeKey();}else{M=this.getMode();}if(this._oObjectTypesConfigMap[s.type]&&this._oObjectTypesConfigMap[s.type].getExpandedChartSchemeKeys().length>0){var v=this._oObjectTypesConfigMap[s.type].getExpandedChartSchemeKeys();if($.inArray(j,v)>-1){var o=this._collectDataNameForValidChartScheme(j,M);if(o){i=o.drawData;r+=o.rowSpan;g=j;}}}}return{rowSpan:r,name:g,data:i};};
m.prototype._updateTableRowHeights=function(){if(this._aHeights){this._oTT._updateRowHeader(this._aHeights);}};
m.prototype.notifySourceChange=function(){this._oTT.setFirstVisibleRow(0);this.resetRowStatusMap();};
m.prototype.resetRowStatusMap=function(){this._oRowStatusMap={};};
m.prototype._collectDataNameForValidChartScheme=function(s,M){if(this._oChartSchemesConfigMap[s]){var d=[],r;var g=this._oChartSchemesConfigMap[s].getShapeKeys();r=this._oChartSchemesConfigMap[s].getRowSpan();var t=this;q.each(g,function(k,v){if(t._oShapesConfigMap[v]){var i=t._oShapesConfigMap[v].getModeKeys();if((i&&i.length>0&&$.inArray(M,i)>-1)||i.length==0||M==sap.gantt.config.DEFAULT_MODE_KEY){d.push(t._oShapesConfigMap[v].getShapeDataName());}}});if(d.length>0&&r>=1){return{"drawData":d,"rowSpan":r};}}};
m.prototype._composeParameterForClickPosition=function(d){var s=q("#"+this.getId()+"-svg");var o=this._getSvgCoodinateByDiv(s[0],d.pageX,d.pageY);var x=d.pageX-s.offset().left||d.offsetX;var y=d.pageY-s.offset().top||d.offsetY;if(!this._oAxisOrdinalOfVisibleRow){return null;}var g=this._oAxisTime.viewToTime(x);var l,L=this._oAxisOrdinalOfVisibleRow.viewToRowIndex(y,this._getVisibleRowCount())+this._oTT.getFirstVisibleRow();var i=this._oTT.getContextByIndex(L);if(i){l=this._getRowById(i.getObject()?i.getObject().id:null);}var j=false;var k=this._oAxisOrdinal.viewToElementIndex(y);var n=this._aFilteredRowData[k];if(n&&n.index&&n.index!==0){j=true;}var p={"startTime":g,"svgPoint":o,"leadingRowNum":L,"leadingRowInfo":l,"rowIndex":k,"rowInfo":n,"isExpandedRow":j};return p;};
m.prototype.getAllRowData=function(){var B=this._oTT.getBinding("rows");return this._getDrawingData([0,B.getLength()-1]);};
m.prototype.getAllSelections=function(){var s=this.getSelectedRows();var d=this.getSelectedShapes();var g=this.getSelectedRelationships();var i={"rows":s,"shapes":d,"relationships":g};return i;};
m.prototype.getSelectedRows=function(){var s=[];var d=this._oTT.getSelectedIndices();var g=this.getAllRowData();var M=[];for(var i=0;i<g.length;i++){if(g[i]&&!g[i].parentId){M.push(g[i]);}}for(var j=0;j<d.length;j++){if(d[j]>-1&&d[j]<M.length&&M[d[j]]){s.push(M[d[j]]);}}return s;};
m.prototype.getSelectedShapes=function(){this._setSelectedStatusFromData(this.getShapeDataNames(),this.getAllRowData());return this._oSelectedShapes;};
m.prototype.getSelectedRelationships=function(){return this._aSelectedRelationships;};
m.prototype.getRowByShapeUid=function(s){return this._getRowByShapeUid(s);};
m.prototype.selectShapes=function(I,d){if(!this._aFilteredRowData||!this._aFilteredRowData.length>0){if(d){this._aShapeIdsToBeSelected=[];}this._aShapeIdsToBeSelected=this._aShapeIdsToBeSelected.concat(I);}var i,j,s,o;if(this._aSelectedShapeUids===undefined){this._aSelectedShapeUids=[];}if(!I||I.length<1){this._oSelectedShapes={};this._aSelectedShapeUids=[];}else if(d){this._oSelectedShapes={};this._aSelectedShapeUids=[];for(i=0;i<I.length;i++){s=this._getShapeDataById(I[i],false);for(j=0;j<s.length;j++){o=s[j];if(this._judgeEnableSelection(o)){this._selectShape(o);}}}}else{for(i=0;i<I.length;i++){s=this._getShapeDataById(I[i],false);for(j=0;j<s.length;j++){o=s[j];if(q.inArray(o.uid,this._aSelectedShapeUids)>-1){continue;}else if(this._judgeEnableSelection(o)){this._selectShape(o);}}}}this._drawSelectedShapes();return this;};
m.prototype.deselectShapes=function(I){if(!I||I.length<1){this._oSelectedShapes={};this._aSelectedShapeUids=[];this._drawSelectedShapes();return this;}for(var i=0;i<I.length;i++){var s=this._getShapeDataById(I[i]);for(var j=0;j<s.length;j++){this._deselectShape(s[j]);}}this._drawSelectedShapes();return this;};
m.prototype.selectRowsAndShapes=function(I,d){if(!I||I.length<1){this.deselectShapes();this.deselectRows();return this;}this.selectRows(I,d);if(d){this._oSelectedShapes={};this._aSelectedShapeUids=[];}if(!this._aSelectedShapeUids){this._aSelectedShapeUids=[];}for(var g in I){var s=I[g];var r=this._getRowById(s);if(r){for(var j in r.data){if(r.data[j]instanceof Array){for(var i=0;i<r.data[j].length;i++){var o=r.data[j][i];if(q.inArray(o.uid,this._aSelectedShapeUids)<0){this._selectShape(o);}}}}}}this._drawSelectedShapes();return this;};
m.prototype.selectRelationships=function(I,d){var i,r;if(!this._aSelectedRelationships){this._aSelectedRelationships=[];}if(!I||I.length<1){if(this._aSelectedRelationships.length>0){this._aSelectedRelationships=[];this._drawSelectedShapes();}return this;}if(d){this._aSelectedRelationships=[];for(i=0;i<I.length;i++){r=this._getShapeDataById(I[i],true)[0];if(r&&this._judgeEnableSelection(r)){this._aSelectedRelationships.push(r);}}}else{for(i=0;i<I.length;i++){r=this._getShapeDataById(I[i],true)[0];if(!r||q.inArray(r,this._aSelectedRelationships)>=0){continue;}else if(this._judgeEnableSelection(r)){this._aSelectedRelationships.push(r);}}}this._drawSelectedShapes();return this;};
m.prototype.deselectRelationships=function(I){var u=[];if(!I||I.length<1){this._aSelectedRelationships=[];this._drawSelectedShapes();return this;}if(I){for(var i=0;i<I.length;i++){var d=this._getUidById(I[i],true)[0];if(d!==undefined){u.push(d);}}}for(var j in this._aSelectedRelationships){var s=this._aSelectedRelationships[j];if(q.inArray(s.uid,u)>-1){var g=this._aSelectedRelationships.indexOf(s);this._aSelectedRelationships.splice(g,1);}}this._drawSelectedShapes();return this;};
m.prototype.selectRows=function(i,I){var B=this.getAllRowData();var s=this._oTT.getSelectedIndices();if(I&&s.length>0){this._oTT.clearSelection();}for(var d=0;d<B.length;d++){if(q.inArray(B[d].id,i)>-1&&q.inArray(d,s)<0){var g=this._oTT.getSelectionMode();if(g===sap.ui.table.SelectionMode.Multi||g===sap.ui.table.SelectionMode.MultiToggle){this._oTT.addSelectionInterval(d,d);}else{this._oTT.setSelectedIndex(d);}}}return this;};
m.prototype.deselectRows=function(I){if(!I||I.length<1){this._oTT.clearSelection();return this;}var s=this._oTT.getSelectedIndices();var B=this.getAllRowData();for(var i=0;i<s.length;i++){var d=s[i];if(q.inArray(B[d].id,I)>-1){this._oTT.removeSelectionInterval(d,d);}}return this;};
m.prototype.expandToLevel=function(l){this._oTT.expandToLevel(l);return this;};
m.prototype._isRelationship=function(s){if(U.getShapeDataNameByUid(s)===sap.gantt.shape.ShapeCategory.Relationship){return true;}return false;};
m.prototype._onRowSelectionChange=function(o){this.fireRowSelectionChange({originEvent:o});};
m.prototype._selectionChange=function(s,d,g,o){if(this._aSelectedRelationships==undefined){this._aSelectedRelationships=[];}if(this._aSelectedShapeUids==undefined){this._aSelectedShapeUids=[];}var i=false;var r=false;var t=s.uid;var j=this._isRelationship(t);if((d&&this.getSelectionMode()===sap.gantt.SelectionMode.MultiWithKeyboard)||this.getSelectionMode()===sap.gantt.SelectionMode.Multiple){if(!j){if(this._aSelectedShapeUids!==undefined&&q.inArray(t,this._aSelectedShapeUids)>-1){if(!this._bDragging){i=this._deselectShape(s);}}else{i=this._selectShape(s);}}else{if(q.inArray(s,this._aSelectedRelationships)<0){this._aSelectedRelationships.push(s);}else{var k=this._aSelectedRelationships.indexOf(s);this._aSelectedRelationships.splice(k,1);}r=true;}}else if(!j){if((q.inArray(t,this._aSelectedShapeUids)<0||this._aSelectedShapeUids.length>1)&&!this._bDragging){this._oSelectedShapes={};this._aSelectedShapeUids=[];i=true;}if(q.inArray(t,this._aSelectedShapeUids)<0){var u=this._selectShape(s);if(!i&&u){i=true;}}if(this._aSelectedRelationships.length>0){this._aSelectedRelationships=[];r=true;}}else{if((q.inArray(s,this._aSelectedRelationships)<0)||this._aSelectedRelationships.length>1){this._aSelectedRelationships=[];this._aSelectedRelationships.push(s);r=true;}if(this._aSelectedShapeUids!==undefined&&this._aSelectedShapeUids.length>0){this._oSelectedShapes={};this._aSelectedShapeUids=[];i=true;}}if(i||r){this._drawSelectedShapes();}return{shapeSelectionChange:i,relationshipSelectionChange:r};};
m.prototype._setSelectedStatusToData=function(){var d=this.getAllRowData();if(d&&d.length>0&&this._aShapeIdsToBeSelected.length>0){for(var k in this._aShapeIdsToBeSelected){var s=this._getShapeDataById(this._aShapeIdsToBeSelected[k],false);for(var l in s){this._selectShape(s[l]);}}}for(var r in d){var o=d[r];for(var g in o.data){var n=o.data[g];if(n instanceof Array){for(var I=0;I<n.length;I++){var p=n[I];if(q.inArray(p.uid,this._aSelectedShapeUids)>-1){p.selected=true;}else{p.selected=false;}}}}}for(var i in this._aRelationships){this._aRelationships[i].selected=false;if(this._aSelectedRelationships!==undefined&&this._aSelectedRelationships.length>0){for(var j in this._aSelectedRelationships){if(this._aRelationships[i].uid===this._aSelectedRelationships[j].uid){this._aRelationships[i].selected=true;}}}}};
m.prototype._setSelectedStatusFromData=function(s,d){this._oSelectedShapes=this._oSelectedShapes?this._oSelectedShapes:{};this._aSelectedShapeUids=this._aSelectedShapeUids?this._aSelectedShapeUids:[];this._bSelectedStatusUpdated=true;var u=[];for(var r in d){var o=d[r];for(var g in o.data){var l=o.data[g];if(l instanceof Array&&q.inArray(g,s)>-1){for(var i=0;i<l.length;i++){var n=l[i];if(q.inArray(n.uid,this._aSelectedShapeUids)>-1){for(var k=0;k<this._oSelectedShapes[g].length;k++){if(this._oSelectedShapes[g][k].shapeUid===n.uid){this._oSelectedShapes[g][k].shapeData=n;this._oSelectedShapes[g][k].objectInfoRef=o;u.push(n.uid);break;}}}else if(n.selected){this._oSelectedShapes[g]=this._oSelectedShapes[g]?this._oSelectedShapes[g]:[];this._oSelectedShapes[g].push({"shapeUid":n.uid,"shapeData":n,"objectInfoRef":o});this._aSelectedShapeUids.push(n.uid);u.push(n.uid);}}}}}if(u.length<1){this._oSelectedShapes={};}else{for(var p in this._oSelectedShapes){for(var t=this._oSelectedShapes[p].length-1;t>=0;t--){var v=this._oSelectedShapes[p][t];if(q.inArray(v.shapeUid,u)<0){this._oSelectedShapes[p].splice(t,1);}}}}this._aSelectedShapeUids=u;this._aSelectedRelationships=this._aSelectedRelationships?this._aSelectedRelationships:[];var w=[];for(var j in this._aRelationships){var x=false;for(var I=0;I<this._aSelectedRelationships.length;I++){if(this._aSelectedRelationships[I].uid===this._aRelationships[j].uid){w.push(this._aRelationships[j]);x=true;break;}}if(!x&&this._aRelationships[j].selected){w.push(this._aRelationships[j]);}}this._aSelectedRelationships=w;};
m.prototype._syncTTSelection=function(d){q.sap.measure.start("GanttChart syncTTSelection","GanttPerf:GanttChart syncTTSelection function");var t=this._getMouseOrTouchPoint(d);var s=d.shiftKey;var g=d.ctrlKey;var i=q("#"+this.getId()+"-svg")[0];var o=this._getSvgCoodinateByDiv(i,t.pageX,t.pageY);var r=parseInt(this._oAxisOrdinalOfVisibleRow.viewToElementIndex(o.y),10);if(r<0){return false;}var v=this._oTT.getRows();var I,j=d3.select("#"+v[r].getId());if(r<v.length&&j&&j.attr("data-sap-ui-rowindex")){I=this._oTT.getFirstVisibleRow()+parseInt(j.attr("data-sap-ui-rowindex"),10);}var k=this._oTT.getSelectionMode();if(I>=0&&k!==sap.ui.table.SelectionMode.None){if(k===sap.ui.table.SelectionMode.Single){if(!this._oTT.isIndexSelected(I)){this._oTT.setSelectedIndex(I);}else{this._oTT.clearSelection();}}else{g=true;if(s){var l=this._oTT.getSelectedIndex();if(l>=0){if(l<I){this._oTT.addSelectionInterval(l,I);}else{this._oTT.addSelectionInterval(I,l);}}else{this._oTT.setSelectedIndex(I);}}else if(!this._oTT.isIndexSelected(I)){if(g){this._oTT.addSelectionInterval(I,I);}else{this._oTT.setSelectedIndex(I);}}else if(g){this._oTT.removeSelectionInterval(I,I);}else if(this._oTT.getSelectedIndices().length>1){this._oTT.setSelectedIndex(I);}}}q.sap.measure.end("GanttChart syncTTSelection");};
m.prototype._setEventStatus=function(s){switch(s){case"dragEnter":this._bDragStart=true;break;case"mouseDown":this._bMouseDown=true;this._bDragging=false;this._bDragStart=false;this._bScrolling=false;break;case"shapeDragStart":this._bDragStart=true;break;case"shapeDragging":if(this._bDragStart){this._bDragging=true;}break;case"mouseUp":this._bMouseDown=false;this._bScrolling=false;break;case"shapeDragEnd":this._bDragging=false;this._bDragStart=false;this._oDraggingData=undefined;break;case"dragLeave":this._bDragging=false;this._bDragStart=false;break;default:break;}};
m.prototype._handleShapeDragStart=function(o){var s=q("#"+this.getId()+"-svg");var d=d3.select(o.target).data()[0];var g=o.target.getAttribute("class").split(" ")[0];if(d!==undefined&&this._judgeEnableDnD(d,g)){var r=this._getRowByShapeUid(d.uid);if(r){var x=o.pageX-s.offset().left||o.offsetX;var y=o.pageY-s.offset().top||o.offsetY;var j,k;if(o.target.getAttribute("x")&&o.target.getAttribute("width")){j=parseInt(o.target.getAttribute("x"),10);k=parseInt(o.target.getAttribute("width"),10);}else if(d.startTime){var l=this._oAxisTime.timeToView(F.abapTimestampToDate(d.startTime));var n=this._oAxisTime.timeToView(F.abapTimestampToDate(d.endTime));if(C.getConfiguration().getRTL()){j=n;k=(l-n)>0?(l-n):1;}else{j=l;k=(n-l)>0?(n-l):1;}}else{j=x;k=1;}var p={"x":x,"y":y,"shapeX":j,"shapeWidth":k};var t=[];t.push({"shapeData":d,"objectInfo":r});for(var u in this._oSelectedShapes){var v=this._oSelectedShapes[u];if(v!==undefined){for(var i in v){if(v[i].shapeUid!==d.uid&&this._judgeEnableDnD(v[i].shapeData)){t.push({"shapeData":v[i].shapeData,"objectInfo":v[i].objectInfoRef});}}}}this._oDraggingData={"sourceShapeData":t,"dragStartPoint":p,"sourceSvgId":this.getId(),"targetSvgId":this.getId(),"domObject":this._getDraggingDomObjs(o)};this._setEventStatus("shapeDragStart");q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).bind("mousemove.ganttChartDragDrop",this._handleShapeDragging.bind(this));q(document).bind("mouseup.ganttChartDragDrop",this._handleShapeDragEnd.bind(this));}}};
m.prototype._getDraggingDomObjs=function(o){var d=d3.select(o.target)[0][0];var s;if(d.parentElement){s=d.parentElement.getAttribute("class");}else if(d.parentNode){s=d.parentNode.getAttribute("class");}if(s){var t=s.split(" ")[0];if(sap.ui.getCore().byId(t)instanceof sap.gantt.shape.Group){return d.parentNode.childNodes;}}return[d];};
m.prototype._handleShapeDragging=function(o){if(!D.support.touch&&(o.button!==0||o.buttons===0||o.ctrlKey)){return false;}var s=q("#"+this.getId()+"-svg");var d=Math.abs((o.pageX-s.offset().left||o.offsetX)-this._oDraggingData.dragStartPoint.x);var j=Math.abs((o.pageY-s.offset().top||o.offsetY)-this._oDraggingData.dragStartPoint.y);if(d>3||j>3){var l=d3.select("#dragDropShadow");var n=l[0];if(this._oDraggingData===undefined){if(!l.empty()){l.remove();}}else{var p=this._oDraggingData.dragStartPoint.shapeX;var r=this._oDraggingData.dragStartPoint.x;if(l.empty()||n===null){this._handleDragWithoutSelection(o);var t=this._oDraggingData.sourceShapeData.length;n=d3.select("body").append("div").attr("id","dragDropShadow");n.classed("sapGanttDraggingShadow",true);var u=[];var w=12;var v=10;var x=12;for(var i=0;i<this._oDraggingData.domObject.length;i++){var y=d3.select(this._oDraggingData.domObject[i]);if(!y.empty()){var z=parseInt(y.attr("width"),10);var B=parseInt(y.attr("height"),10);var H=y.attr("transform");w=z>w?z:w;v=B>v?B:v;var I="";if(H){var J=H.split(")");for(var K=0;K<J.length-1;K++){if(J[K].indexOf("translate")<0){I=I+J[K]+") ";}}I.replace("))",")");}var L=d3.select(this._oDraggingData.domObject[i].cloneNode()).classed("shadow",true).attr("fill-opacity","0.5").attr("x",0).attr("y",0).attr("transform",I);u.push(L);}}var g=n.append("svg").attr("id","dragDropShadowSvg").attr("width",w).append("g").attr("id","dragDropShadowSvgGroup");for(var k=0;k<u.length;k++){g.node().appendChild(u[k].node());}g.append("text").attr("x",w/2-x/2).attr("y",v-x/2+4).attr("fill","blue").attr("font-size",x).text(function(){return t;});}var M=p+(o.pageX-r);var O=o.pageY;d3.select("#dragDropShadow").style("left",M+4+"px");d3.select("#dragDropShadow").style("top",O+4+"px");q(document.body).addClass("sapGanttDraggingCursor");this._setEventStatus("shapeDragging");}}};
m.prototype._handleDragWithoutSelection=function(o){if(q.inArray(this._oDraggingData.sourceShapeData[0].shapeData.uid,this._aSelectedShapeUids)<0){var r=false;if(this.getSelectionMode()!==sap.gantt.SelectionMode.Multiple){if(this._aSelectedShapeUids&&this._aSelectedShapeUids.length>0){this._aSelectedShapeUids=[];this._oSelectedShapes={};this._oDraggingData.sourceShapeData.splice(1,this._oDraggingData.sourceShapeData.length-1);}if(this._aSelectedRelationships&&this._aSelectedRelationships.length>0){this._aSelectedRelationships=[];r=true;}}this._selectShape(this._oDraggingData.sourceShapeData[0].shapeData);this._drawSelectedShapes();this.fireShapeSelectionChange({originEvent:o});if(r){this.fireRelationshipSelectionChange({originEvent:o});}}};
m.prototype._handleShapeDragEnd=function(o){var d=d3.select("#dragDropShadow");if(!d.empty()){d.remove();}if(this._bDragging&&this._oDraggingData!==undefined){var t=this.getId();this._collectDraggingShapeData(this._oDraggingData,o);this.fireShapeDragEnd({originEvent:o,sourceSvgId:this._oDraggingData.sourceSvgId,targetSvgId:t,sourceShapeData:this._oDraggingData.sourceShapeData,targetData:this._oDraggingData.targetData});}q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).removeClass("sapGanttDraggingCursor");this._setEventStatus("shapeDragEnd");};
m.prototype._collectDraggingShapeData=function(d,o){var s=q("#"+this.getId()+"-svg");var x=o.pageX-s.offset().left||o.offsetX;var g=d.dragStartPoint.x;var i=parseInt(x,10)-parseInt(g,10);var j=parseInt(d.dragStartPoint.shapeX,10)+i;var k=j+parseInt(d.dragStartPoint.shapeWidth,10);var n,l;if(C.getConfiguration().getRTL()===true){n=this._oAxisTime.viewToTime(k).getTime();l=this._oAxisTime.viewToTime(j).getTime();}else{n=this._oAxisTime.viewToTime(j).getTime();l=this._oAxisTime.viewToTime(k).getTime();}var p=this._composeParameterForClickPosition(o);var r=p?p.rowInfo:undefined;d.targetData={"mouseTimestamp":{startTime:n,endTime:l},"mode":this.getMode(),"objectInfo":r};};
m.prototype.setDraggingData=function(d){this._oDraggingData=d;if(this._oDraggingData!==undefined){this._oDraggingData.targetSvgId=this.getId();q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).bind("mousemove.ganttChartDragDrop",this._handleShapeDragging.bind(this));q(document).bind("mouseup.ganttChartDragDrop",this._handleShapeDragEnd.bind(this));this._setEventStatus("dragEnter");}};
m.prototype._onSvgMouseEnter=function(o){if(o.button===0&&o.buttons!==0&&o.target&&!this._bDragging&&(o.target.id===this.getId()+"-svg-ctn"||o.target.id===this.getId()+"-svg"||this._mouseInSvgCtn(o))){this.fireChartDragEnter({originEvent:o});}};
m.prototype._onSvgMouseLeave=function(o){if(o.target&&(o.target.id===this.getId()+"-svg-ctn"||o.target.id===this.getId()+"-svg"||!this._mouseInSvgCtn(o))){if(this._bDragStart&&this._oDraggingData!==undefined){this._handleDragLeave(o);}this._destroyCursorLine();this._handleHoverLeave();}};
m.prototype._mouseInSvgCtn=function(o){var d=q("#"+this.getId()+"-svg-ctn");var n=d.width()-((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width());var g=d.height()-this._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar).height();var s=d.offset();var i=(o.pageX||o.clientX)-s.left;var j=(o.pageY||o.clientY)-s.top;if(j>=0&&j<g-2&&i>=0&&i<n-2){return true;}return false;};
m.prototype._onSvgMouseDown=function(o){this._prepareSelection(o);this._prepareDragging(o);};
m.prototype._onSvgMouseMove=function(o){this._drawCursorLine(o);this._handleHover(o);};
m.prototype._onSvgMouseUp=function(o){if(o.button==2){this._handleRightClick(o);}else if(o.button==0&&!this._bDragging&&this._bMouseDown){this._handleSelectionChange(o);}};
m.prototype._onSvgDoubleClick=function(o){if(!this._bDragging&&!o.ctrlKey&&!o.shiftKey){var p=this._composeParameterForClickPosition(o);this.fireChartDoubleClick({objectInfo:p?p.rowInfo:undefined,leadingRowInfo:p?p.leadingRowInfo:undefined,timestamp:p?p.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:p?p.svgPoint:undefined,effectingMode:this.getMode(),originEvent:o});}};
m.prototype._onSvgTouchstart=function(o){this._prepareSelection(o);this._onTouchScrollStart(o);};
m.prototype._onSvgTouchmove=function(o){this._onTouchScroll(o);};
m.prototype._onSvgTouchend=function(o){if(!this._bScrolling){this._handleSelectionChange(o);}else{this._setEventStatus("mouseUp");this._oLastSelectedShape=undefined;}};
m.prototype._preventBubbleAndDefault=function(o){o.preventDefault();o.stopPropagation();};
m.prototype._prepareSelection=function(o){if(!D.support.touch&&o.button!==0){return false;}if(!this._bDragging){var s=d3.select(o.target).data()[0];var d;if(o.target.getAttribute("class")){d=o.target.getAttribute("class").split(" ")[0];}if(d&&s&&this._judgeEnableSelection(s,d)){this._oLastSelectedShape=s;}this._setEventStatus("mouseDown");}};
m.prototype._prepareDragging=function(o){if(o.button==0){var s=d3.select(o.target).data()[0];var d;if(o.target.getAttribute("class")){d=o.target.getAttribute("class").split(" ")[0];}if(d&&s&&this._judgeEnableSelection(s,d)){if(this._bMouseDown){this._handleShapeDragStart(o);}this._preventBubbleAndDefault(o);}}};
m.prototype._handleRightClick=function(o){var p=this._composeParameterForClickPosition(o);this.fireChartRightClick({objectInfo:p?p.rowInfo:undefined,leadingRowInfo:p?p.leadingRowInfo:undefined,timestamp:p?p.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:p?p.svgPoint:undefined,effectingMode:this.getMode(),originEvent:o});};
m.prototype._handleClick=function(o){var p=this._composeParameterForClickPosition(o);this.fireChartClick({objectInfo:p?p.rowInfo:undefined,leadingRowInfo:p?p.leadingRowInfo:undefined,timestamp:p?p.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:p?p.svgPoint:undefined,effectingMode:this.getMode(),originEvent:o});};
m.prototype._drawCursorLine=function(o){if(this.getEnableCursorLine()){var s=q("#"+this.getId()+"-svg");var d=this._getSvgCoodinateByDiv(s[0],o.pageX||o.clientX,o.pageY||o.clientY);this._oCursorLineDrawer.drawSvg(d3.selectAll(".sapGanttChartSvg"),d3.selectAll(".sapGanttChartHeaderSvg"),this.getLocale(),d);}};
m.prototype._destroyCursorLine=function(){if(this.getEnableCursorLine()){this._oCursorLineDrawer.destroySvg(d3.selectAll(".sapGanttChartSvg"),d3.selectAll(".sapGanttChartHeaderSvg"));}};
m.prototype._handleHover=function(o){var p=this._composeParameterForClickPosition(o);var r=p?p.leadingRowNum-this._oTT.getFirstVisibleRow():-1;r=r<0?-1:r;var d=p?p.isExpandedRow:false;var s=d3.select(o.target).data()[0];if(r>-1&&((s!==undefined&&s.uid!==this._lastHoverShapeUid)||(s===undefined&&this._lastHoverShapeUid!==undefined)||r!==this._lastHoverRowIndex)){this.fireChartMouseOver({objectInfo:p?p.rowInfo:undefined,leadingRowInfo:p?p.leadingRowInfo:undefined,timestamp:p?p.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:p?p.svgPoint:undefined,effectingMode:this.getMode(),originEvent:o});if(s!==undefined){this._lastHoverShapeUid=s.uid;}else{this._lastHoverShapeUid=undefined;}}if(r>-1&&r!==this._lastHoverRowIndex){var t=this._oTT;var H=t.getRows()[r];if(H){t.$().find(".sapUiTableRowHvr").trigger("mouseout");if(!d){H.$().trigger("mouseover");}}}if(r!==this._lastHoverRowIndex){this._lastHoverRowIndex=r;}};
m.prototype._handleDragLeave=function(o){this._oDraggingData.targetSvgId=undefined;this._setEventStatus("dragLeave");this.fireChartDragLeave({originEvent:o,draggingSource:this._oDraggingData});};
m.prototype._handleHoverLeave=function(){var t=this._oTT;t.$().find(".sapUiTableRowHvr").trigger("mouseleave");this._lastHoverShapeUid=undefined;this._lastHoverRowIndex=-1;};
m.prototype._handleSelectionChange=function(o){this._aShapeIdsToBeSelected=[];var s=d3.select(o.target).data()[0];var d;if(o.target.getAttribute("class")){d=o.target.getAttribute("class").split(" ")[0];}var g={};if(s!==undefined&&this._judgeEnableSelection(s,d)&&this._oLastSelectedShape!==undefined&&this._oLastSelectedShape.uid===s.uid){g=this._selectionChange(s,o.ctrlKey,o.shiftKey,o);}else if(this.getSelectionMode()===sap.gantt.SelectionMode.MultiWithKeyboard){var p=this._composeParameterForClickPosition(o);if(p&&!p.isExpandedRow){this._syncTTSelection(o);this._oLastSelectedShape=undefined;}else{return null;}}else{if(this._aSelectedShapeUids!==undefined&&this._aSelectedShapeUids.length>0){this._oSelectedShapes={};this._aSelectedShapeUids=[];g.shapeSelectionChange=true;}if(this._aSelectedRelationships.length>0){this._aSelectedRelationships=[];g.relationshipSelectionChange=true;}if(g.shapeSelectionChange||g.relationshipSelectionChange){this._drawSelectedShapes();}}this._setEventStatus("mouseUp");this._oLastSelectedShape=undefined;if(g.shapeSelectionChange){this.fireShapeSelectionChange({originEvent:o});}if(g.relationshipSelectionChange){this.fireRelationshipSelectionChange({originEvent:o});}this._handleClick(o);};
m.prototype._onTTHScrollAfterRendering=function(){this._updateScrollLeft(true);var d=q(this._oTT.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar));d.unbind("scroll.sapUiTableHScroll");d.unbind("scroll.sapUiTableHScrollForGanttChart",this._onHSbScroll);d.bind("scroll.sapUiTableHScrollForGanttChart",q.proxy(this._onHSbScroll,this));};
m.prototype._getSvgHeight=function(){return this._oTT.$().find(".sapUiTableCCnt").height();};
m.prototype._getRowHeights=function(){return this._aHeights;};
m.prototype.setBaseRowHeight=function(n){this.setProperty("baseRowHeight",n);this._oTT.setRowHeight(n);};
m.prototype._setInferedBaseRowHeight=function(n){this._iInferedBaseRowHeight=n;};
m.prototype.getBaseRowHeight=function(){return this._iInferedBaseRowHeight?this._iInferedBaseRowHeight:this._iInferedBaseRowHeightOnTT;};
m.prototype._initialSvgDrawing=function(){if(this.getBaseRowHeight()&&this._iSvgHeight!=this._getSvgHeight()){this._iSvgHeight=this._getSvgHeight();this._bTableReady=true;var o=this._oTT.getContextByIndex(0);var d=o?o.getObject():undefined;var u=d?d.uid:undefined;this._onTTRowUpdate();if(!u){this._oTT.updateRows();}}};
m.prototype._onHSbScroll=function(o){var d=this._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar);var n=(C.getConfiguration().getRTL()&&D.browser.firefox)?d.scrollLeftRTL():d.scrollLeft();this.updateLeftOffsetRate(n);this._draw(false);if(this._scrollFlag){delete this._scrollFlag;return;}this.fireHorizontalScroll({scrollSteps:n,leftOffsetRate:this._fLeftOffsetRate});};
m.prototype._onVSbScroll=function(){this._bSelectedStatusUpdated=true;if(!this._mTimeouts._drawSvg){this.$().find(".sapGanttChartSvg").css("transform",this._oTT.$().find(".sapUiTableCtrlRowScroll").css("transform"));}this.fireVerticalScroll({scrollSteps:this._oTT.getFirstVisibleRow(),scrollPosition:q(this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar)).scrollTop()});};
m.prototype._hSbScrollLeft=function(n){var d=q("#"+this.getId()+"-svg-ctn");var g=q("#"+this.getId()+"-header");var i;if(C.getConfiguration().getRTL()===true){i=this._oStatusSet.aViewBoundary[1]-g.width()-n;if(i<0){i=0;}}else{i=n;}if(C.getConfiguration().getRTL()===true&&D.browser.firefox){if(Math.abs(d.scrollLeftRTL()-i)>1){d.scrollLeftRTL(i);}if(Math.abs(g.scrollLeftRTL()-i)>1){g.scrollLeftRTL(i);}}else{if(Math.abs(d.scrollLeft()-i)>1){d.scrollLeft(i);}if(Math.abs(g.scrollLeft()-i)>1){g.scrollLeft(i);}}};
m.prototype.updateLeftOffsetRate=function(n,d){var H=sap.ui.table.SharedDomRef.HorizontalScrollBar;var g=d?d:parseInt(this._oTT.$(H+"-content").width(),0);var i=q("#"+this.getId()+"-svg-ctn").width()-((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width());if(g-i!==0){if(C.getConfiguration().getRTL()===true&&D.browser.msie){this._fLeftOffsetRate=(g-n-i)/(g-i);}else{this._fLeftOffsetRate=n/(g-i);}this._fLeftOffsetRate=this._fLeftOffsetRate<0?0:this._fLeftOffsetRate;this._fLeftOffsetRate=this._fLeftOffsetRate>1?1:this._fLeftOffsetRate;}return this._fLeftOffsetRate;};
m.prototype.jumpToPosition=function(v){if(!isNaN(v)&&!(v instanceof Date)&&!(v instanceof Array)){this._fLeftOffsetRate=v;this._updateScrollLeft();return;}if(v instanceof Date){this._oDateToJump=[v];this._draw(false);return;}if(v instanceof Array){this._oDateToJump=v;this._draw(false);return;}this._oDateToJump=[null];this._draw(false);};
m.prototype._onTTRowUpdate=function(){if(this._bTableReady){this._syncSvgHeightWithTT();this._syncSvgDataWithTT();if(!q.isEmptyObject(this._oRowStatusMap)){var o=this._oTT.getContextByIndex(0);var d=o?o.getObject():undefined;var u=d?d.uid:undefined;if(!u){this._syncSvgDataWithTT();}}this._draw(true);}};
m.prototype._updateDataString=function(){var s=JSON.stringify(this._aFilteredRowData,function(k,v){if(k==="bindingObj"||k==="contextObj"){return undefined;}return v;});if(this._sShapeData&&s===this._sShapeData){this._sShapeData=s;return false;}else{this._sShapeData=s;return true;}};
m.prototype._syncSvgHeightWithTT=function(){var d=this.$().find(".sapGanttChartSvgCtn");d.height(this._getSvgHeight());var g=this.$().find(".sapGanttChartSvg");g.height(this._oTT.$().find(".sapUiTableCtrlRowScroll").height());};
m.prototype._syncSvgDataWithTT=function(){var B=this._oTT.getBinding("rows");if(!B){return false;}var j=B.getMetadata().getName()==="sap.ui.model.json.JSONTreeBinding";var i=this._oTT.getFirstVisibleRow();var v=this._getVisibleRowCount();this._aFilteredRowData=[];this._aNonVisibleShapeData=[];var _=[];var d=[];var g=[i,i+v-1];var I=this._aRelationshipsContexts&&this._aRelationshipsContexts.length>0;if(j){if(I){B.getContexts(0,0);if(i>0){_=this._getDrawingData([0,i-1]);}d=this._getDrawingData([i+v,B.getLength()-1]);B.getContexts(g[0],g[1]);}this._aFilteredRowData=this._getDrawingData(g);}else{if(I){if(i>0){_=this._createShapeDataFromRowContexts(B.getContexts(0,i));}d=this._createShapeDataFromRowContexts(B.getContexts(i+v,B.getLength()));}var r=B.getContexts(i,v);this._aFilteredRowData=this._createShapeDataFromRowContexts(r);}this._aNonVisibleShapeData=_.concat(d);var s=this.getShapeDataNames();U.generateRowUid(this._aFilteredRowData,this._oObjectTypesConfigMap,s);if(!this._bSelectedStatusUpdated){this._setSelectedStatusFromData(s,this._aFilteredRowData);}var k=this.getBaseRowHeight();if(!k){k=0;}this._oAxisOrdinal=this._createAxisOrdinal(this._aFilteredRowData,k,0);this._cacheObjectPosition(this._aFilteredRowData,this._oAxisOrdinal);this._cacheObjectPosition(_,this._oAxisOrdinal,true);this._cacheObjectPosition(d,this._oAxisOrdinal,false);if(!this._aVisibleRange||this._aVisibleRange[0]!==g[0]||this._aVisibleRange[1]!==g[1]){this._aVisibleRange=g;return true;}return false;};
m.prototype._createShapeDataFromRowContexts=function(r){var s=this.getShapeDataNames();var B=this._oTT.getBinding("rows");var M=B.getModel();var d=[];for(var i=0;i<r.length;i++){if(r[i]!=undefined){if(s&&s.length>0){for(var j=0;j<s.length;j++){var g=s[j];var l=r[i].getProperty(g);var o;if(l){for(var k=0;k<l.length;k++){var n=l[k];o=M.getData("/"+n);d.push({"bindingObj":B,"contextObj":r[i],"data":r[i].getObject(),"shapeData":[o],"id":o.id,"shapeName":g,"rowIndex":i});}}}}else{d.push({"bindingObj":B,"contextObj":r[i],"data":r[i].getObject(),"shapeData":[r[i].getObject()],"id":r[i].getObject().id,"shapeName":undefined,"rowIndex":i});}}}return d;};
m.prototype._cacheObjectPosition=function(o,d,g){if(o&&o.length>0){if(g===true){for(var i=0;i<o.length;i++){o[i].y=-100;o[i].rowHeight=d.getViewBandWidth();}}else if(g===false){for(var j=0;j<o.length;j++){o[j].y=d.getViewRange()[1]+100;o[j].rowHeight=d.getViewBandWidth();}}else{var v=[];var l=[];for(var k=0;k<o.length;k++){o[k].y=d.elementToView(o[k].uid);if(k>0){o[k-1].rowHeight=o[k].y-o[k-1].y;}if(o[k].visibleRowSpan){o[k].visibleRowHeight=o[k].visibleRowSpan*d.getViewBandWidth();v.push(o[k].uid);l.push(o[k].visibleRowSpan);}}o[o.length-1].rowHeight=d.getViewRange()[1]-o[o.length-1].y;this._oAxisOrdinalOfVisibleRow=new h(v,l,this.getBaseRowHeight(),0);}}};
m.prototype._prepareRelationshipDataFromModel=function(){this._aRelationships=[];if(this._aRelationshipsContexts){for(var i=0;i<this._aRelationshipsContexts.length;i++){var r=this._aRelationshipsContexts[i].getObject();if(r!==undefined){this._aRelationships.push(r);}}}U.generateUidByShapeDataName(this._aRelationships,"relationship");};
m.prototype._createAxisOrdinal=function(s,B,d){var r=s.map(function(o){return o.uid;});var g=s.map(function(o){if(o.rowSpan){return o.rowSpan;}else{return 1;}});return new h(r,g,B,d);};
m.prototype.getFilteredRowData=function(r){return this._aFilteredRowData;};
m.prototype._getDrawingData=function(r){var d=function(H,J,K,L){if(!H[J]){H.push({});}if(!H[J][K]){H[J][K]=[];}H[J][K].push(L);};var i,j,k,l,o,s;var B=this._oTT.getBinding("rows");var g=this._oTT.getBindingInfo("rows");var n=[];for(i=r[0];i<=r[1];i++){var p=this._oTT.getContextByIndex(i);if(!p){continue;}else{o=p.getObject();if(!o){continue;}}var t=1;s=this._oObjectTypesConfigMap[o.type]?this._oObjectTypesConfigMap[o.type].getMainChartSchemeKey():sap.gantt.config.DEFAULT_CHART_SCHEME_KEY;if(o.type){var u=this._oChartSchemesConfigMap[s];if(u){t=u.getRowSpan();}}var v={"bindingObj":B,"bindingInfo":g,"contextObj":p,"data":o,"id":o.id,"rowSpan":t,"chartScheme":s,"rowIndex":i,"index":0,"visibleRowSpan":t};n.push(v);var w=p.getObject();var x=w.uid;if(x&&this._oRowStatusMap[x]){for(s in this._oRowStatusMap[x]){var M;if(this._oChartSchemesConfigMap[s]&&this._oChartSchemesConfigMap[s].getModeKey()&&this._oChartSchemesConfigMap[s].getModeKey()!==sap.gantt.config.DEFAULT_MODE_KEY){M=this._oChartSchemesConfigMap[s].getModeKey();}else{M=this.getMode();}var y=this._collectDataNameForValidChartScheme(s,M);if(y&&y.drawData){var z=0;var H=[{}];for(j=0;j<y.drawData.length;j++){if(!o[y.drawData[j]]){continue;}for(k=0;k<o[y.drawData[j]].length;k++){var I=o[y.drawData[j]][k].rowIndex;if(I&&z<I){z=I;}}}if(z>0){for(j=0;j<y.drawData.length;j++){if(!o[y.drawData[j]]){continue;}for(k=0;k<o[y.drawData[j]].length;k++){var J=o[y.drawData[j]][k].rowIndex;if(J){d(H,J,y.drawData[j],o[y.drawData[j]][k]);}else{for(l=1;l<=z;l++){d(H,l,y.drawData[j],o[y.drawData[j]][k]);}}}}for(j=1;j<=z;j++){n.push({"bindingObj":B,"bindingInfo":g,"data":H[j],"id":o.id,"parentId":v.id,"rowSpan":y.rowSpan,"chartScheme":s,"rowIndex":i,"index":j,"icon":this._oChartSchemesConfigMap[s].getIcon(),"closeIcon":"./image/closeChart.png","name":this._oChartSchemesConfigMap[s].getName()});v.visibleRowSpan+=y.rowSpan;}}}}this._oRowStatusMap[x].visibleRowSpan=v.visibleRowSpan;}}return n;};
m.prototype._prepareVerticalDrawingRange=function(){var n=this._oTT.getBinding("rows").getLength()-1;if(n<0){return[0,-1];}var d=this._oTT.getFirstVisibleRow();var g=d+this._getVisibleRowCount()-1;var i=d;var j=g<n?g:n;return[i,j];};
m.prototype._prepareHorizontalDrawingRange=function(){var n=this._nUpperRange-this._nLowerRange;var d=q("#"+this.getId()+"-svg-ctn").width()-((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width());if(!this._oStatusSet){this._updateScrollWidth();}var g=Math.ceil((this._fLeftOffsetRate?this._fLeftOffsetRate:0)*(n-d));if(this._oStatusSet){if((d>=n||(this._oStatusSet.aViewBoundary[0]<=g-this._oStatusSet.nOffset&&this._oStatusSet.aViewBoundary[1]>=g+d-this._oStatusSet.nOffset))){if(!this._mTimeouts._drawSvg){this._scrollSvg();}return false;}}var i=d*(1+this._fExtendFactor*2);var j=g-d*this._fExtendFactor;if(j<this._nLowerRange){i+=j;j=0;}if(j+i>this._nUpperRange){i=this._nUpperRange-j;}this._oAxisTime.setViewOffset(j);this._oStatusSet={nWidth:i,nOffset:j,nScrollLeft:g,aViewBoundary:[0,i],aTimeBoundary:[this._oAxisTime.viewToTime(0),this._oAxisTime.viewToTime(i)],bRTL:C.getConfiguration().getRTL()};return true;};
m.prototype._updateZoomAndScrollInfo=function(z){if(!this._oDateToJump){return;}var n=this._nUpperRange-this._nLowerRange;var d=q("#"+this.getId()+"-svg-ctn").width()-((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width());var o=this._oDateToJump[0];if(!this._oDateToJump[0]){if(!z.determinedByChartWidth.fSuitableRate){this._oDateToJump=null;return;}z.determinedByConfig.fRate=z.determinedByChartWidth.fSuitableRate;var i=this.getTimeAxis().getInitHorizon();o=F.abapTimestampToDate(i.getStartTime());}else if(this._oDateToJump[1]){var j=this._calZoomScale(this._oDateToJump[0],this._oDateToJump[1],d);var J=z.base.fScale/j;z.determinedByConfig.fRate=z.determinedByChartWidth.fMinRate>J?this._oZoom.determinedByChartWidth.fMinRate:J;o=this._oDateToJump[0];}var g;if(C.getConfiguration().getRTL()===true){if(D.browser.msie){g=n-this._oAxisTime.timeToView(o)-this._oAxisTime.getViewOffset();}else{g=this._oAxisTime.timeToView(o)+this._oAxisTime.getViewOffset()-d;}g=g<0?0:g;}else{g=this._oAxisTime.timeToView(o)+this._oAxisTime.getViewOffset();}this.updateLeftOffsetRate(g,n);this._oDateToJump=null;};
m.prototype._draw=function(d){if(!this._bTableReady){return;}var n=this._nUpperRange-this._nLowerRange;if(n<=2){return;}var g=q("#"+this.getId()+"-svg-ctn").width()-((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width());if(!g||g<=0||g>document.body.clientWidth){return;}var l=this._oZoom.determinedByConfig.fRate;var L=this._oZoom.determinedByChartWidth;var z=this.getZoomInfo();this._updateZoomAndScrollInfo(z);if(z&&z.determinedByChartWidth){if(!L||!U.floatEqual(l,z.determinedByConfig.fRate)||!U.floatEqual(L.fMinRate,z.determinedByChartWidth.fMinRate)){this.fireEvent("_zoomInfoUpdated",{zoomInfo:z});}if(!l||!U.floatEqual(l,z.determinedByConfig.fRate)||!U.floatEqual(this._oAxisTime.getZoomRate(),z.determinedByConfig.fRate)){this.setTimeZoomRate(z.determinedByConfig.fRate);return;}}if(!this._prepareHorizontalDrawingRange()&&!d){return;}this._updateTableRowHeights();var t=this;this._mTimeouts._drawSvg=this._mTimeouts._drawSvg||window.setTimeout(function(){t._drawSvg();},0);};
m.prototype._updateScrollWidth=function(){var n=this._nUpperRange-this._nLowerRange;this._oColumn.setWidth((n-2)+"px");};
m.prototype._updateScrollLeft=function(n){var s=sap.ui.table.SharedDomRef.HorizontalScrollBar;var d=this._oTT.$(s);var g=this._oTT.$(s+"-content");var i=parseInt(g.width(),0);var j=q("#"+this.getId()+"-svg-ctn").width()-((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width());var k=Math.ceil((this._fLeftOffsetRate?this._fLeftOffsetRate:0)*(i-j));if((C.getConfiguration().getRTL()===true&&D.browser.msie)){k=i-k-j;}if((C.getConfiguration().getRTL()===true&&D.browser.firefox)){if(Math.abs(d.scrollLeftRTL()-k)>1){this._scrollFlag=n?undefined:true;d.scrollLeftRTL(k);}}else if(Math.abs(d.scrollLeft()-k)>1){this._scrollFlag=n?undefined:true;d.scrollLeft(k);}};
m.prototype._scrollSvg=function(){var d=q("#"+this.getId()+"-svg");var g=q("#"+this.getId()+"-header-svg");if(Math.abs(this._oStatusSet.nWidth-d.width())>1){d.width(this._oStatusSet.nWidth+((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width()));}if(Math.abs(this._oStatusSet.nWidth-g.width())>1){g.width(this._oStatusSet.nWidth+((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width()));}var n=this._nUpperRange-this._nLowerRange;var i=q("#"+this.getId()+"-svg-ctn").width()-((C.getConfiguration().getRTL())?0:this._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar).width());var j=Math.ceil((this._fLeftOffsetRate?this._fLeftOffsetRate:0)*(n-i));if(C.getConfiguration().getRTL()===true&&!D.browser.msie){this._hSbScrollLeft(this._oStatusSet.nOffset-j+this._oStatusSet.nWidth-i);}else{this._hSbScrollLeft(j-this._oStatusSet.nOffset);}};
m.prototype._drawSvg=function(){q.sap.measure.start("GanttChart _drawSvg","GanttPerf:GanttChart _drawSvg function");this._updateScrollLeft();q("#"+this.getId()+"-svg-ctn").css("visibility","hidden");this._scrollSvg();q("#"+this.getId()+"-svg-ctn").css("visibility","visible");this._sUiSizeMode=U.findSapUiSizeClass(this);this._drawCalendarPattern();this._drawHeader();this._drawNowLine();this._drawVerticalLine();this._drawExpandedBackground();this._drawShapes();this._drawSelectedShapes(true);delete this._mTimeouts._drawSvg;this.$().find(".sapGanttChartSvg").css("transform",this._oTT.$().find(".sapUiTableCtrlRowScroll").css("transform"));this._iFirstVisiableRowIndex=this._oTT.getFirstVisibleRow();this._bCanApplyTableTransform=true;this.fireEvent("_shapesUpdated",{aSvg:q("#"+this.getId()+"-svg")});this._bSelectedStatusUpdated=undefined;q.sap.measure.end("GanttChart _drawSvg");};
m.prototype._drawHeader=function(){var g=q(this.getDomRef()).find(".sapGanttChartHeader");var n=g.height();var H=d3.select(q(this.getDomRef()).find(".sapGanttChartHeaderSvg").get(0));H.attr("height",n);var j=n/5*2;var k=n/5*4;var l=n/5*4;var L=this.getAxisTime().getTickTimeIntervalLabel(this.getAxisTime().getCurrentTickTimeIntervalKey(),null,[0,this._oStatusSet.nWidth]);H.selectAll("g").remove();var o=H.append("g");o.selectAll("label0").data(L[0]).enter().append("text").classed("sapGanttTimeHeaderSvgText0",true).text(function(d){return d.label;}).attr("x",function(d){return d.value;}).attr("y",function(d){return j;}).attr("text-anchor","start");o.selectAll("label1").data(L[1]).enter().append("text").classed("sapGanttTimeHeaderSvgText1",true).text(function(d){return d.label;}).attr("x",function(d){return d.value+(C.getConfiguration().getRTL()?-5:5);}).attr("y",function(d){return l;});if((D.browser.msie||D.browser.edge)&&C.getConfiguration().getRTL()){d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText0").each(function(d,i){d3.select(this).attr("transform",function(d){var O="translate("+(-U.calculateStringLength(d.label)*parseInt($(".sapGanttTimeHeaderSvgText0").css("font-size"),10)/2)+")";return O;});});d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText1").each(function(d,i){d3.select(this).attr("transform",function(d){var O="translate("+(-U.calculateStringLength(d.label)*parseInt($(".sapGanttTimeHeaderSvgText1").css("font-size"),10)/2)+")";return O;});});}var p="";for(var i=0;i<L[1].length;i++){var r=L[1][i];if(r){p+=" M"+" "+(r.value-1/2)+" "+k+" L"+" "+(r.value-1/2)+" "+n;}}o.append("path").classed("sapGanttTimeHeaderSvgPath",true).attr("d",p);};
m.prototype._drawCalendarPattern=function(){var g=d3.select("#"+this.getId()+"-svg");this._oCalendarPatternDrawer.drawSvg(g,this.getId(),this.getCalendarDef(),this._oStatusSet,this.getBaseRowHeight());};
m.prototype._drawNowLine=function(){this._oNowlineDrawer=new N(this._oAxisTime);var g=d3.select("#"+this.getId()+"-header-svg"),d=d3.select("#"+this.getId()+"-svg");if(this.getEnableNowLine()){this._oNowlineDrawer.drawSvg(d,g);}else{this._oNowlineDrawer.destroySvg(d,g);}};
m.prototype._drawVerticalLine=function(){this._oVerticalLineDrawer=new V(this.getAxisTime());var g=d3.select("#"+this.getId()+"-svg");if(this.getEnableVerticalLine()){this._oVerticalLineDrawer.drawSvg(g);}else{this._oVerticalLineDrawer.destroySvg(g);}};
m.prototype._drawExpandedBackground=function(){var s=d3.select("#"+this.getId()+"-svg");if(!this._oTT||!this._oTT.getRows()||this._oTT.getRows().length<=0){return;}if(this._aFilteredRowData){var o=this._composeChartSchemeBackgroundConfig();this._oExpandedBackgroundDrawer.drawSvg(s,this._aFilteredRowData,o);}};
m.prototype._composeChartSchemeBackgroundConfig=function(){var o=this._oChartSchemesConfigMap;var B={};if(o){for(var s in o){if(o[s].getHaveBackground()){B[s]=o[s].getBackgroundClass();}}}return B;};
m.prototype._drawShapes=function(){var s=d3.select("#"+this.getId()+"-svg");if(this._aFilteredRowData&&this._aShapeInstance&&this._aShapeInstance.length>0){this._collectDataPerShapeId();var r=this._oShapeCrossRowDrawer.generateRelationshipDataSet(s,this._oShapeInstance,this._aNonVisibleShapeData,this.getShapeDataNames(),this._aRelationships,this._oAxisTime,this._oAxisOrdinal);for(var i=0;i<this._aShapeInstance.length;i++){switch(this._aShapeInstance[i].getCategory(null,this._oAxisTime,this._oAxisOrdinal)){case sap.gantt.shape.ShapeCategory.InRowShape:this._oShapeInRowDrawer.drawSvg(s,this._aShapeInstance[i],this._oAxisTime,this._oAxisOrdinal,this._oStatusSet);break;case sap.gantt.shape.ShapeCategory.Relationship:this._aShapeInstance[i].dataSet=this._judgeDisplayableOfRLS(this._aShapeInstance[i])?r:[];this._oShapeCrossRowDrawer.drawSvg(s,this._aShapeInstance[i],this._oAxisTime,this._oAxisOrdinal);break;default:break;}}}};
m.prototype._drawSelectedShapes=function(i){var s=d3.select("#"+this.getId()+"-svg");if(!i){this._setSelectedStatusToData();}this._collectSelectedDataPerShapeId();var r=this._oShapeCrossRowDrawer.generateRelationshipDataSet(s,this._oShapeInstance,this._aNonVisibleShapeData,this.getShapeDataNames(),this._aSelectedRelationships,this._oAxisTime,this._oAxisOrdinal);for(var d in this._oShapeInstance){var o=this._oShapeInstance[d].getAggregation("selectedShape");var g=o.getCategory(null,this._oAxisTime,this._oAxisOrdinal);switch(g){case sap.gantt.shape.ShapeCategory.InRowShape:this._oShapeInRowDrawer.drawSvg(s,o,this._oAxisTime,this._oAxisrdinal,this._oStatusSet);break;case sap.gantt.shape.ShapeCategory.Relationship:o.dataSet=r;this._oShapeCrossRowDrawer.drawSvg(s,o,this._oAxisTime,this._oAxisOrdinal);break;default:break;}}};
m.prototype._collectDataPerShapeId=function(){var j=(this._oTT.getBinding("rows").getMetadata().getName()==="sap.ui.model.json.JSONTreeBinding");var r,s;for(var d in this._oShapeInstance){var g=this._oShapeInstance[d].mShapeConfig.getShapeDataName();this._oShapeInstance[d].dataSet=[];if(this._oShapeInstance[d]._attributeNameBindingMap){this._oShapeInstance[d]._attributeNameBindingMap=undefined;}for(var i=0;i<this._aFilteredRowData.length;i++){r=this._aFilteredRowData[i];if(r.isBlank){continue;}if(!g){this._oShapeInstance[d].dataSet.push({"objectInfoRef":r,"shapeData":r.data});continue;}if(!this._judgeDisplayableByShapeId(r,d)){continue;}if(j){s=r.data[g];}else if(g==r.shapeName){s=r.shapeData;}else{continue;}if(s){this._oShapeInstance[d].dataSet.push({"objectInfoRef":r,"shapeData":s});}}}};
m.prototype._collectSelectedDataPerShapeId=function(){for(var s in this._oShapeInstance){var d=this._oShapeInstance[s].mShapeConfig.getShapeDataName()?this._oShapeInstance[s].mShapeConfig.getShapeDataName():undefined;var o=this._oShapeInstance[s].getAggregation("selectedShape");var g=o.getCategory(null,this._oAxisTime,this._oAxisOrdinal);o.dataSet=[];if(g==sap.gantt.shape.ShapeCategory.Relationship){var k=[];for(var j in this._aSelectedRelationships){var r=this._aSelectedRelationships[j];if(this._getShapeDataById(r.id,true)!==undefined){k.push(r);}}o.dataSet.push({"shapeData":k});}else if(this._oSelectedShapes[d]!==undefined){for(var i in this._oSelectedShapes[d]){var l=this._oSelectedShapes[d][i];var n=this._getVisibleRowByShapeUid(l.shapeUid);if(n!==undefined&&n!==null&&this._judgeDisplayableByShapeId(n,s)){l.objectInfoRef=n;o.dataSet.push({"objectInfoRef":l.objectInfoRef,"shapeData":[l.shapeData]});}}}}};
m.prototype._judgeDisplayableByShapeId=function(r,s){var d,o,g,M;if(r.chartScheme){d=r.chartScheme;}else{d=this._oObjectTypesConfigMap[r.data.type]?this._oObjectTypesConfigMap[r.data.type].getMainChartSchemeKey():sap.gantt.config.DEFAULT_CHART_SCHEME_KEY;}o=this._oChartSchemesConfigMap[d];if(o==undefined){return false;}g=o.getShapeKeys();M=o.getModeKey()!==sap.gantt.config.DEFAULT_MODE_KEY?o.getModeKey():this.getMode();if((d!==sap.gantt.config.DEFAULT_CHART_SCHEME_KEY&&g.indexOf(s)<0)||(M!==sap.gantt.config.DEFAULT_MODE_KEY&&this._oShapesConfigMap[s].getModeKeys()&&this._oShapesConfigMap[s].getModeKeys().length>0&&this._oShapesConfigMap[s].getModeKeys().indexOf(M)<0)||!r.data){return false;}return true;};
m.prototype._judgeDisplayableOfRLS=function(s){var d=this._oShapesConfigMap[s.mShapeConfig.getKey()]?this._oShapesConfigMap[s.mShapeConfig.getKey()].getModeKeys():[];if(q.inArray(this.getMode(),d)<0&&this.getMode()!==sap.gantt.config.DEFAULT_MODE_KEY){return false;}return true;};
m.prototype._getUidById=function(I,r){var u=[];if(r){for(var i in this._aRelationships){var o=this._aRelationships[i];if(o.id==I){u.push(o.uid);break;}}}else{var d=this.getAllRowData();q.each(d,function(k,v){var g=v;for(var s in g.data){if(g.data[s]instanceof Array){for(var i in g.data[s]){if(g.data[s][i].id==I){u.push(g.data[s][i].uid);}}}}});}return u;};
m.prototype._getShapeDataByUid=function(u,r){if(r){for(var i in this._aRelationships){var o=this._aRelationships[i];if(o.uid===u){return o;}}}else{var d=this._getRowByShapeUid(u);var s=U.getShapeDataNameByUid(u);if(d!==undefined&&d.data[s]!==undefined){for(var j=0;j<d.data[s].length;j++){var g=d.data[s][j];if(g.uid==u){return g;}}}}return undefined;};
m.prototype._getShapeDataById=function(I,r){var s=[];var u=this._getUidById(I,r);for(var i in u){var o=this._getShapeDataByUid(u[i],r);if(o!==undefined){s.push(o);}}return s;};
m.prototype._getRowByShapeUid=function(s){var r;var d=U.getShapeDataNameByUid(s);var j=(this._oTT.getBinding("rows").getMetadata().getName()==="sap.ui.model.json.JSONTreeBinding");var g=U.getChartSchemeByShapeUid(s);var l=this.getAllRowData();q.each(l,function(k,v){var n=v;if(g===""||g===n.chartScheme){if(j&&n.data[d]){for(var i=0;i<n.data[d].length;i++){if(n.data[d][i].uid==s){r=n;return false;}}}else if(n.data.uid===s){r=n;return false;}}});return r;};
m.prototype._getVisibleRowByShapeUid=function(s){var r;var d=U.getShapeDataNameByUid(s);var j=(this._oTT.getBinding("rows").getMetadata().getName()==="sap.ui.model.json.JSONTreeBinding");var g=U.getChartSchemeByShapeUid(s);q.each(this._aFilteredRowData,function(k,v){var l=v;if(g===""||g===l.chartScheme){if(j&&l.data[d]){for(var i=0;i<l.data[d].length;i++){if(l.data[d][i].uid==s){r=l;return false;}}}else if(l.data.uid===s){r=l;return false;}}});return r;};
m.prototype._getRowById=function(r){var d;var g=this.getAllRowData();q.each(g,function(k,v){var i=v;if(i.data.id==r){d=i;return false;}});return d;};
m.prototype._getSvgCoodinateByDiv=function(n,x,y){var o=n.createSVGPoint();o.x=x;o.y=y;o=o.matrixTransform(n.getScreenCTM().inverse());o.svgHeight=n.height.baseVal.value;o.svgId=this.getId()+"-svg";return o;};
m.prototype._getTopShapeInstance=function(s,d){if(d!==undefined){var o=this._getShapeIdById(d);if(o!==undefined&&o!==null){if(o.topShapeId!==undefined){return this._oShapeInstance[o.topShapeId];}else{return this._oShapeInstance[o.shapeId];}}}else{var g=U.getShapeDataNameByUid(s.uid);for(var i in this._oShapeInstance){var j=this._oShapeInstance[i].mShapeConfig.getShapeDataName();if(g===j){var t=this._customerClassIds[i].topShapeId;if(t!==undefined){return this._oShapeInstance[t];}else{return this._oShapeInstance[i];}}}}return undefined;};
m.prototype._judgeEnableSelection=function(s,d){if(s===undefined){return false;}var t=this._getTopShapeInstance(s,d);if(t!==undefined){return t.getEnableSelection(s);}var o=sap.ui.getCore().byId(d);if(o){return o.getEnableSelection(s);}return false;};
m.prototype._judgeEnableDnD=function(s,d){if(s===undefined){return false;}var t=this._getTopShapeInstance(s,d);if(t!==undefined){return t.getEnableDnD(s);}var o=sap.ui.getCore().byId(d);if(o){return o.getEnableDnD(s);}return false;};
m.prototype._selectShape=function(s){var r=this._getRowByShapeUid(s.uid);if(r==undefined){return false;}if(this._aSelectedShapeUids===undefined){this._aSelectedShapeUids=[];}var d=U.getShapeDataNameByUid(s.uid);if(this._oSelectedShapes[d]!==undefined&&this._oSelectedShapes[d]!==null){var g=this._oSelectedShapes[d];if(q.inArray(s.uid,this._aSelectedShapeUids)>-1){return false;}else{this._aSelectedShapeUids.push(s.uid);g.push({"shapeUid":s.uid,"shapeData":s,"objectInfoRef":r});return true;}}else{this._aSelectedShapeUids.push(s.uid);this._oSelectedShapes[d]=[];this._oSelectedShapes[d].push({"shapeUid":s.uid,"shapeData":s,"objectInfoRef":r});return true;}};
m.prototype._deselectShape=function(s){var d=U.getShapeDataNameByUid(s.uid);if(q.inArray(s.uid,this._aSelectedShapeUids)>-1){var I=this._aSelectedShapeUids.indexOf(s.uid);this._aSelectedShapeUids.splice(I,1);var g=this._oSelectedShapes[d];for(var i in g){if(g[i].shapeUid===s.uid){g.splice(i,1);break;}}return true;}return false;};
m.prototype.getAxisOrdinal=function(){return this._oAxisOrdinal;};
m.prototype.getAxisTime=function(){return this._oAxisTime;};
m.prototype.ondblclick=function(o){return null;};
m.prototype.onclick=function(o){return null;};
m.prototype.getSapUiSizeClass=function(){return this._sUiSizeMode;};
m.prototype.setFirstVisibleRow=function(r){this._oTT.setFirstVisibleRow(r);return this;};
m.prototype._getVisibleRowCount=function(){return this._oTT.getVisibleRowCount()+1;};
m.prototype._setLargeDataScrolling=function(l){if(this._oTT._setLargeDataScrolling){this._oTT._setLargeDataScrolling(!!l);}};
m.prototype.exit=function(){this._detachEvents();this._cleanUpTimers();};
m.prototype._cleanUpTimers=function(){for(var k in this._mTimeouts){if(this._mTimeouts[k]){clearTimeout(this._mTimeouts[k]);this._mTimeouts[k]=undefined;}}};
m.prototype.updateTableSize=function(){if(this._oTT._updateTableSizes){this._oTT._updateTableSizes();}};
return m;},true);
sap.ui.predefine('sap/gantt/GanttChartBase',['jquery.sap.global','./library','sap/ui/core/Control',"./misc/Utility","./config/TimeHorizon"],function(q,l,C,U,T){"use strict";
var G=C.extend("sap.gantt.GanttChartBase",{metadata:{"abstract":true,library:"sap.gantt",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},timeZoomRate:{type:"float",defaultValue:1},mode:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},selectionMode:{type:"sap.gantt.SelectionMode",defaultValue:sap.gantt.SelectionMode.MultiWithKeyboard},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},hierarchyKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY},baseRowHeight:{type:"int",group:"Appearance",defaultValue:null},svgDefs:{type:"sap.gantt.def.SvgDefs",defaultValue:null},timeAxis:{type:"sap.gantt.config.TimeAxis",defaultValue:sap.gantt.config.DEFAULT_TIME_AXIS},modes:{type:"array",defaultValue:sap.gantt.config.DEFAULT_MODES},toolbarSchemes:{type:"array",defaultValue:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEMES},hierarchies:{type:"array",defaultValue:sap.gantt.config.DEFAULT_HIERARCHYS},objectTypes:{type:"array",defaultValue:sap.gantt.config.DEFAULT_OBJECT_TYPES},chartSchemes:{type:"array",defaultValue:sap.gantt.config.DEFAULT_CHART_SCHEMES},locale:{type:"sap.gantt.config.Locale",defaultValue:sap.gantt.config.DEFAULT_LOCALE_CET},shapeDataNames:{type:"array",defaultValue:[]},shapes:{type:"array",defaultValue:[]}},aggregations:{rows:{type:"sap.ui.core.Control",multiple:true,singularName:"row",bindable:"bindable",visibility:"public"},relationships:{type:"sap.ui.core.Control",multiple:true,bindable:"bindable",visibility:"public"},calendarDef:{type:"sap.gantt.def.cal.CalendarDefs",multiple:false,bindable:"bindable",visibility:"public"}},events:{ganttChartSwitchRequested:{parameters:{hierarchyKey:{type:"string"}}},splitterResize:{parameters:{id:{type:"string"},oldSizes:{type:"int[]"},newSizes:{type:"int[]"},zoomInfo:{type:"object"}}},horizontalScroll:{parameters:{scrollSteps:{type:"int"}}},verticalScroll:{parameters:{scrollSteps:{type:"int"}}},chartMouseOver:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDoubleClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartRightClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDragEnter:{parameters:{originEvent:{type:"object"}}},chartDragLeave:{parameters:{originEvent:{type:"object"},draggingSource:{type:"object"}}},rowSelectionChange:{parameters:{originEvent:{type:"object"}}},relationshipSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeDragEnd:{parameters:{originEvent:{type:"object"},sourceShapeData:{type:"object[]"},sourceSvgId:{type:"string"},targetData:{type:"object[]"},targetSvgId:{type:"string"}}},treeTableToggleEvent:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}}}}});
G.getMetadata().getAllAggregations()["rows"]._doesNotRequireFactory=true;G.getMetadata().getAllAggregations()["relationships"]._doesNotRequireFactory=true;
G.prototype.init=function(){this._iBaseRowHeight=undefined;};
G.prototype.handleExpandChartChange=function(e,c,s){};
G.prototype.notifySourceChange=function(){};
G.prototype._setLargeDataScrolling=function(L){};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartContainer',["sap/ui/core/Control","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","sap/ui/core/Orientation","./legend/LegendContainer","./control/Toolbar","./control/AssociateContainer","./config/TimeHorizon","./misc/Utility"],function(C,S,a,O,L,T,A,b,U){"use strict";
var G=C.extend("sap.gantt.GanttChartContainer",{metadata:{library:"sap.gantt",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},svgDefs:{type:"sap.gantt.def.SvgDefs",defaultValue:null},modes:{type:"array",defaultValue:sap.gantt.config.DEFAULT_MODES},toolbarSchemes:{type:"array",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEMES},hierarchies:{type:"array",defaultValue:sap.gantt.config.DEFAULT_HIERARCHYS},containerLayouts:{type:"array",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_LAYOUTS},containerLayoutKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY},sliderStep:{type:"int",defaultValue:10},maxNumOfGanttCharts:{type:"int",defaultValue:3}},aggregations:{legendContainer:{type:"sap.gantt.legend.LegendContainer",multiple:false,visibility:"public"},customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem",bindable:"bindable"},ganttCharts:{type:"sap.gantt.GanttChartBase",multiple:true,visibility:"public",singularName:"ganttChart",bindable:"bindable"},_toolbar:{type:"sap.gantt.control.Toolbar",multiple:false,visibility:"hidden"}},events:{ganttChartChangeRequested:{parameters:{action:{type:"string"},ganttChartIndex:{type:"int"},hierarchyKey:{type:"string"},oldHierarchyKey:{type:"string"},containerLayoutKey:{type:"string"}}},customSettingChange:{parameters:{id:{type:"string"},value:{type:"boolean"}}},treeTableToggleEvent:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}}}}});
G.prototype.init=function(){jQuery.sap.measure.start("GanttChartContainer Init","GanttPerf:GanttChartContainer Init function");this._bInitHorizonApplied=false;this._oToolbar=new T({type:sap.gantt.control.ToolbarType.Global,sourceId:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY});this._oToolbar.setSliderStep(this.getSliderStep());this.setAggregation("_toolbar",this._oToolbar);this._oToolbar.attachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.attachLayoutChange(this._onToolbarLayoutChange,this);this._oToolbar.attachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.attachZoomRateChange(this._onToolbarZoomRateChange,this);this._oToolbar.attachSettingsChange(this._onToolbarSettingsChange,this);this._oToolbar.data("holder",this);this._oSplitter=new S({width:"100%",height:"100%",orientation:O.Vertical});this._oSplitter.attachResize(this._onSplitterResize,this);this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oContainerLayoutConfigMap={};this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT;this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT;jQuery.sap.measure.end("GanttChartContainer Init");};
G.prototype.applySettings=function(s,o){var r=C.prototype.applySettings.apply(this,arguments);if(this.getContainerLayouts()&&this.getContainerLayoutKey()){this.switchOrientation(null,true);}return r;};
G.prototype.setModes=function(m){this.setProperty("modes",m);this._oToolbar.setModes(m);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
G.prototype.setSliderStep=function(s){this.setProperty("sliderStep",s);this._oToolbar.setSliderStep(s);return this;};
G.prototype.setTimeZoomRate=function(t){var g=this.getGanttCharts();var i,o;for(i=0;i<g.length;i++){o=g[i];o.setTimeZoomRate(t);}this._setToolbarZoomInfo();return this;};
G.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t);this._oToolbar.setToolbarSchemes(t);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}return this;};
G.prototype.setHierarchies=function(h){this.setProperty("hierarchies",h);this._oToolbar.setHierarchies(h);this._oHierarchyConfigMap={};if(h){for(var i=0;i<h.length;i++){this._oHierarchyConfigMap[h[i].getKey()]=h[i];}}return this;};
G.prototype.setContainerLayouts=function(c){this.setProperty("containerLayouts",c);this._oToolbar.setContainerLayouts(c);this._oContainerLayoutConfigMap={};if(c){for(var i=0;i<c.length;i++){this._oContainerLayoutConfigMap[c[i].getKey()]=c[i];}}if(this.getContainerLayoutKey()){this.switchOrientation(null,true);}return this;};
G.prototype.setEnableCursorLine=function(e){this.setProperty("enableCursorLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableCursorLine(e);}this.getAggregation("_toolbar").setEnableCursorLine(e);return this;};
G.prototype.setEnableNowLine=function(e){this.setProperty("enableNowLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableNowLine(e);}this.getAggregation("_toolbar").setEnableNowLine(e);return this;};
G.prototype.setEnableVerticalLine=function(e){this.setProperty("enableVerticalLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableVerticalLine(e);}this.getAggregation("_toolbar").setEnableVerticalLine(e);return this;};
G.prototype.setEnableTimeScrollSync=function(e){this.setProperty("enableTimeScrollSync",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].detachHorizontalScroll(this._onGanttChartHSBScroll,this);if(e){g[i].attachHorizontalScroll(this._onGanttChartHSBScroll,this);}}this.getAggregation("_toolbar").setEnableTimeScrollSync(e);return this;};
G.prototype.setContainerLayoutKey=function(c){if(this.getProperty("containerLayoutKey")===c){return this;}this.setProperty("containerLayoutKey",c);this._oToolbar.setSourceId(c);if(this.getContainerLayouts()){this.switchOrientation(null,true);}return this;};
G.prototype.setLegendContainer=function(l){this.setAggregation("legendContainer",l);if(l){this._oToolbar.setLegend(new A({content:l.getId()}));}return this;};
G.prototype.addCustomToolbarItem=function(c){this._oToolbar.addCustomToolbarItem(c);};
G.prototype.insertCustomToolbarItem=function(c,i){this._oToolbar.insertCustomToolbarItem(c,i);};
G.prototype.removeCustomToolbarItem=function(c){this._oToolbar.removeCustomToolbarItem(c);};
G.prototype.removeAllCustomToolbarItems=function(){this._oToolbar.removeAllCustomToolbarItems();};
G.prototype.addGanttChart=function(g){if(this.getGanttCharts().length<this.getMaxNumOfGanttCharts()){this.addAggregation("ganttCharts",g);this._insertGanttChart(g);}};
G.prototype.insertGanttChart=function(g,i){if(this.getGanttCharts().length<this.getMaxNumOfGanttCharts()){this.insertAggregation("ganttCharts",g,i);this._insertGanttChart(g,i);}};
G.prototype.removeGanttChart=function(g){this._removeGanttChart(g);this.removeAggregation("ganttCharts",g);};
G.prototype.removeAllGanttCharts=function(){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){this._removeGanttChart(g[i]);}this.removeAllAggregation("ganttCharts");};
G.prototype._insertGanttChart=function(g,i){jQuery.sap.measure.start("GanttChartContainer _insertGanttChart","GanttPerf:GanttChartContainer _insertGanttChart function");if(!g){return;}var r=true;var s="30%";if(this._oSplitter.getContentAreas().length>0){r=false;var f=this.getGanttCharts()[0]._oSplitter;if(f&&f.getContentAreas().length>0){var l=f.getContentAreas()[0].getLayoutData();s=l?l.getSize():s;}}g.setSelectionPanelSize(s);var o=new A({content:g.getId(),layoutData:new a({size:"auto"})});if(i!==0&&!i){this._oSplitter.addContentArea(o);}else{this._oSplitter.insertContentArea(o,i);}this._adjustSplitterLayoutData(true,r);this._oSplitter.triggerResize(true);if(this.getEnableTimeScrollSync()){g.attachHorizontalScroll(this._onGanttChartHSBScroll,this);}g.attachSplitterResize(this._onViewSplitterResize,this);g.attachGanttChartSwitchRequested(this._onGanttChartSwitchRequested,this);g.attachChartDragEnter(this._onChartDragEnter,this);g.attachChartDragLeave(this._onChartDragLeave,this);g.attachShapeDragEnd(this._onChartDragEnd,this);g.attachTreeTableToggleEvent(this._onTreeTableToggle,this);g.attachEvent("_zoomInfoUpdated",this._onZoomInfoUpdated,this);g.attachEvent("_shapesUpdated",this._onShapesUpdated,this);jQuery.sap.measure.end("GanttChartContainer _insertGanttChart");};
G.prototype._onSplitterResize=function(){var g=this.getGanttCharts();if(g){g.forEach(function(o){if(o.updateTableSize){o.updateTableSize();}});}};
G.prototype._adjustSplitterLayoutData=function(n,r){if(r){this._setSelectionPanelLayoutByConfiguration();}var c=this._oSplitter.getContentAreas();var t=this;if(c){c.forEach(function(o,i){if(o.getLayoutData()){if(i%2==0){var l=Math.floor(1/c.length*100);var s=o.getLayoutData().getSize();if(r){s=t.getConfiguredGanttChartLayoutSize(t.getGanttCharts()[i]);}else if(n){s=l+"%";}if(s=="auto"||(!r&&(s=="100%"||c.length==1))){o.getLayoutData().setSize(l+"%");}else{o.getLayoutData().setSize(s);}}else{if(o.getLayoutData().getSize()!=="auto"){o.getLayoutData().setSize("auto");}}}});}};
G.prototype.getConfiguredGanttChartLayoutSize=function(g){var c=this._oContainerLayoutConfigMap[this.getContainerLayoutKey()];var s="auto";if(c){var d=c.getGanttChartLayouts();if(d){for(var i=0;i<d.length;i++){if(d[i]&&g&&d[i].getHierarchyKey()===g.getHierarchyKey()){s=d[i].getGanttChartSize()?d[i].getGanttChartSize():s;break;}}}}return s;};
G.prototype.getConfiguredSelectionPanelLayoutSize=function(){var s="30%";var c=this._oContainerLayoutConfigMap[this.getContainerLayoutKey()];if(c){var d=c.getSelectionPanelSize();s=(d&&d!=="auto")?d:s;}return s;};
G.prototype._setSelectionPanelLayoutByConfiguration=function(r){var s=this.getConfiguredSelectionPanelLayoutSize();var g=this.getGanttCharts();if(g&&s){g.forEach(function(o,i){o.setSelectionPanelSize(s);});}};
G.prototype._removeGanttChart=function(g){var o=g;if((typeof g)==="number"){o=this.getGanttCharts()[g];}if(o){this._oSplitter.removeContentArea(o._oAC);this._adjustSplitterLayoutData(true);this._oSplitter.triggerResize(true);o.detachHorizontalScroll(this._onGanttChartHSBScroll,this);o.detachSplitterResize(this._onViewSplitterResize,this);o.detachGanttChartSwitchRequested(this._onGanttChartSwitchRequested,this);o.detachChartDragEnter(this._onChartDragEnter,this);o.detachChartDragLeave(this._onChartDragLeave,this);o.detachShapeDragEnd(this._onChartDragEnd,this);o.detachTreeTableToggleEvent(this._onTreeTableToggle,this);}};
G.prototype.onBeforeRendering=function(){this._detachEvents();this._oToolbar.setEnableTimeScrollSync(this.getEnableTimeScrollSync());this._oToolbar.setEnableCursorLine(this.getEnableCursorLine());this._oToolbar.setEnableNowLine(this.getEnableNowLine());this._oToolbar.setEnableVerticalLine(this.getEnableVerticalLine());var g=this.getGanttCharts();for(var i=0;i<g.length;i++){var o=g[i];o.setEnableCursorLine(this.getEnableCursorLine());o.setEnableNowLine(this.getEnableNowLine());o.setEnableVerticalLine(this.getEnableVerticalLine());}};
G.prototype._detachEvents=function(){};
G.prototype.onAfterRendering=function(){this._attachEvents();};
G.prototype._attachEvents=function(){};
G.prototype._detachToolbarEvents=function(){this._oToolbar.detachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.detachLayoutChange(this._onToolbarLayoutChange,this);this._oToolbar.detachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.detachZoomRateChange(this._onToolbarZoomRateChange,this);this._oToolbar.detachSettingsChange(this._onToolbarSettingsChange,this);};
G.prototype._onGanttChartHSBScroll=function(e){var l=e.getParameters().leftOffsetRate;var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.oSource.getId()===g[i].getId()){continue;}g[i].jumpToPosition(l);}};
G.prototype._onViewSplitterResize=function(e){if(this._oSplitter.getOrientation()===O.Vertical){this._syncSelectionPanelSizeBetweenViews(e);}};
G.prototype._onShapesUpdated=function(e){var i,g;var c=this.getGanttCharts();if(!this._bInitHorizonApplied){for(i=0;i<c.length;i++){g=c[i];g.jumpToPosition();}this._bInitHorizonApplied=true;}};
G.prototype._onZoomInfoUpdated=function(e){var i,g;var c=this.getGanttCharts();var l=this._oToolbar.getZoomRate();var z=e.getParameter("zoomInfo");if(!l||!U.floatEqual(l,z.determinedByConfig.fRate)){for(i=0;i<c.length;i++){if(e.oSource.getId()!==c[i].getId()){g=c[i];g.setTimeZoomRate(z.determinedByConfig.fRate);}}}this._setToolbarZoomInfo(e);};
G.prototype._setToolbarZoomInfo=function(e){var z;var g=this.getGanttCharts();for(var i=0;i<g.length;i++){var c;if(e&&e.oSource.getId()===g[i].getId()){c=e.getParameter("zoomInfo");}else{c=g[i].getZoomInfo();}if(!z||(c&&z.determinedByChartWidth.fMinRate<c.determinedByChartWidth.fMinRate)){z=c;}}this._oToolbar.setZoomInfo(z);};
G.prototype._syncSelectionPanelSizeBetweenViews=function(e){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.oSource.getId()===g[i].getId()&&g.length>1){continue;}var s=e.getParameter("newSizes")[0];var c=e.getParameter("newSizes")[1];if(s>0&&(s+c)!==0){var d=(100*s/(s+c)).toFixed(0);g[i].setSelectionPanelSize(d+"%",true);}}};
G.prototype._onGanttChartSwitchRequested=function(e){e.getSource().notifySourceChange();this.fireGanttChartChangeRequested({action:"switchGanttChart",hierarchyKey:e.getParameter("hierarchyKey"),oldHierarchyKey:e.getParameter("oldHierarchyKey"),ganttChartIndex:this.getGanttCharts().indexOf(e.getSource())});};
G.prototype._onTreeTableToggle=function(e){this.fireTreeTableToggleEvent({rowIndex:e.getParameter("rowIndex"),rowContext:e.getParameter("rowContext"),expanded:e.getParameter("expanded")});};
G.prototype._onToolbarLayoutChange=function(e){var E=e.getParameter("id");var o=e.getParameter("value");switch(E){case"orientation":this.switchOrientation(o);break;case"add":this.fireGanttChartChangeRequested({action:"addGanttChart",hierarchyKey:o.hierarchyKey});break;case"less":this.fireGanttChartChangeRequested({action:"lessGanttChart",hierarchyKey:o.hierarchyKey,ganttChartIndex:o.ganttChartIndex});break;default:break;}};
G.prototype._onToolbarSourceChange=function(e){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].notifySourceChange();}this.setContainerLayoutKey(e.getParameter("id"));this.fireGanttChartChangeRequested({action:"switchContainerLayout",containerLayoutKey:e.getParameter("id")});};
G.prototype._onToolbarExpandChartChange=function(e){var E=e.getParameter("isExpand"),c=e.getParameter("expandedChartSchemes");var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].handleExpandChartChange(E,c,null);}};
G.prototype._onToolbarZoomRateChange=function(e){var g=this.getGanttCharts();var i,o;for(i=0;i<g.length;i++){o=g[i];o.setTimeZoomRate(e.getParameter("zoomRate"));}};
G.prototype._onChartDragEnter=function(e){var s=e.getParameter("originEvent");var g=e.getSource();if(s.button==0&&s.buttons!==0&&this._oDraggingSource!==undefined){g.setDraggingData(this._oDraggingSource);this._oDraggingSource=undefined;}else{this._oDraggingSource=undefined;g.setDraggingData(this._oDraggingSource);}};
G.prototype._onChartDragLeave=function(e){var p=e.getParameters();if(p.draggingSource!==undefined){this._oDraggingSource=p.draggingSource;}else{this._oDraggingSource=undefined;}};
G.prototype._onChartDragEnd=function(e){this._oDraggingSource=undefined;};
G.prototype._onToolbarSettingsChange=function(e){var p=e.getParameters();for(var i=0;i<p.length;i++){switch(p[i].id){case sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY:if(this.getEnableTimeScrollSync()!==p[i].value){this.setEnableTimeScrollSync(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY:if(this.getEnableCursorLine()!==p[i].value){this.setEnableCursorLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY:if(this.getEnableNowLine()!==p[i].value){this.setEnableNowLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY:if(this.getEnableVerticalLine()!==p[i].value){this.setEnableVerticalLine(p[i].value);}break;default:this.fireCustomSettingChange(p[i]);}}};
G.prototype.switchOrientation=function(o,r){var s=this._oSplitter.getOrientation()===O.Horizontal?O.Vertical:O.Horizontal;s=o?o:s;if(r){var c=this.getContainerLayoutKey();if(this._oContainerLayoutConfigMap[c]){s=this._oContainerLayoutConfigMap[c].getOrientation();}}this._oSplitter.setOrientation(s);this._adjustSplitterLayoutData(true,r);this._oSplitter.triggerResize(true);return this;};
G.prototype.getToolbarSchemeKey=function(){return this._oToolbar.getToolbarSchemeKey();};
G.prototype.selectShapes=function(g,I,c){var d=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectShapes(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectShapes(I,c)){r=true;}}}return r;};
G.prototype.deselectShapes=function(g,i){var c=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<this.getGanttCharts().length){o=this.getGanttCharts()[g];r=o.deselectShapes(i);}else{for(var d in c){o=c[d];if(o.deselectShapes(i)){r=true;}}}return r;};
G.prototype.selectRelationships=function(g,I,c){var d=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectRelationships(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectRelationships(I,c)){r=true;}}}return r;};
G.prototype.deselectRelationships=function(g,I){var c=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<c.length){o=c[g];r=o.deselectRelationships(I);}else{for(var i=0;i<c.length;i++){o=c[i];if(o.deselectRelationships(I)){r=true;}}}return r;};
G.prototype.selectRows=function(g,I,c){var r=false,d=this.getGanttCharts(),o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectRows(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectRows(I,c)){r=true;}}}return r;};
G.prototype.deselectRows=function(g,I){var r=false,c=this.getGanttCharts(),o;if(g!=undefined&&g<c.length){o=c[g];r=o.deselectRows(I);}else{for(var i=0;i<c.length;i++){o=c[i];if(o.deselectRows(I)){r=true;}}}return r;};
G.prototype.selectRowsAndShapes=function(g,I,c){var r=false,d=this.getGanttCharts(),o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectRowsAndShapes(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectRowsAndShapes(I,c)){r=true;}}}return r;};
G.prototype.getSelectedShapes=function(g){var r=[],c=this.getGanttCharts(),o,s;if(g!=undefined&&g<c.length){o=c[g];s=o.getSelectedShapes();if(s!==undefined){r.push({"ganttChartIndex":g,"selectedShapes":s});}}else{for(var i=0;i<c.length;i++){o=c[i];s=o.getSelectedShapes();if(s!==undefined){r.push({"ganttChartIndex":i,"selectedShapes":s});}}}return r;};
G.prototype.getSelectedRows=function(g){var r=[],c=this.getGanttCharts(),o,R;if(g!=undefined&&g<c.length){o=c[g];R=o.getSelectedRows();if(R!==undefined&&R.length>0){r.push({"ganttChartIndex":g,"selectedRows":R});}}else{for(var i=0;i<c.length;i++){o=c[i];R=o.getSelectedRows();if(R!==undefined){r.push({"ganttChartIndex":i,"selectedRows":R});}}}return r;};
G.prototype.getSelectedRelationships=function(g){var r=[],c=this.getGanttCharts(),o,R;if(g!=undefined&&g<c.length){o=c[g];R=o.getSelectedRelationships();if(R!==undefined){r.push({"ganttChartIndex":g,"selectedRelationships":R});}}else{for(var i=0;i<c.length;i++){o=c[i];R=o.getSelectedRelationships();if(R!==undefined){r.push({"ganttChartIndex":i,"selectedRelationships":R});}}}return r;};
G.prototype.getAllSelections=function(g){var r=[],c=this.getGanttCharts(),o,s;if(g!=undefined&&g<c.length){o=c[g];s=o.getAllSelections();if(s!==undefined){r.push({"ganttChartIndex":g,"allSelection":s});}}else{for(var i=0;i<c.length;i++){o=c[i];s=o.getAllSelections();if(s!==undefined){r.push({"ganttChartIndex":i,"allSelection":s});}}}return r;};
G.prototype.exit=function(){this._detachEvents();this._oToolbar.destroy();this._oSplitter.destroy();};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartContainerRenderer',['sap/ui/core/theming/Parameters',"sap/gantt/misc/Utility"],function(P,U){"use strict";var G={};
G.render=function(r,g){jQuery.sap.measure.start("GanttChartContainerRenderer render","GanttPerf:GanttChartContainerRenderer render function");r.write("<div");r.writeControlData(g);r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.addClass("sapGanttChartContainer");r.writeClasses();r.write(">");jQuery.sap.measure.start("GanttChartContainerRenderer renderPaintServer","GanttPerf:GanttChartContainerRenderer renderPaintServer part");this.renderSvgDefs(r,g);jQuery.sap.measure.end("GanttChartContainerRenderer renderPaintServer");jQuery.sap.measure.start("GanttChartContainerRenderer renderToolbar","GanttPerf:GanttChartContainerRenderer renderToolbar part");this.renderToolbar(r,g);jQuery.sap.measure.end("GanttChartContainerRenderer renderToolbar");jQuery.sap.measure.start("GanttChartContainerRenderer renderGanttCharts","GanttPerf:GanttChartContainerRenderer renderGanttCharts part");this.renderGanttCharts(r,g);jQuery.sap.measure.end("GanttChartContainerRenderer renderGanttCharts");r.write("</div>");jQuery.sap.measure.end("GanttChartContainerRenderer render");};
G.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef'");r.addClass("sapGanttInvisiblePaintServer");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderToolbar=function(r,g){r.renderControl(g._oToolbar);};
G.renderGanttCharts=function(r,g){r.write("<div");r.addClass("sapGanttViewContainer");r.writeClasses();r.addStyle("width",g.getWidth());var s=g.getHeight();if(g._oToolbar.getAllToolbarItems().length>0){var c=U.findSapUiSizeClass();var t=(c==="sapUiSizeCozy")?P.get("sapGlobalToolbarCozyHeight"):P.get("sapGlobalToolbarCompactHeight");s="calc("+s+" - "+t+")";}r.addStyle("height",s);r.writeStyles();r.write(">");r.renderControl(g._oSplitter);r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartRenderer',[],function(){"use strict";var G={};
G.render=function(r,g){jQuery.sap.measure.start("GanttChartRenderer render","GanttPerf:GanttChartRenderer render function");r.write("<div");r.writeControlData(g);r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.addClass("sapGanttChart");r.writeClasses();r.write(">");jQuery.sap.measure.start("GanttChartRenderer renderPaintServer","GanttPerf:GanttChartRenderer renderPaintServer part");this.renderSvgDefs(r,g);jQuery.sap.measure.end("GanttChartRenderer renderPaintServer");jQuery.sap.measure.start("GanttChartRenderer renderChartHeader","GanttPerf:GanttChartRenderer renderChartHeader part");this.renderChartHeader(r,g);jQuery.sap.measure.end("GanttChartRenderer renderChartHeader");jQuery.sap.measure.start("GanttChartRenderer renderChartBody","GanttPerf:GanttChartRenderer renderChartBody part");this.renderChartBody(r,g);jQuery.sap.measure.end("GanttChartRenderer renderChartBody");r.write("</div>");jQuery.sap.measure.end("GanttChartRenderer render");};
G.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderChartHeader=function(r,g){r.write("<div id='"+g.getId()+"-header'");r.addClass("sapGanttChartHeader");r.writeClasses();r.write(">");r.write("<svg id='"+g.getId()+"-header-svg'");r.addClass("sapGanttChartHeaderSvg");r.writeClasses();r.write("></svg>");r.write("</div>");};
G.renderChartBody=function(r,g){r.write("<div id='"+g.getId()+"-tt'");r.addClass("sapUiTableHScr");r.addClass("sapGanttChartTT");r.writeClasses();r.addStyle("width",g.getWidth());r.addStyle("flex","1 1 auto");r.writeStyles();r.write(">");jQuery.sap.measure.start("GanttChartRenderer renderSvgDiv","GanttPerf:GanttChartRenderer renderPaintServer part");this.renderBodySvg(r,g);jQuery.sap.measure.end("GanttChartRenderer renderSvgDiv");r.renderControl(g.getAggregation("_treeTable"));r.write("</div>");};
G.renderBodySvg=function(r,g){r.write("<div id='"+g.getId()+"-svg-ctn'");r.addClass("sapGanttChartSvgCtn");r.writeClasses();r.write(">");r.write("<svg id='"+g.getId()+"-svg'");r.addClass("sapGanttChartSvg");r.writeClasses();r.addStyle("height","100%");r.writeStyles();r.write(">");r.write("</svg>");r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartWithTable',["sap/ui/core/Core","sap/ui/Device","sap/gantt/GanttChartBase","sap/ui/table/Column","sap/ui/table/TreeTable","sap/ui/core/ScrollBar","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","sap/gantt/GanttChart","sap/gantt/control/Cell","sap/gantt/control/Toolbar","sap/gantt/control/AssociateContainer","sap/gantt/drawer/SelectionPanel","sap/gantt/misc/Utility","sap/gantt/misc/AxisOrdinal","sap/ui/thirdparty/d3"],function(C,D,G,a,T,S,b,c,d,e,f,A,g,U,h){"use strict";
var k=G.extend("sap.gantt.GanttChartWithTable",{metadata:{properties:{cellCallback:{type:"object"},fixedColumnCount:{type:"int"}},aggregations:{customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem",bindable:"bindable"},columns:{type:"sap.ui.table.Column",multiple:true,visibility:"public",singularName:"column"},_selectionPanel:{type:"sap.ui.table.TreeTable",multiple:false,visibility:"hidden"},_chart:{type:"sap.gantt.GanttChart",multiple:false,visibility:"hidden"}}}});
k.prototype.init=function(){G.prototype.init.apply(this,arguments);jQuery.sap.measure.start("GanttChartWithTable Init","GanttPerf:GanttChartWithTable Init function");this._oGanttChart=new d();this.setAggregation("_chart",this._oGanttChart);this._oGanttChartCnt=new A({enableRootDiv:true,content:this._oGanttChart});this._oTC=this._oGanttChart._oTT;var t=this;this._oTT=new T({visibleRowCountMode:"Auto",minAutoRowCount:1,fixedColumnCount:this.getFixedColumnCount(),selectionBehavior:sap.ui.table.SelectionBehavior.Row,selectionMode:sap.ui.table.SelectionMode.Multi});this._oTT._bVariableRowHeightEnabled=true;this._oTT._collectRowHeights=function(){t._oGanttChart._setInferedBaseRowHeight(0);return t._oTC._collectRowHeights.apply(this);};this._oTT._updateTableContent=function(){sap.ui.table.TreeTable.prototype._updateTableContent.apply(this,arguments);var r=this.getRows(),R=t._oGanttChart._getRowHeights();if(!R){return;}var i=this.$().find(".sapUiTableCtrlFixed > tbody > tr");var j=this.$().find(".sapUiTableRowHdr");for(var I=0;I<r.length;I++){var l=r[I].$(),m=i.filter(":eq("+I+")"),n=j.filter(":eq("+I+")"),H=R[I]||0;var B=t._oGanttChart.getBaseRowHeight();var o=H/B>1;l.toggleClass('sapGanttExpandedRow',o);m.toggleClass('sapGanttExpandedRow',o);n.toggleClass('sapGanttExpandedRow',o);}};this._oTT.onvscroll=function(E){sap.ui.table.TreeTable.prototype.onvscroll.apply(this,arguments);t._onSelectionPanelVSbScroll();};this._oTT.attachToggleOpenState(function(E){t.fireTreeTableToggleEvent({rowIndex:E.getParameter("rowIndex"),rowContext:E.getParameter("rowContext"),expanded:E.getParameter("expanded")});});this._oTT.attachEvent("_rowsUpdated",this._onTTRowUpdate.bind(this));this.setAggregation("_selectionPanel",this._oTT);this._oToolbar=new f({type:sap.gantt.control.ToolbarType.Local,sourceId:sap.gantt.config.DEFAULT_HIERARCHY_KEY});this._oToolbar.data("holder",this);this._oToolbar.attachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.attachExpandTreeChange(this._onToolbarExpandTreeChange,this);this._oToolbar.attachModeChange(this._onToolbarModeChange,this);this._oTT.addExtension(this._oToolbar);this._oSelectionPanelCnt=new A({enableRootDiv:true,content:this._oTT,layoutData:new c({size:"30%"})});this._oSplitter=new b({width:"100%",height:"100%",orientation:sap.ui.core.Orientation.Horizontal,contentAreas:[this._oSelectionPanelCnt,this._oGanttChartCnt]}).addStyleClass("sapGanttViewSplitterH");this._oSplitter.attachResize(this._onSplitterResize,this);this._oTC.addEventDelegate({onAfterRendering:this._onTCScrollafterRendering},this);this._oGanttChart.attachRowSelectionChange(this._onRowSelectionChange,this);this._oGanttChart.attachShapeSelectionChange(this._onShapeSelectionChange,this);this._oGanttChart.attachChartMouseOver(this._onChartMouseOver,this);this._oGanttChart.attachRelationshipSelectionChange(this._onRelationshipSelectionChange,this);this._oGanttChart.attachChartClick(this._onClick,this);this._oGanttChart.attachChartDoubleClick(this._onDoubleClick,this);this._oGanttChart.attachChartRightClick(this._onRightClick,this);this._oGanttChart.attachEvent("_zoomInfoUpdated",this._onZoomInfoUpdated,this);this._oGanttChart.attachEvent("_shapesUpdated",this._onShapesUpdated,this);this._oGanttChart.attachChartDragEnter(this._onChartDragEnter,this);this._oGanttChart.attachChartDragLeave(this._onChartDragLeave,this);this._oGanttChart.attachShapeDragEnd(this._onShapeDragEnd,this);this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oDefaultExpansionStatus={};this._oSelectionPanelDrawer=new g();this._bCanApplyTableTransform=true;this._iFirstVisiableRowIndex=undefined;this._oGanttChartSchemesConfigMap={};this._oGanttChartSchemesConfigMap[sap.gantt.config.DEFAULT_CHART_SCHEME_KEY]=sap.gantt.config.DEFAULT_CHART_SCHEME;this._oObjectTypesConfigMap={};this._oObjectTypesConfigMap[sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY]=sap.gantt.config.DEFAULT_OBJECT_TYPE;this._oShapesConfigMap={};jQuery.sap.measure.end("GanttChartWithTable Init");};
k.prototype.setFixedColumnCount=function(F){this.setProperty("fixedColumnCount",F);this._oTT.setFixedColumnCount(F);return this;};
k.prototype.setTimeAxis=function(t){this.setProperty("timeAxis",t,true);this._oGanttChart.setTimeAxis(t);return this;};
k.prototype.setMode=function(m){this.setProperty("mode",m);this._oGanttChart.setMode(m);this._oToolbar.setMode(m);return this;};
k.prototype.setModes=function(m){this.setProperty("modes",m);this._oToolbar.setModes(m);this._oGanttChart.setModes(m);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
k.prototype.setSelectionMode=function(s){this.setProperty("selectionMode",s);if(this._oTT){if(s==sap.gantt.SelectionMode.None){this._oTT.setSelectionMode(sap.ui.table.SelectionMode.None);this._oTT.setSelectionBehavior(sap.ui.table.SelectionBehavior.RowOnly);}else if(s==sap.gantt.SelectionMode.MultiWithKeyboard){this._oTT.setSelectionMode(sap.ui.table.SelectionMode.Multi);this._oTT.setSelectionBehavior(sap.ui.table.SelectionBehavior.Row);}else{if(s==sap.gantt.SelectionMode.Single){this._oTT.setSelectionMode(sap.ui.table.SelectionMode.Single);}else{this._oTT.setSelectionMode(sap.ui.table.SelectionMode.MultiToggle);}this._oTT.setSelectionBehavior(sap.ui.table.SelectionBehavior.Row);}}if(this._oGanttChart){this._oGanttChart.setSelectionMode(s);}return this;};
k.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t);this._oToolbar.setToolbarSchemes(t);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}return this;};
k.prototype.setHierarchyKey=function(H){this.setProperty("hierarchyKey",H);this._oGanttChart.setProperty("hierarchyKey",H);this._oToolbar.setSourceId(H);this._hierarchyChange();return this;};
k.prototype.setHierarchies=function(H){this.setProperty("hierarchies",H);this._oToolbar.setHierarchies(H);this._oGanttChart.setHierarchies(H);this._oHierarchyConfigMap={};if(H){for(var i=0;i<H.length;i++){this._oHierarchyConfigMap[H[i].getKey()]=H[i];}}this._hierarchyChange();return this;};
k.prototype.setCalendarDef=function(o){this.setAggregation("calendarDef",o);var p=o.getBindingInfo("defs");if(p){p.templateShareable=true;}this._oGanttChart.setCalendarDef(o.clone());return this;};
k.prototype._hierarchyChange=function(){var H=this.getHierarchyKey();if(H&&this._oHierarchyConfigMap[H]){if(this._oHierarchyConfigMap[H].getColumns()&&this._oHierarchyConfigMap[H].getColumns().length>0){this._buildColumnFromCellCallback();}var m=this.getMode();if(m===sap.gantt.config.DEFAULT_MODE_KEY&&this._oHierarchyConfigMap[this.getHierarchyKey()]){m=this._oHierarchyConfigMap[this.getHierarchyKey()].getActiveModeKey();}this.setMode(m);}};
k.prototype._buildColumnFromCellCallback=function(){this._oTT.removeAllColumns();var H,j;H=this._oHierarchyConfigMap[this.getHierarchyKey()];if(H){j=H.getColumns();}if(j){for(var i=0;i<j.length;i++){var o=new a({label:j[i].getTitle(),sortProperty:j[i].getSortAttribute(),filterProperty:j[i].getFilterAttribute(),width:j[i].getWidth(),template:new e({cellCallback:this.getCellCallback(),columnConfig:j[i]})});this._oTT.addColumn(o);}}};
k.prototype.setObjectTypes=function(o){this.setProperty("objectTypes",o,true);this._oGanttChart.setObjectTypes(o);this._oObjectTypesConfigMap={};if(o){for(var i=0;i<o.length;i++){this._oObjectTypesConfigMap[o[i].getKey()]=o[i];}}return this;};
k.prototype.setChartSchemes=function(j){this.setProperty("chartSchemes",j,true);this._oGanttChart.setChartSchemes(j);this._oGanttChartSchemesConfigMap={};if(j){for(var i=0;i<j.length;i++){this._oGanttChartSchemesConfigMap[j[i].getKey()]=j[i];}}return this;};
k.prototype.setShapeDataNames=function(s){this.setProperty("shapeDataNames",s);this._oGanttChart.setShapeDataNames(s);return this;};
k.prototype.setLocale=function(l){this.setProperty("locale",l,true);this._oGanttChart.setLocale(l);return this;};
k.prototype.setShapes=function(s){this.setProperty("shapes",s,true);this._oGanttChart.setShapes(s);this._oShapesConfigMap={};if(s){for(var i=0;i<s.length;i++){this._oShapesConfigMap[s[i].getKey()]=s[i];}}return this;};
k.prototype.setSvgDefs=function(s){this.setProperty("svgDefs",s);this._oGanttChart.setSvgDefs(s);return this;};
k.prototype.setEnableCursorLine=function(E){this.setProperty("enableCursorLine",E);this._oGanttChart.setEnableCursorLine(E);this._oToolbar.setEnableCursorLine(E);return this;};
k.prototype.setEnableNowLine=function(E){this.setProperty("enableNowLine",E);this._oGanttChart.setEnableNowLine(E);this._oToolbar.setEnableNowLine(E);return this;};
k.prototype.setEnableVerticalLine=function(E){this.setProperty("enableVerticalLine",E);this._oGanttChart.setEnableVerticalLine(E);this._oToolbar.setEnableVerticalLine(E);return this;};
k.prototype.setTimeZoomRate=function(t){this.setProperty("timeZoomRate",t,true);this._oGanttChart.setTimeZoomRate(t);return this;};
k.prototype.addRelationship=function(r){this._oGanttChart.addRelationship(r);};
k.prototype.insertRelationship=function(i,r){this._oGanttChart.insertRelationship(i,r);};
k.prototype.removeRelationship=function(r){this._oGanttChart.removeRelationship(r);};
k.prototype.getRelationships=function(){this._oGanttChart.getRelationships();};
k.prototype.destroyRelationships=function(){this._oGanttChart.destroyRelationships();};
k.prototype.indexOfRelationship=function(r){this._oGanttChart.indexOfRelationship(r);};
k.prototype.removeAllRelationships=function(){this._oGanttChart.removeAllRelationships();};
k.prototype.updateRelationships=function(r){this._oGanttChart.updateRelationships(r);};
k.prototype.setSelectionPanelSize=function(s,i){this.setProperty("selectionPanelSize",s,i);this._oSelectionPanelCnt.setLayoutData(new c({size:s}));return this;};
k.prototype.updateTableSize=function(){if(this._oTT._updateTableSizes){this._oTT._updateTableSizes();}if(this._oTC._updateTableSizes){this._oTC._updateTableSizes();}};
k.prototype.addCustomToolbarItem=function(o){this._oToolbar.addCustomToolbarItem(o);};
k.prototype.insertCustomToolbarItem=function(o,i){this._oToolbar.insertCustomToolbarItem(o,i);};
k.prototype.removeCustomToolbarItem=function(o){this._oToolbar.removeCustomToolbarItem(o);};
k.prototype.removeAllCustomToolbarItems=function(){this._oToolbar.removeAllCustomToolbarItems();};
k.prototype.addColumn=function(o){this._oTT.addColumn(o);};
k.prototype.insertColumn=function(o,i){this._oTT.insertColumn(o,i);};
k.prototype.removeColumn=function(o){this._oTT.removeColumn(o);};
k.prototype.removeAllColumns=function(){this._oTT.removeAllColumns();};
k.prototype.getColumns=function(){return this._oTT.getColumns();};
k.prototype._bindAggregation=function(n,B){var m,o;if(n=="rows"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oTT.bindRows(B);this._oGanttChart.bindRows(B);this._oTC.updateRows=this._updateRows.bind(this);}else if(n=="relationships"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oGanttChart.bindRelationships(B);}else if(n=="columns"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oTT.bindColumns(B);}else{return sap.ui.core.Control.prototype._bindAggregation.apply(this,arguments);}};
k.prototype._updateRows=function(r){if(this._oTC.getFirstVisibleRow()===this._oTT.getFirstVisibleRow()||r===sap.ui.model.ChangeReason.Filter||r===sap.ui.model.ChangeReason.Sort){sap.ui.table.Table.prototype.updateRows.apply(this._oTT,arguments);}sap.ui.table.Table.prototype.updateRows.apply(this._oTC,arguments);};
k.prototype._detachToolbarEvents=function(){this._oToolbar.detachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.detachExpandTreeChange(this._onToolbarExpandTreeChange,this);};
k.prototype.onAfterRendering=function(){this._expandDefaultLevel();this._attachEvents();};
k.prototype._adjustChartHeaderHeight=function(){var i=this._oTT.$().find(".sapUiTableExt");var j=this._oTT.$().find(".sapUiTableColHdrCnt");var l;if(i.height()===null){l=i.outerHeight()+j.height();}else{l=i.outerHeight()+j.height()+1;}var m=this._oGanttChart.$().find(".sapGanttChartHeader");m.height(l);m.css("min-height",l);var n=this._oGanttChart.$().find(".sapGanttChartHeaderSvg");n.height(l);n.css("min-height",l);};
k.prototype.onBeforeRendering=function(){if(this._oToolbar.getAllToolbarItems().length===0){this._oTT.removeExtension(this._oToolbar);}else if(this._oTT.getExtension().length==0){this._oTT.addExtension(this._oToolbar);}};
k.prototype._attachEvents=function(){var o={onAfterRendering:this._syncGanttTablesDomEvents};this._oTT.removeEventDelegate(o);this._oTT.addEventDelegate(o,this);this._oTC.removeEventDelegate(o);this._oTC.addEventDelegate(o,this);this._appendMaskSvg();var i=this.$().find("#"+this.getId()+"-spm-svg-table");if(D.browser.firefox){i.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));i.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}else{i.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));i.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}};
k.prototype._onMouseWheel=function(E){var o=E.originalEvent;var i=o.shiftKey;var s=0;if(D.browser.firefox){s=o.detail;}else{if(i){s=o.deltaX;}else{s=o.deltaY;}}if(i){var H=this._oTT.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar);if(H){H.scrollLeft=H.scrollLeft+s;}}else{var v=this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar);if(v){v.scrollTop=v.scrollTop+s;}}E.preventDefault();E.stopPropagation();};
k.prototype._onRowSelectionChange=function(E){this.fireRowSelectionChange({originEvent:E.getParameter("originEvent")});this._oTT._oSelection.fireSelectionChanged();};
k.prototype._onChartMouseOver=function(E){var p=E.getParameters();this.fireChartMouseOver({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
k.prototype._onShapeSelectionChange=function(E){this.fireShapeSelectionChange({originEvent:E.getParameter("originEvent")});};
k.prototype._onRelationshipSelectionChange=function(E){this.fireRelationshipSelectionChange({originEvent:E.getParameter("originEvent")});};
k.prototype._onClick=function(E){var p=E.getParameters();this.fireChartClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
k.prototype._onDoubleClick=function(E){var p=E.getParameters();this.fireChartDoubleClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
k.prototype._onRightClick=function(E){var p=E.getParameters();this.fireChartRightClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
k.prototype._onChartDragEnter=function(E){this.fireChartDragEnter({originEvent:E.getParameter("originEvent")});};
k.prototype._onChartDragLeave=function(E){this.fireChartDragLeave({originEvent:E.getParameter("originEvent"),draggingSource:E.getParameter("draggingSource")});};
k.prototype._onShapeDragEnd=function(E){var p=E.getParameters();this.fireShapeDragEnd({originEvent:p.originEvent,sourceShapeData:p.sourceShapeData,targetData:p.targetData,sourceSvgId:p.sourceSvgId,targetSvgId:p.targetSvgId});};
k.prototype._onChartHSbScroll=function(E){if(this._scrollFlag){delete this._scrollFlag;return;}var n=(C.getConfiguration().getRTL()&&sap.ui.Device.browser.name==="ff")?this._oTC.$(sap.ui.table.SharedDomRef.HorizontalScrollBar).scrollLeftRTL():this._oTC.$(sap.ui.table.SharedDomRef.HorizontalScrollBar).scrollLeft();this.fireHorizontalScroll({scrollSteps:n,leftOffsetRate:this._oGanttChart.updateLeftOffsetRate(n)});};
k.prototype._onChartVSbScroll=function(E){var i=jQuery(this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar));var j=jQuery(this._oTC.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar));if(this.sScrollSource===null||this.sScrollSource!=="GanttChartWithTable"){this.sScrollSource="GanttChart";i.scrollTop(j.scrollTop());}else{this.sScrollSource=null;}this.fireVerticalScroll({scrollSteps:this._oTC.getFirstVisibleRow(),scrollPosition:jQuery(this._oTC.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar)).scrollTop()});};
k.prototype._drawSvg=function(){this._appendMaskSvg();this._updateMaskSvg();this._updateTableRowHeights();this._drawSelectionPanel();};
k.prototype._onZoomInfoUpdated=function(E){this.fireEvent("_zoomInfoUpdated",{zoomInfo:E.getParameter("zoomInfo")});};
k.prototype._onShapesUpdated=function(E){this.fireEvent("_shapesUpdated",{aSvg:E.getParameter("aSvg")});};
k.prototype._onSelectionPanelVSbScroll=function(){var i=jQuery(this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar));var j=jQuery(this._oTC.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar));if(this.sScrollSource===null||this.sScrollSource!=="GanttChart"){this.sScrollSource="GanttChartWithTable";j.scrollTop(i.scrollTop());}else{this.sScrollSource=null;}this._applyTransform();};
k.prototype._applyTransform=function(){this.$().find("#"+this.getId()+"-spm-svg-table").css("transform",this._oTT.$().find(".sapUiTableCtrlRowScroll").css("transform"));};
k.prototype._onSplitterResize=function(E){this._oTC.updateRows();var p=E.getParameters();this.fireSplitterResize(p);};
k.prototype._onToolbarSourceChange=function(E){var o=this.getHierarchyKey();this.setHierarchyKey(E.getParameter("id"));this.notifySourceChange();this.fireGanttChartSwitchRequested({hierarchyKey:E.getParameter("id"),oldHierarchyKey:o});};
k.prototype._onToolbarExpandTreeChange=function(E){var s=E.getParameter("action");if(s){var j=this._oTT.getSelectedIndices();for(var i=j.length-1;i>-1;i--){this._oTT[s](j[i]);j=this._oTT.getSelectedIndices();}}};
k.prototype._onToolbarModeChange=function(E){var B=this.getBinding("mode");if(B){B.setValue(E.getParameter("mode"));}this.setMode(E.getParameter("mode"));};
k.prototype.handleExpandChartChange=function(E,i,s){s=s?s:this._oTT.getSelectedIndices();this._oGanttChart.handleExpandChartChange(E,i,s);};
k.prototype.invertRowExpandStatus=function(s,i){if(s&&s.length>0&&i){this._oGanttChart.invertRowExpandStatus(s,i);}};
k.prototype._updateTableRowHeights=function(){var t=this._oTT;var H=this._oGanttChart._getRowHeights();if(!H){return;}t._updateRowHeader(H);};
k.prototype.setBaseRowHeight=function(n){this.setProperty("baseRowHeight",n);this._oTT.setRowHeight(n);return this._oGanttChart.setBaseRowHeight(n);};
k.prototype.getBaseRowHeight=function(){return this._oGanttChart.getBaseRowHeight();};
k.prototype._onTTRowUpdate=function(){if(this._oGanttChart.isRowExpanded()){var i=this._oTT.$();var j=this.$().find("#"+this.getId()+"-spm-svg-table-ctn");j.height(i.find(".sapUiTableCCnt").height());j.show();var l=j.find(".sapGanttSPMaskSvg");l.height(i.find(".sapUiTableCtrlCnt").height());this._drawSvg();}else{var j=this.$().find("#"+this.getId()+"-spm-svg-table-ctn");j.hide();}this._oTT._updateTableContent();this._adjustChartHeaderHeight();this._adjustGanttInferredRowHeight();};
k.prototype._adjustGanttInferredRowHeight=function(){var H=T.prototype._collectRowHeights.apply(this._oTT);var F=this.getFirstVisibleRow();var s=this._oGanttChart._getDrawingData([F,F]);if(H&&H.length>0&&s&&s.length>0){var B=H[0]/s[0].visibleRowSpan;this._oGanttChart._setInferedBaseRowHeight(B);}};
k.prototype._onTCScrollafterRendering=function(E){var i=jQuery(this._oTC.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar));i.unbind("scroll.sapUiTableHScroll");i.unbind("scroll.sapUiTableHScrollForGanttChartWithTable",this._onChartHSbScroll);i.bind("scroll.sapUiTableHScrollForGanttChartWithTable",jQuery.proxy(this._onChartHSbScroll,this));var j=jQuery(this._oTC.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar));j.unbind("scroll.sapUiTableTCVScrollForGanttChartWithTable",this._onChartVSbScroll);j.bind("scroll.sapUiTableTCVScrollForGanttChartWithTable",jQuery.proxy(this._onChartVSbScroll,this));};
k.prototype._syncGanttTablesDomEvents=function(E){var s=E.srcControl,t=s.getId()===this._oTT.getId()?this._oTC:this._oTT;s.$().find(".sapUiTableRowHdr, .sapUiTableTr").hover(function(E){var i=jQuery(E.currentTarget).data("sapUiRowindex");t.$().find(".sapUiTableCtrlFixed > tbody > tr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");t.$().find(".sapUiTableCtrlScroll > tbody > tr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");t.$().find(".sapUiTableRowHdr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");},function(E){t.$().find(".sapUiTableCtrlFixed > tbody > tr").removeClass("sapUiTableRowHvr");t.$().find(".sapUiTableCtrlScroll > tbody > tr").removeClass("sapUiTableRowHvr");t.$().find(".sapUiTableRowHdr").removeClass("sapUiTableRowHvr");});};
k.prototype._setLargeDataScrolling=function(l){if(this._oTT._setLargeDataScrolling){this._oTT._setLargeDataScrolling(!!l);}if(this._oTC._setLargeDataScrolling){this._oTC._setLargeDataScrolling(!!l);}};
k.prototype.getToolbarSchemeKey=function(){return this._oToolbar.getToolbarSchemeKey();};
k.prototype.jumpToPosition=function(o){this._scrollFlag=true;this._oGanttChart.jumpToPosition(o);};
k.prototype.selectShapes=function(i,j){return this._oGanttChart.selectShapes(i,j);};
k.prototype.deselectShapes=function(i){return this._oGanttChart.deselectShapes(i);};
k.prototype.selectRelationships=function(i,j){return this._oGanttChart.selectRelationships(i,j);};
k.prototype.deselectRelationships=function(i){return this._oGanttChart.deselectRelationships(i);};
k.prototype.selectRows=function(i,j){return this._oGanttChart.selectRows(i,j);};
k.prototype.deselectRows=function(i){return this._oGanttChart.deselectRows(i);};
k.prototype.selectRowsAndShapes=function(i,I){return this._oGanttChart.selectRowsAndShapes(i,I);};
k.prototype.getAllSelections=function(){return this._oGanttChart.getAllSelections();};
k.prototype.getSelectedShapes=function(){var s=this._oGanttChart.getSelectedShapes();return s;};
k.prototype.getSelectedRows=function(){var s=this._oGanttChart.getSelectedRows();return s;};
k.prototype.getSelectedRelationships=function(){var s=this._oGanttChart.getSelectedRelationships();return s;};
k.prototype.setDraggingData=function(o){this._oGanttChart.setDraggingData(o);};
k.prototype.getRowByShapeUid=function(s){return this._oGanttChart.getRowByShapeUid(s);};
k.prototype._drawSelectionPanel=function(){var t=d3.select("#"+this.getId()+"-spm-svg-table");var i=this._oTT.$().find(".sapUiTableRowHdrScr").width();var v=this._getVisibleRowData();if(v!==undefined){this._oSelectionPanelDrawer.drawSvg(t,v,i,this);this.$().find("#"+this.getId()+"-spm-svg-table").css("transform",this._oTT.$().find(".sapUiTableCtrlRowScroll").css("transform"));this._iFirstVisiableRowIndex=this._oTT.getFirstVisibleRow();this._bCanApplyTableTransform=true;}};
k.prototype._getVisibleRowData=function(){var F=this._oTT.getFirstVisibleRow();var v=this._oTT.getVisibleRowCount();var V=this._oGanttChart._getDrawingData([F,F+v-1]);var B=this._oGanttChart.getBaseRowHeight();var p=0;for(var i=0;i<V.length;i++){var s=V[i];s.rowHeight=s.rowSpan*B;s.y=p;p+=s.rowHeight;}return V;};
k.prototype._appendMaskSvg=function(){var i=this.$().find("#"+this.getId()+"-spm-svg-table-ctn");var j=this._oTT.$();if(i.length==0){i=$("<div id='"+this.getId()+"-spm-svg-table-ctn' class='sapGanttChartSPMSvgCtn' >"+"<svg id='"+this.getId()+"-spm-svg-table' class='sapGanttSPMaskSvg'>"+"</svg>"+"</div>");j.parent().append(i);}};
k.prototype._updateMaskSvg=function(){var i=this.$().find("#"+this.getId()+"-spm-svg-table-ctn");var j=this._oTT.$();i.height(j.find(".sapUiTableCCnt").height());i.width($(document).width());i.css("top",this._oGanttChart.$().find(".sapGanttChartHeader").height()+1);i.css("min-width",j.find("table").css("min-width"));var l=i.find(".sapGanttSPMaskSvg");l.width(i.width());l.height(j.find(".sapUiTableCtrlCnt").height());};
k.prototype.getAxisOrdinal=function(){return this._oGanttChart.getAxisOrdinal();};
k.prototype.getAxisTime=function(){return this._oGanttChart.getAxisTime();};
k.prototype.getZoomInfo=function(){return this._oGanttChart.getZoomInfo();};
k.prototype._expandDefaultLevel=function(){var E;var H=this.getHierarchyKey();if(this._oDefaultExpansionStatus){if(this._oDefaultExpansionStatus[H]===true){return;}}if(this._oHierarchyConfigMap[H]&&this._oHierarchyConfigMap[H].getExpandedLevels()){E=this._oHierarchyConfigMap[this.getHierarchyKey()].getExpandedLevels();var B=this._oTT.getBinding("rows");if(!B){return;}var t=B.getModel().getObject(B.getPath());var l=0;var r=0;var m=[];var n=this._oTT.getBindingInfo("rows").parameters.arrayNames;var o=function(N){for(var i=0;i<n.length;i++){if(N[n[i]]){return true;}}return false;};if(E.length<=0){this._oDefaultExpansionStatus[H]=true;return;}else{var p=function(i,N){if(l>E.length){if(l===(E.length+1)){r++;}return;}if(o(N)===true){if(!($.inArray(N.type,E[l])>-1)){if(m){m.push(r);}else{m=[r];}}r++;if(l<=E.length){l++;for(var j=0;j<n.length;j++){if(N[n[j]]){jQuery.each(N[n[j]],p);}}l--;}}else{r++;}};var q=function(){B.detachChange(q,this);for(var i=0;i<n.length;i++){if(t[n[i]]){jQuery.each(t[n[i]],p);}}B.getContexts(this._oTT.getFirstVisibleRow(),0);for(var I=m.length-1;I>=0;I--){if(B.getNodeByIndex(m[I])){this._oTT.collapse(m[I]);}}};B.attachChange(q,this);this._oTT.expandToLevel(E.length);}}this._oDefaultExpansionStatus[H]=true;};
k.prototype.expandToLevel=function(l){this._oTT.expandToLevel(l);return this;};
k.prototype.expand=function(r){this._oTT.expand(r);return this;};
k.prototype.collapse=function(r){this._oTT.collapse(r);return this;};
k.prototype.setSelectedIndex=function(r){this._oTT.setSelectedIndex(r);return this;};
k.prototype.getSelectedIndex=function(){return this._oTT.getSelectedIndex();};
k.prototype.getFirstVisibleRow=function(){return this._oTT.getFirstVisibleRow();};
k.prototype.setFirstVisibleRow=function(r){this._oTT.setFirstVisibleRow(r);return this;};
k.prototype.getVisibleRowCount=function(){return this._oTT.getVisibleRowCount();};
k.prototype.getRows=function(){return this._oTT.getRows();};
k.prototype.exit=function(){this._detachToolbarEvents();this._oSplitter.destroy();};
k.prototype.notifySourceChange=function(){this._oTT.setFirstVisibleRow(0);this._oGanttChart.notifySourceChange();};
k.prototype.autoResizeColumn=function(j){if(j>=0&&jQuery.isNumeric(j)){this._oTT.autoResizeColumn(j);}else{for(var i=this._oTT.getColumns().length;i>=0;i--){this._oTT.autoResizeColumn(i);}}};
k.prototype._autoResizeColumn=function(){if(this._oHierarchyConfigMap[this.getHierarchyKey()].getAutoResizeColumn()){this.autoResizeColumn();}};
return k;},true);
sap.ui.predefine('sap/gantt/GanttChartWithTableRenderer',['sap/ui/core/theming/Parameters','sap/gantt/misc/Utility'],function(P,U){"use strict";var G={};
G.render=function(r,g){r.write("<div");r.writeControlData(g);r.addClass("sapUiTableHScr");r.addClass("sapGanttChartWithTable");r.writeClasses();r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.write(">");var h=this._getColumnHeaderHeight(g);g._oTT.setColumnHeaderHeight(h);r.renderControl(g._oSplitter);r.write("</div>");};
G._getColumnHeaderHeight=function(g){var h=0;if(g._oToolbar.getAllToolbarItems().length==0){var p=sap.ui.getCore().getConfiguration().getTheme()==="sap_hcb"?2:0,m=U.findSapUiSizeClass(g);if(m==="sapUiSizeCompact"||m==="sapUiSizeCondensed"){h=parseInt(P.get("sapGanttChartCompactHeaderHeight"),10)-p;}else if(m==="sapUiSizeCozy"){h=parseInt(P.get("sapGanttChartHeaderHeight"),10)-p;}else{h=parseInt(P.get("sapGanttChartHeaderDefaultHeight"),10)-p;}}return h;};
return G;},true);
sap.ui.predefine('sap/gantt/config/ChartScheme',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var C=E.extend("sap.gantt.config.ChartScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},name:{type:"string",defaultValue:null},rowSpan:{type:"int",defaultValue:1},icon:{type:"sap.ui.core.URI",defaultValue:null},modeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},haveBackground:{type:"boolean",defaultValue:false},backgroundClass:{type:"string"},shapeKeys:{type:"array",defaultValue:[]}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ColumnAttribute',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var C=E.extend("sap.gantt.config.ColumnAttribute",{metadata:{properties:{objectTypeKey:{type:"string",defaultValue:null},attribute:{type:"string",defaultValue:null}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ContainerLayout',['jquery.sap.global','sap/ui/core/Element','sap/ui/core/Orientation'],function(q,E,O){"use strict";
var C=E.extend("sap.gantt.config.ContainerLayout",{metadata:{properties:{key:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY},text:{type:"string",defaultValue:sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("XLST_SINGLE_LAYOUT")},orientation:{type:"sap.ui.core.Orientation",defaultValue:O.Vertical},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},ganttChartLayouts:{type:"array",defaultValue:[]}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ExpandChart',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var a=E.extend("sap.gantt.config.ExpandChart",{metadata:{properties:{icon:{type:"sap.ui.core.URI",defaultValue:null},isExpand:{type:"boolean",defaultValue:null},chartSchemeKeys:{type:"array",defaultValue:[]}}}});
return a;},true);
sap.ui.predefine('sap/gantt/config/ExpandChartGroup',['jquery.sap.global','./ToolbarGroup'],function(q,T){"use strict";
var E=T.extend("sap.gantt.config.ExpandChartGroup",{metadata:{properties:{expandCharts:{type:"array",defaultValue:[]},enableRichType:{type:"boolean"},showArrowText:{type:"boolean"}}}});
return E;},true);
sap.ui.predefine('sap/gantt/config/GanttChartLayout',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var G=E.extend("sap.gantt.config.GanttChartLayout",{metadata:{properties:{ganttChartSize:{type:"sap.ui.core.CSSSize",defaultValue:null},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},hierarchyKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY}}}});
return G;},true);
sap.ui.predefine('sap/gantt/config/Hierarchy',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var H=E.extend("sap.gantt.config.Hierarchy",{metadata:{properties:{key:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY},text:{type:"string",defaultValue:"Default Hierarchy"},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY},columns:{type:"array"},expandedLevels:{type:"array"}}}});
H.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setText(this._oRb.getText("XLST_DEFAULT_HIE"));};
return H;},true);
sap.ui.predefine('sap/gantt/config/HierarchyColumn',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var H=E.extend("sap.gantt.config.HierarchyColumn",{metadata:{properties:{key:{type:"string",defaultValue:null},title:{type:"string",defaultValue:null},contentType:{type:"string",defaultValue:null},sortAttribute:{type:"string",defaultValue:null},filterAttribute:{type:"string",defaultValue:null},attribute:{type:"string",defaultValue:null},attributes:{type:"array",defaultValue:[]},width:{type:"sap.ui.core.CSSSize"}}}});
return H;},true);
sap.ui.predefine('sap/gantt/config/LayoutGroup',['jquery.sap.global','./ToolbarGroup'],function(q,T){"use strict";
var L=T.extend("sap.gantt.config.LayoutGroup",{metadata:{properties:{enableRichStyle:{type:"boolean",defaultValue:true}}}});
return L;},true);
sap.ui.predefine('sap/gantt/config/Locale',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var L=E.extend("sap.gantt.config.Locale",{metadata:{properties:{timeZone:{type:"string",defaultValue:"UTC"},utcdiff:{type:"string",defaultValue:"000000"},utcsign:{type:"string",defaultValue:"+"},dstHorizons:{type:"array",defaultValue:[]}}}});
return L;},true);
sap.ui.predefine('sap/gantt/config/Mode',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var M=E.extend("sap.gantt.config.Mode",{metadata:{properties:{key:{type:"string",defaultValue:null},text:{type:"string",defaultValue:null},icon:{type:"sap.ui.core.URI",defaultValue:null},activeIcon:{type:"sap.ui.core.URI"}}}});
return M;},true);
sap.ui.predefine('sap/gantt/config/ModeGroup',['jquery.sap.global','./ToolbarGroup'],function(q,T){"use strict";
var M=T.extend("sap.gantt.config.ModeGroup",{metadata:{properties:{modeKeys:{type:"array",defaultValue:[]}}}});
return M;},true);
sap.ui.predefine('sap/gantt/config/ObjectType',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var O=E.extend("sap.gantt.config.ObjectType",{metadata:{properties:{key:{type:"string",defaultValue:null},description:{type:"string",defaultValue:null},mainChartSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MAIN_CHART_SCHEME_KEY},expandedChartSchemeKeys:{type:"array",defaultValue:[]}}}});
return O;},true);
sap.ui.predefine('sap/gantt/config/SettingGroup',["./ToolbarGroup","./SettingItem"],function(T,S){"use strict";
var a=T.extend("sap.gantt.config.SettingGroup",{
library:"sap.gantt",
metadata:{properties:{items:{type:"array",defaultValue:sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS}}}
});
return a;},true);
sap.ui.predefine('sap/gantt/config/SettingItem',["sap/ui/core/Element","./ToolbarGroup"],function(E,T){"use strict";
var S=E.extend("sap.gantt.config.SettingItem",{
library:"sap.gantt",
metadata:{properties:{checked:{type:"boolean",defaultValue:false},key:{type:"string",defaultValue:null},displayText:{type:"string",defaultValue:null}}}
});
return S;},true);
sap.ui.predefine('sap/gantt/config/Shape',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var S=E.extend("sap.gantt.config.Shape",{metadata:{properties:{key:{type:"string",defaultValue:null},shapeClassName:{type:"string",defaultValue:null},shapeDataName:{type:"string",defaultValue:null},modeKeys:{type:"array",defaultValue:[]},level:{type:"string",defaultValue:null},shapeProperties:{type:"object",defaultValue:sap.gantt.config.DEFAULT_EMPTY_OBJECT},groupAggregation:{type:"array"},clippathAggregation:{type:"array"},selectedClassName:{type:"string",defaultValue:null},switchOfCheckBox:{type:"string",defaultValue:"noShow"}}}});
S.prototype.hasShapeProperty=function(p){return this.getShapeProperties().hasOwnProperty(p);};
S.prototype.getShapeProperty=function(p){return this.getShapeProperties()[p];};
return S;},true);
sap.ui.predefine('sap/gantt/config/TimeAxis',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var T=E.extend("sap.gantt.config.TimeAxis",{metadata:{library:"sap.gantt",properties:{planHorizon:{type:"sap.gantt.config.TimeHorizon",defaultValue:sap.gantt.config.DEFAULT_PLAN_HORIZON},initHorizon:{type:"sap.gantt.config.TimeHorizon",defaultValue:sap.gantt.config.DEFAULT_INIT_HORIZON},zoomStrategy:{type:"object",defaultValue:sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY},granularity:{type:"string",defaultValue:"4day"},finestGranularity:{type:"string",defaultValue:"5min"},coarsestGranularity:{type:"string",defaultValue:"1month"},rate:{type:"float",defaultValue:1}}}});
return T;},true);
sap.ui.predefine('sap/gantt/config/TimeHorizon',['jquery.sap.global','sap/ui/core/Element',"sap/gantt/misc/Format"],function(q,E,F){"use strict";
var T=E.extend("sap.gantt.config.TimeHorizon",{metadata:{library:"sap.gantt",properties:{startTime:{type:"string",group:"Misc",defaultValue:undefined},endTime:{type:"string",group:"Misc",defaultValue:undefined}}}});
T.prototype.setStartTime=function(s){this.setProperty("startTime",this._convertTimestamp(s));};
T.prototype.setEndTime=function(e){this.setProperty("endTime",this._convertTimestamp(e));};
T.prototype._convertTimestamp=function(t){var r=t;if(r&&typeof r==="object"){r=F.dateToAbapTimestamp(r);}return r;};
return T;},true);
sap.ui.predefine('sap/gantt/config/TimeZoomGroup',['jquery.sap.global','./ToolbarGroup'],function(q,T){"use strict";
var a=T.extend("sap.gantt.config.TimeZoomGroup",{metadata:{properties:{showZoomSlider:{type:"boolean",defaultValue:true},showZoomButtons:{type:"boolean",defaultValue:true}}}});
return a;},true);
sap.ui.predefine('sap/gantt/config/ToolbarGroup',['jquery.sap.global','sap/ui/core/Element',"sap/m/OverflowToolbarPriority"],function(q,E,O){"use strict";
var T=E.extend("sap.gantt.config.ToolbarGroup",{metadata:{properties:{position:{type:"string",defaultValue:null},overflowPriority:{type:"sap.m.OverflowToolbarPriority",defaultValue:O.Low}}}});
return T;},true);
sap.ui.predefine('sap/gantt/config/ToolbarScheme',['jquery.sap.global','sap/ui/core/Element'],function(q,E){"use strict";
var T=E.extend("sap.gantt.config.ToolbarScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},sourceSelect:{type:"sap.gantt.config.ToolbarGroup",defaultValue:null},layout:{type:"sap.gantt.config.LayoutGroup",defaultValue:null},customToolbarItems:{type:"sap.gantt.config.ToolbarGroup",defaultValue:null},expandChart:{type:"sap.gantt.config.ExpandChartGroup",defaultValue:null},expandTree:{type:"sap.gantt.config.ToolbarGroup",defaultValue:null},timeZoom:{type:"sap.gantt.config.ToolbarGroup",defaultValue:null},legend:{type:"sap.gantt.config.ToolbarGroup",defaultValue:null},settings:{type:"sap.gantt.config.SettingGroup",defaultValue:null},mode:{type:"sap.gantt.config.ModeGroup",defaultValue:null},toolbarDesign:{type:"string",defaultValue:sap.m.ToolbarDesign.Auto}}}});
return T;},true);
sap.ui.predefine('sap/gantt/control/AssociateContainer',["sap/ui/core/Control","sap/ui/core/Core"],function(C,a){"use strict";
var A=C.extend("sap.gantt.control.AssociateContainer",{metadata:{properties:{enableRootDiv:{type:"boolean",defaultValue:false}},associations:{content:{type:"sap.ui.core.Control",multiple:false}}}});
A.prototype.setContent=function(c){this.setAssociation("content",c);if(c){var o=typeof(c)==="string"?a.byId(c):c;o._oAC=this;}return this;};
return A;},true);
sap.ui.predefine('sap/gantt/control/AssociateContainerRenderer',[],function(){"use strict";var A={};
A.render=function(r,c){if(c.getEnableRootDiv()){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLayoutBG");r.writeClasses();r.addStyle("width","100%");r.addStyle("height","100%");r.addStyle("overFlow","hidden");r.writeStyles();r.write(">");}r.renderControl(sap.ui.getCore().byId(c.getContent()));if(c.getEnableRootDiv()){r.write("</div>");}};
return A;},true);
sap.ui.predefine('sap/gantt/control/Cell',["sap/ui/core/Control","sap/m/Label","sap/ui/model/Context"],function(C,L,a){"use strict";
var b=C.extend("sap.gantt.control.Cell",{metadata:{properties:{cellCallback:{type:"object"},columnConfig:{type:"sap.gantt.config.HierarchyColumn"}}}});
b.prototype.setColumnConfig=function(c){this.setProperty("columnConfig",c);if(c){var A=c.getAttributes();if(A&&A.length>0){this._oMapAttributes={};A.forEach(function(o){this._oMapAttributes[o.getObjectTypeKey()]=o.getAttribute();}.bind(this));}}return this;};
b.prototype.createCellContent=function(c){var o=this.getCellCallback();if(o&&o.createCellContent){return o.createCellContent(c);}return new L();};
b.prototype.updateCellContent=function(c,o,A,O,d){var e=this.getCellCallback();if(e&&e.updateCellContent){e.updateCellContent(c,o,A,O,d);}else{c.setText(o.getProperty(A));}};
b.prototype._updateTableCell=function(c,o,$,A){if(!o){return;}if(!(o instanceof a)){o=o.context;}if(!this._oAttributeControl){this._oAttributeControl=this.createCellContent(this.getColumnConfig());}this._oContext=o;var O=o.getProperty("type");if(this._oMapAttributes){this.updateCellContent(this._oAttributeControl,o,this._oMapAttributes[O],O,this.getColumnConfig());}else{this.updateCellContent(this._oAttributeControl,o,this.getColumnConfig().getAttribute(),O,this.getColumnConfig());}if(this.bOutput){var r=sap.ui.getCore().createRenderManager(),R=this._oAttributeControl.getRenderer();R.render(r,this._oAttributeControl);r.flush(this.getDomRef(),false,false);r.destroy();}};
b.prototype.getContentToRender=function(){return this._oAttributeControl;};
b.prototype.getAccessibilityInfo=function(){var i=this.getContentToRender();return i&&i.getAccessibilityInfo?i.getAccessibilityInfo():null;};
return b;},true);
sap.ui.predefine('sap/gantt/control/CellRenderer',[],function(){"use strict";var C={};
C.render=function(r,c){var o=c.getContentToRender();r.write("<div");r.writeControlData(c);r.write(">");if(o){r.renderControl(o);}r.write("</div>");};
return C;},true);
sap.ui.predefine('sap/gantt/control/Toolbar',["sap/ui/core/Control","sap/ui/core/Core","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/OverflowToolbarPriority","sap/m/ToolbarSpacer","sap/m/FlexBox","sap/m/FlexDirection","sap/m/FlexJustifyContent","sap/m/Button","sap/m/ButtonType","sap/m/SegmentedButton","sap/m/Select","sap/ui/core/Item","sap/m/ViewSettingsDialog","sap/m/ViewSettingsCustomTab","sap/m/PlacementType","sap/m/CheckBox","sap/ui/core/Orientation","./AssociateContainer","sap/gantt/legend/LegendContainer","sap/gantt/misc/Utility","sap/m/Slider","sap/m/Popover"],function(C,a,O,b,c,T,F,d,e,B,f,S,g,h,V,j,P,k,l,A,L,U,n,o){"use strict";
var p=C.extend("sap.gantt.control.Toolbar",{metadata:{properties:{width:{type:"CSSSize",defaultValue:"100%"},height:{type:"CSSSize",defaultValue:"100%"},type:{type:"string",defaultValue:sap.gantt.control.ToolbarType.Global},sourceId:{type:"string"},zoomRate:{type:"float"},zoomInfo:{type:"object"},sliderStep:{type:"int"},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},modes:{type:"array",defaultValue:[sap.gantt.config.DEFAULT_MODE]},mode:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemes:{type:"array",defaultValue:[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME,sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME]},hierarchies:{type:"array",defaultValue:[sap.gantt.config.DEFAULT_HIERARCHY]},containerLayouts:{type:"array",defaultValue:[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT,sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT]}},aggregations:{legend:{type:"sap.ui.core.Control",multiple:false,visibility:"public"},customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem"},_toolbar:{type:"sap.m.OverflowToolbar",multiple:false,visibility:"hidden"}},events:{sourceChange:{parameters:{id:{type:"string"}}},layoutChange:{parameters:{id:{type:"string"},value:{type:"string"}}},expandChartChange:{parameters:{action:{type:"string"},expandedChartSchemes:{type:"[]"}}},expandTreeChange:{parameters:{action:{type:"string"}}},zoomRateChange:{parameters:{zoomRate:{type:"float"}}},settingsChange:{parameters:{id:{type:"string"},value:{type:"boolean"}}},modeChange:{parameters:{mode:{type:"string"}}}}}});
p.ToolbarItemPosition={Left:"Left",Right:"Right"};
p.prototype.init=function(){this._oToolbar=new O({width:"auto",design:sap.m.ToolbarDesign.Auto});this.setAggregation("_toolbar",this._oToolbar,true);this._initCustomToolbarInfo();this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oContainerLayoutConfigMap={};this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT;this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT;this._oZoomSlider=null;this._iCustomItemInsertIndex=-1;this._aCustomItems=[];this._iLiveChangeTimer=-1;this._aTimers=[];this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");};
p.prototype._initCustomToolbarInfo=function(){this._oItemConfiguration={Left:[],Right:[]};this._oAllCustomItems={Left:[],Right:[]};this._iCustomItemInsertIndex=-1;this._aCustomItems=[];};
p.prototype.applySettings=function(s,i){if(this.getSourceId()&&this.getType()){this._resetAllCompositeControls();}var r=C.prototype.applySettings.apply(this,arguments);return r;};
p.prototype.setLegend=function(i){this.setAggregation("legend",i);if(!this._oLegendPop){this._oLegendPop=new o({placement:P.Bottom,showArrow:false,showHeader:false});}if(i){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(i);this._oLegendPop.setOffsetX(this._calcOffsetForLegendPopover());}};
p.prototype.setZoomInfo=function(z){if(z&&z.iChartWidth>0&&this._oZoomSlider){var m=z.determinedByChartWidth.fMinRate,M=z.determinedByConfig.fMaxRate,i=z.determinedByConfig.fRate,Z=this._oZoomSlider;Z.setMin(Math.log(m));Z.setMax(Math.log(M));Z.setStep((Z.getMax()-Z.getMin())/this.getSliderStep());Z.setValue(Math.log(i));this.setProperty("zoomInfo",z);this._setZoomRate(i);}return this;};
p.prototype._setZoomRate=function(z,i){this.setProperty("zoomRate",z,i);if(this._oZoomSlider&&this._oZoomInButton&&this._oZoomOutButton){var v=this._oZoomSlider.getValue(),m=this._oZoomSlider.getMax(),M=this._oZoomSlider.getMin();if(U.floatEqual(v,m)){this._oZoomInButton.setEnabled(false);this._oZoomOutButton.setEnabled(true);}else if(U.floatEqual(v,M)){this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(false);}else{this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(true);}}};
p.prototype.setMode=function(m){this.setProperty("mode",m);if(this._oModeSegmentButton){this._oModeSegmentButton.setSelectedButton(this._oModeButtonMap[m]);}return this;};
p.prototype.setHierarchies=function(H){this.setProperty("hierarchies",H,true);this._oHierarchyConfigMap={};if(H){for(var i=0;i<H.length;i++){this._oHierarchyConfigMap[H[i].getKey()]=H[i];}}this._resetAllCompositeControls();return this;};
p.prototype.setContainerLayouts=function(m){this.setProperty("containerLayouts",m,true);this._oContainerLayoutConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oContainerLayoutConfigMap[m[i].getKey()]=m[i];}}this._resetAllCompositeControls();return this;};
p.prototype.setModes=function(m){this.setProperty("modes",m,true);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
p.prototype.setToolbarDesign=function(t){this._oToolbar.setDesign(t);return this;};
p.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t,true);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}this._resetAllCompositeControls();return this;};
p.prototype.setSourceId=function(s){this.setProperty("sourceId",s,true);this._resetAllCompositeControls();return this;};
p.prototype.setType=function(t){this.setProperty("type",t,true);this._resetAllCompositeControls();return this;};
p.prototype.setSliderStep=function(s){this.setProperty("sliderStep",s,true);this._oZoomSlider.setStep((this._oZoomSlider.getMax()-this._oZoomSlider.getMin())/s);return this;};
p.prototype.addCustomToolbarItem=function(i){if(this._iCustomItemInsertIndex==-1){this._oToolbar.insertContent(i,0);this._iCustomItemInsertIndex++;}else{this._oToolbar.insertContent(i,this._iCustomItemInsertIndex+1);this._iCustomItemInsertIndex++;}this._aCustomItems.push(i);return this;};
p.prototype.insertCustomToolbarItem=function(i,I){var m=this._aCustomItems.length;if(I>=m){I=m;}if(this._iCustomItemInsertIndex===-1){this._oToolbar.insertContent(i,0);this._aCustomItems.push(i);}else{this._oToolbar.insertContent(i,this._iCustomItemInsertIndex-this._aCustomItems.length+1+I);this._aCustomItems.splice(I,0,i);}this._iCustomItemInsertIndex++;return this;};
p.prototype.removeCustomToolbarItem=function(v){if(this._aCustomItems.length===0){return this._aCustomItems;}if((typeof v)==="number"){var i=this._aCustomItems.length;var r=v>i?i:v;this._oToolbar.removeContent(this._iCustomItemInsertIndex-i+r+1);this._iCustomItemInsertIndex--;return this._aCustomItems.splice(r,1);}else if(v){this._oToolbar.removeContent(v);this._iCustomItemInsertIndex--;return this._aCustomItems.splice(jQuery.inArray(v,this._aCustomItems),1);}};
p.prototype.removeAllCustomToolbarItems=function(){var r=[];for(var i=0;i<this._aCustomItems.length;i++){r.push(this._oToolbar.removeContent(this._aCustomItems[i]));}this._iCustomItemInsertIndex=this._iCustomItemInsertIndex-this._aCustomItems.length;this._aCustomItems.splice(0,this._aCustomItems.length);return r;};
p.prototype._resetAllCompositeControls=function(){this._determineToolbarSchemeConfig(this.getSourceId());this._destroyCompositeControls();if(!this._sToolbarSchemeKey){return;}this._resolvePositions();var i,q,s=p.ToolbarItemPosition.Left,r=p.ToolbarItemPosition.Right;var t=this._oItemConfiguration[s];for(i=0;i<t.length;i++){if(t[i]){this._createCompositeControl(s,i,t[i]);}}var R=this._oItemConfiguration[r];for(i=0;i<R.length;i++){if(R[i]){this._createCompositeControl(r,i,R[i]);}}var u=function(q){if(jQuery.isArray(q)){for(var m=0;m<q.length;m++){this._oToolbar.addContent(q[m]);}}else if(q){this._oToolbar.addContent(q);}};for(i=0;i<this._oAllCustomItems[s].length;i++){q=this._oAllCustomItems[s][i];u.call(this,q);}if(this._oAllCustomItems[s].length!==0||this._oAllCustomItems[r].length!==0){this._oToolbar.addContent(new T());}for(i=this._oAllCustomItems[r].length-1;i>=0;i--){q=this._oAllCustomItems[r][i];u.call(this,q);}var z=this.getProperty("zoomInfo");if(z){this.setZoomInfo(z);}};
p.prototype.getAllToolbarItems=function(){return this._oToolbar.getContent();};
p.prototype._determineToolbarSchemeConfig=function(s){this._sToolbarSchemeKey=null;if(this.getType()===sap.gantt.control.ToolbarType.Global&&this._oContainerLayoutConfigMap[s]){this._sToolbarSchemeKey=this._oContainerLayoutConfigMap[s].getToolbarSchemeKey();this._sInitMode=this.getMode()!=sap.gantt.config.DEFAULT_MODE_KEY?this.getMode():this._oContainerLayoutConfigMap[s].getActiveModeKey();}else if(this.getType()===sap.gantt.control.ToolbarType.Local&&this._oHierarchyConfigMap[s]){this._sToolbarSchemeKey=this._oHierarchyConfigMap[s].getToolbarSchemeKey();this._sInitMode=this.getMode()!=sap.gantt.config.DEFAULT_MODE_KEY?this.getMode():this._oHierarchyConfigMap[s].getActiveModeKey();}this._oToolbarScheme=this._oToolbarSchemeConfigMap[this._sToolbarSchemeKey];if(this._oToolbarScheme&&this._oToolbarScheme.getProperty("toolbarDesign")){this.setToolbarDesign(this._oToolbarScheme.getProperty("toolbarDesign"));}};
p.prototype._destroyCompositeControls=function(){var i=this._oToolbar.removeAllContent();i.forEach(function(m){m.destroy();});this._initCustomToolbarInfo();};
p.prototype._resolvePositions=function(){if(this._oToolbarScheme){jQuery.each(this._oToolbarScheme.getMetadata().getAllProperties(),function(m){if(m!=="key"&&m!=="toolbarDesign"){var q=this._oToolbarScheme.getProperty(m);if(q){var r=this._parsePosition(q.getPosition());this._oItemConfiguration[r.position][r.idx]=$.extend({},{groupId:m},q);}}}.bind(this));var s=this._oItemConfiguration;var i=Object.keys(s);i.forEach(function(m){var q=s[m],r=[];var t=Object.keys(q).sort();t.forEach(function(u,v){r.push(q[u]);});s[m]=r;});}};
p.prototype._parsePosition=function(s){return{position:s.toUpperCase().substr(0,1)==="L"?p.ToolbarItemPosition.Left:p.ToolbarItemPosition.Right,idx:parseInt(s.substr(1,s.length-1),10)};};
p.prototype._createCompositeControl=function(s,i,G){var v;switch(G.groupId){case"sourceSelect":v=this._genSourceSelectGroup(G);break;case"layout":v=this._genLayoutGroup(G);break;case"expandChart":v=this._genExpandChartGroup(G);break;case"expandTree":v=this._genExpandTreeGroup(G);break;case"customToolbarItems":v=this._genCustomToolbarItemGroup(s,G);break;case"mode":v=this._genModeButtonGroup(G);break;case"timeZoom":v=this._genZoomSliderGroupControls(G);break;case"legend":v=this._genLegend(G);break;case"settings":v=this._genSettings(G);break;default:break;}if(v){this._oAllCustomItems[s]=this._oAllCustomItems[s].concat(v);}};
p.prototype._genSourceSelectGroup=function(G){var s=this.getSourceId();var t=this;var i;this._oSourceSelectBox=new g({layoutData:new b({priority:G.getOverflowPriority()}),width:"200px",change:function(E){var q=E.getParameter("selectedItem");var r=q.oSourceConfig;t.fireSourceChange({id:q.getKey(),config:r});}});switch(this.getType()){case sap.gantt.control.ToolbarType.Global:i=this.getContainerLayouts();this._oSourceSelectBox.setTooltip(this._oRb.getText("TLTP_GLOBAL_HIERARCHY_RESOURCES"));break;case sap.gantt.control.ToolbarType.Local:i=this.getHierarchies();this._oSourceSelectBox.setTooltip(this._oRb.getText("TLTP_LOCAL_HIERARCHY_RESOURCES"));break;default:return null;}var m;for(var I=0;I<i.length;I++){m=new h({key:i[I].getKey(),text:i[I].getText()});m.oSourceConfig=i[I];this._oSourceSelectBox.addItem(m);if(m.getKey()===s){this._oSourceSelectBox.setSelectedItem(m);}}return this._oSourceSelectBox;};
p.prototype._genLayoutGroup=function(G){if(this.getType==="LOCAL"){return null;}var t=this,H=this.getHierarchies(),m,i;this._oAddGanttChartSelect=new g({icon:"sap-icon://add",type:sap.m.SelectType.IconOnly,autoAdjustWidth:true,maxWidth:"50px",tooltip:this._oRb.getText("TLTP_ADD_GANTTCHART"),forceSelection:false,layoutData:new b({priority:G.getOverflowPriority()}),change:function(E){if(E.getParameter("selectedItem")){var q=t.data("holder");if(q.getGanttCharts().length<q.getMaxNumOfGanttCharts()){if(!t._oLessGanttChartSelect.getEnabled()){t._oLessGanttChartSelect.setEnabled(true);if(t._oVHButton){t._oVHButton.setEnabled(true);}}if(q.getGanttCharts().length==q.getMaxNumOfGanttCharts()-1){this.setEnabled(false);}t.fireLayoutChange({id:"add",value:{hierarchyKey:E.getParameter("selectedItem").getKey(),hierarchyConfig:E.getParameter("selectedItem").data("hierarchyConfig")}});E.getSource().setSelectedItemId("");}if(q.getGanttCharts().length>q.getMaxNumOfGanttCharts()){this.setEnabled(false);}}}});if(H&&H.length>0){for(i=0;i<H.length;i++){m=new h({text:H[i].getText(),key:H[i].getKey()});m.data("hierarchyConfig",H[i]);this._oAddGanttChartSelect.addItem(m);}}this._oLessGanttChartSelect=new g({icon:"sap-icon://less",type:sap.m.SelectType.IconOnly,tooltip:this._oRb.getText("TLTP_REMOVE_GANTTCHART"),maxWidth:"50px",autoAdjustWidth:true,forceSelection:false,layoutData:new b({priority:G.getOverflowPriority()}),change:function(E){if(E.getParameter("selectedItem")){var q=t.data("holder");if(q.getGanttCharts().length<=q.getMaxNumOfGanttCharts()){if(!t._oAddGanttChartSelect.getEnabled()){t._oAddGanttChartSelect.setEnabled(true);}}t.fireLayoutChange({id:"less",value:{hierarchyKey:E.getParameter("selectedItem").getKey(),hierarchyConfig:E.getParameter("selectedItem").data("hierarchyConfig"),ganttChartIndex:E.getParameter("selectedItem").data("ganttChartIndex")}});E.getSource().setSelectedItemId("");if(q.getGanttCharts().length==1){this.setEnabled(false);if(t._oVHButton){t._oVHButton.setEnabled(false);}}}}});this._oLessGanttChartSelect.addEventDelegate({onclick:this._fillLessGanttChartSelectItem},this);var I=this._oContainerLayoutConfigMap[this.getSourceId()].getOrientation()===l.Vertical?"sap-icon://resize-vertical":"sap-icon://resize-horizontal";this._oVHButton=new B({icon:I,tooltip:this._oRb.getText("TLTP_SWITCH_GANTTCHART"),type:G.getEnableRichStyle()?f.Emphasized:f.Default,layoutData:new b({priority:G.getOverflowPriority()}),press:function(E){switch(this.getIcon()){case"sap-icon://resize-vertical":this.setIcon("sap-icon://resize-horizontal");t.fireLayoutChange({id:"orientation",value:l.Horizontal});break;case"sap-icon://resize-horizontal":this.setIcon("sap-icon://resize-vertical");t.fireLayoutChange({id:"orientation",value:l.Vertical});break;default:break;}}});this._oLayoutButton=[this._oAddGanttChartSelect,this._oLessGanttChartSelect,this._oVHButton];return this._oLayoutButton;};
p.prototype._fillLessGanttChartSelectItem=function(){var G=this.data("holder").getGanttCharts(),I;this._oLessGanttChartSelect.removeAllItems();if(G&&G.length>0){for(var i=0;i<G.length;i++){I=new h({text:this._oHierarchyConfigMap[G[i].getHierarchyKey()].getText(),key:G[i].getHierarchyKey()});I.data("hierarchyConfig",this._oHierarchyConfigMap[G[i].getHierarchyKey()]);I.data("ganttChartIndex",i);this._oLessGanttChartSelect.insertItem(I,i);}}};
p.prototype._genExpandChartGroup=function(G){this._aChartExpandButtons=[];var m=function(s){this.fireExpandChartChange({isExpand:s.getSource().data("isExpand"),expandedChartSchemes:s.getSource().data("chartSchemeKeys")});};var E=G.getExpandCharts(),q;for(var i=0;i<E.length;i++){var r=E[i];q=new B({icon:r.getIcon(),tooltip:r.getTooltip(),layoutData:new b({priority:G.getOverflowPriority()}),press:m.bind(this),type:G.getEnableRichType()&&r.getIsExpand()?f.Emphasized:f.Default,customData:[new sap.ui.core.CustomData({key:"isExpand",value:r.getIsExpand()}),new sap.ui.core.CustomData({key:"chartSchemeKeys",value:r.getChartSchemeKeys()})]});if(G.getShowArrowText()){q.setText(r.getIsExpand()?"ꜜ":"ꜛ");}this._aChartExpandButtons.push(q);}return this._aChartExpandButtons;};
p.prototype._genCustomToolbarItemGroup=function(s,G){if(this._iCustomItemInsertIndex===-1){var t=this._oAllCustomItems[s].length;if(t===0){this._iCustomItemInsertIndex=-1;}else{this._iCustomItemInsertIndex=t-1;}}return this._aCustomItems;};
p.prototype._genExpandTreeGroup=function(G){var t=this;this._oTreeGroup=[new B({icon:"sap-icon://expand",tooltip:this._oRb.getText("TLTP_EXPAND"),layoutData:new b({priority:G.getOverflowPriority()}),press:function(E){t.fireExpandTreeChange({action:"expand"});}}),new B({icon:"sap-icon://collapse",tooltip:this._oRb.getText("TLTP_COLLAPSE"),layoutData:new b({priority:G.getOverflowPriority()}),press:function(E){t.fireExpandTreeChange({action:"collapse"});}})];return this._oTreeGroup;};
p.prototype._genModeButtonGroup=function(G){var m=function(E){var s=E.getParameter("button");this.fireModeChange({mode:s.data("mode")});};this._oModeSegmentButton=new S({select:m.bind(this)});this._oModeButtonMap={};var J=function(i,M){if(this._oModesConfigMap[M]){var q=new B({icon:this._oModesConfigMap[M].getIcon(),activeIcon:this._oModesConfigMap[M].getActiveIcon(),tooltip:this._oModesConfigMap[M].getText(),layoutData:new b({priority:G.getOverflowPriority()}),customData:[new sap.ui.core.CustomData({key:"mode",value:M})]});this._oModeButtonMap[M]=q;this._oModeSegmentButton.addButton(q);}};jQuery.each(G.getModeKeys(),J.bind(this));if(this._sInitMode){this._oModeSegmentButton.setSelectedButton(this._oModeButtonMap[this._sInitMode]);}return this._oModeSegmentButton;};
p.prototype._genZoomSliderGroupControls=function(G){var i=new b({priority:G.getOverflowPriority()});var s=function(t){return Math.pow(Math.E,t);};var m=function(t){jQuery.sap.clearDelayedCall(this._iLiveChangeTimer);this._iLiveChangeTimer=-1;var u=this.getZoomRate();this._setZoomRate(t,true);if(u&&U.floatEqual(t,u)){return;}this.fireZoomRateChange({zoomRate:t});jQuery.sap.log.debug("Toolbar Zoom Rate was changed, zoomRate is: "+t);};var z=new n({width:"200px",layoutData:i,liveChange:function(E){var t=s(E.getSource().getValue());jQuery.sap.clearDelayedCall(this._iLiveChangeTimer);this._iLiveChangeTimer=jQuery.sap.delayedCall(200,this,m,[t]);}.bind(this)});var Z=function(t){return function(E){var u=t?this._oZoomSlider.stepUp(1).getValue():this._oZoomSlider.stepDown(1).getValue();this._iLiveChangeTimer=jQuery.sap.delayedCall(200,this,m,[s(u)]);};};var q=new sap.m.Button({icon:"sap-icon://zoom-in",tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_IN"),layoutData:i.clone(),press:Z(true).bind(this)});var r=new B({icon:"sap-icon://zoom-out",tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_OUT"),layoutData:i.clone(),press:Z(false).bind(this)});this._oZoomSlider=z;this._oZoomInButton=q;this._oZoomOutButton=r;var R=[];if(!G.getShowZoomButtons||G.getShowZoomButtons()){R.push(q);}if(!G.getShowZoomSlider||G.getShowZoomSlider()){R.push(z);}if(!G.getShowZoomButtons||G.getShowZoomButtons()){R.push(r);}return R;};
p.prototype._genLegend=function(G){if(!this._oLegendPop){this._oLegendPop=new o({placement:P.Bottom,showArrow:false,showHeader:false});}if(this.getLegend()){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(this.getLegend());}this._oLegendButton=new B({icon:"sap-icon://legend",tooltip:this._oRb.getText("TLTP_SHOW_LEGEND"),layoutData:new b({priority:G.getOverflowPriority(),closeOverflowOnInteraction:false}),press:function(E){this._oLegendPop.setOffsetX(this._calcOffsetForLegendPopover());var i=this._oLegendPop;if(i.isOpen()){i.close();}else{i.openBy(this._oLegendButton);}}.bind(this)});return this._oLegendButton;};
p.prototype._genSettings=function(G){var s=G.getItems()||[];var t=this;var m=s.map(function(i){return new k({name:i.getKey(),text:i.getDisplayText(),tooltip:i.getTooltip(),selected:i.getChecked()}).addStyleClass("sapUiSettingBoxItem");});this._aOldSettingState=m.map(function(i){return i.getSelected();});var r=function(m){for(var i=0;i<m.length;i++){switch(m[i].getName()){case sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY:m[i].setSelected(this.getEnableNowLine());break;case sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY:m[i].setSelected(this.getEnableCursorLine());break;case sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY:m[i].setSelected(this.getEnableVerticalLine());break;case sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY:m[i].setSelected(this.getEnableTimeScrollSync());break;default:break;}}}.bind(this);this._oSettingsBox=new F({direction:d.Column,items:m}).addStyleClass("sapUiSettingBox");this._oSettingsDialog=new V({title:this._oRb.getText("SETTINGS_DIALOG_TITLE"),customTabs:[new j({content:this._oSettingsBox})],confirm:function(){var q=this._oSettingsBox.getItems();var u=[];for(var i=0;i<q.length;i++){u.push({id:q[i].getName(),value:q[i].getSelected()});t._aOldSettingState[i]=q[i].getSelected();}this.fireSettingsChange(u);}.bind(this),cancel:function(){r(m);}});this._oSettingsButton=new B({icon:"sap-icon://action-settings",tooltip:this._oRb.getText("TLTP_CHANGE_SETTINGS"),layoutData:new b({priority:G.getOverflowPriority()}),press:function(E){this._oSettingsDialog.open();}.bind(this)});return this._oSettingsButton;};
p.prototype.getToolbarSchemeKey=function(){return this._sToolbarSchemeKey;};
p.prototype.setEnableNowLine=function(E){this.setProperty("enableNowLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY,E);}return this;};
p.prototype.setEnableCursorLine=function(E){this.setProperty("enableCursorLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY,E);}return this;};
p.prototype.setEnableVerticalLine=function(E){this.setProperty("enableVerticalLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY,E);}return this;};
p.prototype.setEnableTimeScrollSync=function(E){this.setProperty("enableTimeScrollSync",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY,E);}return this;};
p.prototype._setSettingItemProperties=function(s,m){var q=this._oSettingsBox.getItems();for(var i=0;i<q.length;i++){if(q[i].getName()===s){q[i].setSelected(m);break;}}};
p.prototype.exit=function(){if(this._oLegendPop){this._oLegendPop.destroy(false);}if(this._oSettingsPop){this._oSettingsPop.destroy(false);}};
p.prototype._calcOffsetForLegendPopover=function(){var i=0,m=65;var q=1;var z=1;var r=window.devicePixelRatio||1;r=Math.round(r*100)/100;if(sap.ui.Device.browser.name==="ie"){z=Math.round((screen.deviceXDPI/screen.logicalXDPI)*100)/100;}else if(sap.ui.Device.browser.name==="cr"){z=Math.round((window.outerWidth/window.innerWidth)*100)/100;}else{z=r;}if(z!==1){if(z<1||(z-1)%1===0){m+=m*(z-1)*0.1;}else{m=85;}r=Math.round(r*10)/10;if(z<1){q=r+Math.floor((1-z)*10)/10;}else if(z<=1.1){q=Math.round(z*10)/10*r;}else{q=r-Math.floor((z-1.1)*10)/10;}}if(a.getConfiguration().getRTL()===true){i=140;}else{var s=this._oLegendPop.getContent();if(s&&s.length>0){var t=sap.ui.getCore().byId(s[0].getContent());i=Math.round((m-parseInt(t.getWidth(),10))*q);}}return i;};
return p;},true);
sap.ui.predefine('sap/gantt/control/ToolbarRenderer',[],function(){"use strict";var T={};
T.render=function(r,t){var n=t.getAllToolbarItems().length;r.write("<div");r.writeControlData(t);r.addClass("sapGanttToolbar");if(n==0){r.addClass("sapGanttSkipToolbar");}r.writeClasses();r.write(">");r.renderControl(t.getAggregation("_toolbar"));r.write("</div>");};
return T;},true);
sap.ui.predefine('sap/gantt/def/DefBase',["sap/ui/core/Element"],function(E){"use strict";
var D=E.extend("sap.gantt.def.DefBase",{metadata:{"abstract":true,properties:{defString:{type:"string",defaultValue:null},refString:{type:"string",defaultValue:null}}}});
D.prototype.getRefString=function(){var d=this.getProperty("refString");return d?d:"url(#"+this.generateRefId()+")";};
D.prototype.generateRefId=function(){return this.getId();};
return D;},true);
sap.ui.predefine('sap/gantt/def/SvgDefs',["sap/ui/base/ManagedObject"],function(M){"use strict";
var S=M.extend("sap.gantt.def.SvgDefs",{metadata:{aggregations:{defs:{type:"sap.gantt.def.DefBase",multiple:true,visibility:"public",singularName:"def",bindable:"bindable"}}}});
S.prototype.getDefString=function(){var r="<defs id='"+this.getId()+"'>",d=this.getDefs();if(d&&d.length>0){d.forEach(function(D,i){r+=D.getDefString();});}return r+"</defs>";};
S.prototype.getDefNode=function(){var r={"id":this.getId(),"defNodes":[]};var d=this.getDefs();for(var i=0;i<d.length;i++){r.defNodes.push(d[i].getDefNode());}return r;};
return S;},true);
sap.ui.predefine('sap/gantt/def/cal/Calendar',["../DefBase","sap/gantt/misc/Format"],function(D,F){"use strict";
var C=D.extend("sap.gantt.def.cal.Calendar",{metadata:{properties:{key:{type:"string",defaultValue:"calendar"},backgroundColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#e5e5e5"}},aggregations:{timeIntervals:{type:"sap.gantt.def.cal.TimeInterval",multiple:true,singularName:"timeInterval",bindable:"bindable"}}}});
C.prototype.getDefNode=function(){var t=this.getTimeIntervals();var s=(this.getParent()&&this.getParent().getParent())?this.getParent().getParent()._oStatusSet:null;var v=s?s.aViewBoundary:null;var T=s?s.aTimeBoundary:null;var f=t;if(T&&s){f=t.filter(function(o){var a=F.abapTimestampToDate(o.getStartTime());var e=F.abapTimestampToDate(o.getEndTime());if(s.bRTL===true){return(e<T[0]&&e>T[1])||(a>T[1]&&a<T[0]);}else{return(e<T[1]&&e>T[0])||(a>T[0]&&a<T[1]);}});}var w=(v&&v.length>1)?(v[1]-v[0]):1;var p={id:this.generateRefId(),x:0,y:0,width:w,timeIntervals:[]};for(var i=0;i<f.length;i++){var I=f[i].getDefNode();I.fill=this.getBackgroundColor();p.timeIntervals.push(I);}return p;};
C.prototype.generateRefId=function(){var i=(this.getParent()&&this.getParent().getParent())?this.getParent().getParent().getId():"";return i+"_"+this.getKey();};
return C;},true);
sap.ui.predefine('sap/gantt/def/cal/CalendarDefs',["../SvgDefs"],function(S){"use strict";
var C=S.extend("sap.gantt.def.cal.CalendarDefs",{});
C.prototype.getRefString=function(c){var i="";if(this.getParent()&&this.getParent().getId()){i=this.getParent().getId();}return"url(#"+i+"_"+c+")";};
return C;},true);
sap.ui.predefine('sap/gantt/def/cal/TimeInterval',["../DefBase","sap/gantt/misc/Format","sap/ui/core/Core"],function(D,F,C){"use strict";
var T=D.extend("sap.gantt.def.cal.TimeInterval",{metadata:{properties:{startTime:{type:"string",group:"Misc",defaultValue:null},endTime:{type:"string",group:"Misc",defaultValue:null}}}});
T.prototype.setStartTime=function(s){this.setProperty("startTime",this._convertTimestamp(s));};
T.prototype.setEndTime=function(e){this.setProperty("endTime",this._convertTimestamp(e));};
T.prototype._convertTimestamp=function(t){var r=t;if(r&&typeof r==="object"){r=F.dateToAbapTimestamp(r);}return r;};
T.prototype.getDefNode=function(){var a=(this.getParent()&&this.getParent().getParent()&&this.getParent().getParent().getParent())?this.getParent().getParent().getParent().getAxisTime():null;var s;var w;if(a){if(C.getConfiguration().getRTL()===true){s=a.timeToView(F.abapTimestampToDate(this.getEndTime()));w=a.timeToView(F.abapTimestampToDate(this.getStartTime()))-s;}else{s=a.timeToView(F.abapTimestampToDate(this.getStartTime()));w=a.timeToView(F.abapTimestampToDate(this.getEndTime()))-s;}}return{x:s,y:0,width:w};};
return T;},true);
sap.ui.predefine('sap/gantt/def/filter/MorphologyFilter',["../DefBase"],function(D){"use strict";
var M=D.extend("sap.gantt.def.filter.MorphologyFilter",{metadata:{properties:{operator:{type:"string",defaultValue:sap.gantt.def.filter.MorphologyOperator.Dilate},radius:{type:"string",defaultValue:"2,1"},colorMatrix:{type:"string",defaultValue:sap.gantt.def.filter.ColorMatrixValue.AllToWhite}}}});
M.prototype.getDefString=function(){return"<filter id='"+this.getId()+"'>"+"<feMorphology in='SourceAlpha' result='morphed' operator='"+this.getOperator()+"' radius='"+this.getRadius()+"'/>"+"<feColorMatrix in='morphed' result='recolored' type='matrix' values='"+this.getColorMatrix()+"'/>"+"<feMerge>"+"<feMergeNode in='recolored'/>"+"<feMergeNode in='SourceGraphic'/>"+"</feMerge>"+"</filter>";};
return M;},true);
sap.ui.predefine('sap/gantt/def/gradient/LinearGradient',["../DefBase"],function(D){"use strict";
var L=D.extend("sap.gantt.def.gradient.LinearGradient",{metadata:{properties:{x1:{type:"string",defaultValue:"0"},y1:{type:"string",defaultValue:"0"},x2:{type:"string",defaultValue:"100"},y2:{type:"string",defaultValue:"15"}},aggregations:{stops:{type:"sap.gantt.def.gradient.Stop",multiple:true,singularName:"stop"}}}});
L.prototype.getDefString=function(){var r="<linearGradient id='"+this.getId()+"' x1='"+this.getX1()+"' y1='"+this.getY1()+"' x2='"+this.getX2()+"' y2='"+this.getY2()+"'>";var s=this.getStops();for(var i=0;i<s.length;i++){r=r.concat(s[i].getDefString());}r=r.concat("</linearGradient>");return r;};
return L;},true);
sap.ui.predefine('sap/gantt/def/gradient/RadialGradient',["../DefBase"],function(D){"use strict";
var R=D.extend("sap.gantt.def.gradient.RadialGradient",{metadata:{properties:{cx:{type:"number",defaultValue:400},cy:{type:"number",defaultValue:200},r:{type:"number",defaultValue:300},fx:{type:"number",defaultValue:400},fy:{type:"number",defaultValue:200}},aggregations:{stops:{type:"sap.gantt.def.gradient.Stop",multiple:true,singularName:"stop"}}}});
return R;},true);
sap.ui.predefine('sap/gantt/def/gradient/Stop',["../DefBase"],function(D){"use strict";
var S=D.extend("sap.gantt.def.gradient.Stop",{metadata:{properties:{offSet:{type:"string",defaultValue:"5%"},stopColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#FFFFFF"}}}});
S.prototype.getDefString=function(){return"<stop id='"+this.getId()+"' offset='"+this.getOffSet()+"' stop-color='"+this.getStopColor()+"' />";};
return S;},true);
sap.ui.predefine('sap/gantt/def/pattern/BackSlashPattern',["./PatternBase"],function(P){"use strict";
var B=P.extend("sap.gantt.def.pattern.BackSlashPattern",{metadata:{properties:{path:{type:"string"},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"int",defaultValue:2}}}});
B.prototype.getPath=function(){var t=this.getTileWidth();var a=this.getTileHeight();var s="";s=s.concat("M").concat(t/4).concat(",").concat(a/4*5).concat(" ");s=s.concat("l-").concat(t/2).concat(",-").concat(a/2).concat(" ");s=s.concat("M0,0").concat(" ");s=s.concat("l").concat(t).concat(",").concat(a).concat(" ");s=s.concat("M").concat(t/4*5).concat(",").concat(a/4).concat(" ");s=s.concat("l-").concat(t/2).concat(",-").concat(a/2).concat(" ");return s;};
B.prototype.getDefString=function(){return"<pattern class='pattern' id='"+this.getId()+"' patternUnits='userSpaceOnUse' x='0' y='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"'><rect x='0' width='"+this.getTileWidth()+"' height='"+(this.getTileHeight()+4)+"' stroke-width='"+this.getStrokeWidth()+"' fill='"+this.getBackgroundColor()+"' fill-opacity='"+this.getBackgroundFillOpacity()+"'></rect><path d='"+this.getPath()+"' stroke='"+this.getStroke()+"' stroke-width='"+this.getStrokeWidth()+"'></path></pattern>";};
return B;},true);
sap.ui.predefine('sap/gantt/def/pattern/PatternBase',["../DefBase"],function(D){"use strict";
var P=D.extend("sap.gantt.def.pattern.PatternBase",{metadata:{"abstract":true,properties:{tileWidth:{type:"int",defaultValue:8},tileHeight:{type:"int",defaultValue:8},backgroundColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#fff"},backgroundFillOpacity:{type:"number",defaultValue:"1"}}}});
return P;},true);
sap.ui.predefine('sap/gantt/def/pattern/SlashPattern',["./PatternBase"],function(P){"use strict";
var S=P.extend("sap.gantt.def.pattern.SlashPattern",{
library:"sap.gantt",
metadata:{properties:{path:{type:"string",defaultValue:null},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"int",defaultValue:2}}}
});
S.prototype.getPath=function(){var t=this.getTileWidth();var a=this.getTileHeight();var s="";s=s.concat("M-").concat(t/4).concat(",").concat(a/4).concat(" ");s=s.concat("l").concat(t/2).concat(",-").concat(a/2).concat(" ");s=s.concat("M0").concat(",").concat(a).concat(" ");s=s.concat("l").concat(t).concat(",-").concat(a).concat(" ");s=s.concat("M").concat(t/4*3).concat(",").concat(a/4*5).concat(" ");s=s.concat("l").concat(t/2).concat(",-").concat(a/2).concat(" ");return s;};
S.prototype.getDefString=function(){return"<pattern class='pattern' id='"+this.getId()+"' patternUnits='userSpaceOnUse' x='0' y='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"'><rect x='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"' fill='"+this.getBackgroundColor()+"' fill-opacity='"+this.getBackgroundFillOpacity()+"'></rect><path d='"+this.getPath()+"' stroke='"+this.getStroke()+"' stroke-width='"+this.getStrokeWidth()+"'></path></pattern>";};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/CalendarPattern',["sap/ui/core/Core","sap/gantt/misc/Format","sap/ui/core/format/DateFormat","sap/gantt/drawer/Drawer","sap/ui/thirdparty/d3"],function(C,F,D,a){"use strict";
var b=a.extend("sap.gantt.drawer.CalendarPattern");
b.prototype.drawSvg=function(s,p,P,S,B){this._oStatusSet=S;if(P&&P.getDefNode()&&P.getDefNode().defNodes){var c=P.getDefNode();var e=p+"-calendardefs";if(!(d3.select("#"+e).empty())){jQuery("#"+e).remove();}var w=this._oStatusSet.aViewBoundary[1]-this._oStatusSet.aViewBoundary[0];if(w<0){w=this._oStatusSet.aViewBoundary[0]-this._oStatusSet.aViewBoundary[1];}var f={height:B,width:w};var g=s.select("#"+e);if(g.empty()){g=s.insert("defs",":first-child").attr("id",e);}var h=g.selectAll(".calendarPattern").data(c.defNodes);h.enter().append("pattern").attr("class","calendarPattern").attr("id",function(d){return d.id;}).attr("patternUnits","userSpaceOnUse").attr("x",0).attr("y",0).attr("width",f.width).attr("height",f.height);h.exit().remove();var i=h.selectAll("rect").data(function(){return this.parentNode.__data__.timeIntervals;});i.enter().append("rect");i.attr("x",function(d){return d.x;}).attr("y",function(d){return d.y;}).attr("width",function(d){return d.width;}).attr("height",f.height).attr("fill",function(d){return d.fill;});i.exit().remove();}};
return b;},true);
sap.ui.predefine('sap/gantt/drawer/CursorLine',["sap/ui/core/Core","sap/ui/Device","sap/gantt/misc/Format","sap/gantt/drawer/Drawer","sap/ui/thirdparty/d3"],function(C,D,F,a){"use strict";
var b=a.extend("sap.gantt.drawer.CursorLine");
b.prototype.drawSvg=function(s,S,l,c){this._oLocale=l;var i=jQuery('#'+c.svgId).offset().left;var A=[];s.each(function(d,e){var o=jQuery(this),f=o.offset();A.push({x:c.x+i-f.left,y:c.y,svgId:o.attr("id"),svgHeight:o.height()});});var t=this;S.each(function(d,e){var h=t._createHeaderTopG(d3.select(this));t._drawHeaderLabel(h,A[e]);});s.each(function(d,e){var B=t._createBodyTopG(d3.select(this));t._drawCursorLine(B,A[e]);});};
b.prototype._createBodyTopG=function(s){var B=s.selectAll(".cursorline-top").data(function(){return[{svgHeight:jQuery(this.parentNode).height()}];});B.enter().append("g").classed("cursorline-top",true);B.exit().remove();return B;};
b.prototype._drawCursorLine=function(g,s){var p=g.selectAll("path").data(function(d){return[{svgHeight:d.svgHeight,x:s.x,y:s.y}];});p.enter().append("path").classed("sapGanttCursorLineBody",true);p.attr("d",function(d){return"M"+d.x+",0v"+d.svgHeight+"h1h-1";});p.exit().remove();};
b.prototype._createHeaderTopG=function(s){var h=s.selectAll(".cursorline-header-top").data(function(){return[{svgHeight:jQuery(this.parentNode).height()}];});h.enter().append("g").classed("cursorline-header-top",true);h.exit().remove();return h;};
b.prototype._drawHeaderLabel=function(g,s){var t=this;var A=this._getAxisTime(s.svgId);var r=g.selectAll("rect").data(function(d){return[{svgHeight:d.svgHeight,svgId:d.svgId,x:s.x,y:s.y}];});r.enter().append("rect").classed("sapGanttCursorLineHeader",true);r.attr("width",function(d){return 64;}).attr("height",function(d){return d.svgHeight>80?30:25;}).attr("x",function(d){return d.x-parseFloat(r.attr('width'))/2;}).attr("y",function(d){return d.svgHeight-parseFloat(r.attr('height'))-5;});r.exit().remove();var T=g.selectAll("text").data(function(d){return[{x:parseFloat(r.attr('x'))+parseFloat(r.attr('width')/2),y:parseFloat(r.attr('y'))+parseFloat(r.attr('height')/2)}];});T.enter().append("text").classed("sapGanttCursorLineLabel",true);T.attr("x",function(d){return d.x;}).attr("y",function(d){return d.y;}).text(function(d){return t._getTimeLabel(F.dateToAbapTimestamp(A.viewToTime(d.x)),t._oLocale,A);});if(D.browser.msie){T.attr("dy",".35em");}T.exit().remove();};
b.prototype.destroySvg=function(s,S){s.selectAll(".cursorline-top").remove();S.selectAll(".cursorline-header-top").remove();};
b.prototype._getAxisTime=function(e){var $=jQuery("#"+e);var A=null;if($&&$.control()){A=$.control()[0].getAxisTime();}return A;};
b.prototype._getTimeLabel=function(t,l,A){var L=F._convertUTCToLocalTime(t,l);var z=A.getZoomStrategy()[A.getCurrentTickTimeIntervalKey()].smallInterval;return F.creatTimeLabel(z,L);};
return b;},true);
sap.ui.predefine('sap/gantt/drawer/Drawer',["sap/ui/base/Object"],function(O){"use strict";
var D=O.extend("sap.gantt.drawer.Drawer",{metadata:{"abstract":true}});
return D;},true);
sap.ui.predefine('sap/gantt/drawer/ExpandedBackground',["sap/gantt/drawer/Drawer","sap/ui/thirdparty/d3"],function(D,U,C){"use strict";
var E=D.extend("sap.gantt.drawer.ExpandedBackground");
E.prototype.drawSvg=function(s,d,c){if(!d){return null;}var e=[];for(var i=0;i<d.length;i++){if((d[i].index&&d[i].index!==0)||c.hasOwnProperty(d[i].chartScheme)){e.push(d[i]);}}var b=s.selectAll(".sapGanttChartRowBackground").remove();b=s.insert("g",":first-child").classed("sapGanttChartRowBackground",true);var S=b.selectAll(".expandedRow").data(e);S.enter().append("g").classed("expandedRow",true);S.exit().remove();if(!S.empty()){var a=jQuery(s.node()).width();this._drawExpandedBackground(s,a,c);}};
E.prototype._drawExpandedBackground=function(s,w,c){s.selectAll(".expandedRow").selectAll("rect").remove();s.selectAll(".expandedRow").append("rect").attr("x",function(d){return 0;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",function(d){return"100%";}).attr("class",function(d){var b=c[d.chartScheme];if(b&&b!==""){return b;}else{return"sapGanttExpandChartCntBG";}});s.selectAll(".expandedRow").selectAll("path").remove();s.selectAll(".expandedRow").append("path").classed("sapGanttExpandChartLine",true).attr("d",function(d){return"M0 "+(d.y-1)+" H"+(w-1);});};
return E;},true);
sap.ui.predefine('sap/gantt/drawer/NowLine',["sap/gantt/misc/Utility","./Drawer","sap/ui/thirdparty/d3"],function(U,D){"use strict";var l=8;
var N=D.extend("sap.gantt.drawer.NowLine",{constructor:function(a){this.oAxisTime=a;}});
N.prototype.drawSvg=function(g,G){this.destroySvg(g,G);var n=this.oAxisTime.getNowLabel()[0].value;var c=jQuery(g.node()).width();if(n>c){return;}var C=g,o=G;var s={x:n,y:jQuery(G.node()).height()};this._drawHeaderTriangle(s,o);this._drawBodyStaightLine(s,C);};
N.prototype._drawHeaderTriangle=function(s,p){var h=l/2,t=Math.sqrt(l*l-h*h);var T=[s,{x:s.x-h,y:s.y-t},{x:s.x+h,y:s.y-t},s];var L=d3.svg.line().x(function(d){return d.x;}).y(function(d){return d.y;}).interpolate("linera");p.append("g").classed("sapGanttNowLineHeaderSvgPath",true).append("path").attr("d",L(T));};
N.prototype._drawBodyStaightLine=function(s,p){var n=p.selectAll(".sapGanttNowLineBodySvgLine").data(function(){var w=jQuery(window).height();return[{x1:s.x,y1:0,x2:s.x,y2:s.y+w}];});n.enter().append("g").classed("sapGanttNowLineBodySvgLine",true);var o=n.selectAll("g").data(function(d){return[d];});o.enter().append("line");o.attr("x1",function(d){return d.x1;}).attr("y1",function(d){return d.y1;}).attr("x2",function(d){return d.x2;}).attr("y2",function(d){return d.y2;});o.exit().remove();};
N.prototype.destroySvg=function(g,G){if(g&&G){g.selectAll(".sapGanttNowLineBodySvgLine").remove();G.selectAll(".sapGanttNowLineHeaderSvgPath").remove();}};
return N;},true);
sap.ui.predefine('sap/gantt/drawer/SelectionPanel',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/core/Core","sap/ui/core/IconPool","sap/ui/Device","sap/ui/thirdparty/d3"],function(D,U,C,I,a){"use strict";
var S=D.extend("sap.gantt.drawer.SelectionPanel");
S.prototype.drawSvg=function(t,d,T,g){if(!d){return;}this._oGanttChartWithTable=g;var e=[];for(var i=0;i<d.length;i++){if(d[i].index&&d[i].index!==0){e.push(d[i]);}}var b=t.selectAll(".sapGanttSelectionPanel");if(b.empty()){b=t.append("g").classed("sapGanttSelectionPanel",true);}if(!b.empty()){var c=$(t.node()).width();this._drawExpandedBackground(b,c,T,e);this._drawExpandedContent(b,c,T,e);}};
S.prototype._drawExpandedBackground=function(s,t,T,b){var h=s.selectAll(".sapGanttExpandChartHeaderBG").data(b);h.enter().append("rect").classed("sapGanttExpandChartHeaderBG",true);h.attr("x",function(){return C.getConfiguration().getRTL()?t-T+1:2;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",T-2);h.exit().remove();var c=s.selectAll(".sapGanttExpandChartCntBG").data(b);c.enter().append("rect").classed("sapGanttExpandChartCntBG",true);c.attr("x",function(){return C.getConfiguration().getRTL()?2:T+1;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",t-T-3);c.exit().remove();var B=s.selectAll("path.sapGanttExpandChartLine").data(b);B.enter().append("path").classed("sapGanttExpandChartLine",true);B.attr("d",function(d){return"M0 "+(d.y-1)+" H"+(t-1);});B.exit().remove();};
S.prototype._drawExpandedContent=function(s,t,T,b){var g=this._getLevelIndentByShape;var c=[];for(var i=0;i<b.length;i++){if(b[i].index===1){var e=[];e.push(b[i]);c.push(e);}}s.selectAll("g").remove();var f=s.selectAll("g").data(c);f.enter().append("g").classed("sapGanttExpandChartContent",true);f.exit().remove();var h=f.selectAll(".sapGanttExpandChartIcon").data(function(d){return d;});h.enter().append(function(d){if(I.isIconURI(d.icon)){return document.createElementNS("http://www.w3.org/2000/svg",'text');}return document.createElementNS("http://www.w3.org/2000/svg",'image');}).classed("sapGanttExpandChartIcon",true).classed("iconFont",function(d){return I.isIconURI(d.icon);}).classed("iconImage",function(d){return!(I.isIconURI(d.icon));});f.selectAll(".iconImage").attr("xlink:href",function(d){return d.icon;}).attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d)-17:g(d)+T;}).attr("y",function(d){return d.y+4.25;}).attr("width",16).attr("height",16);f.selectAll(".iconFont").attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d):g(d)+T;}).attr("y",function(d){return d.y+19;}).text(function(d){var o=I.getIconInfo(d.icon);if(o){return o.content;}}).attr("font-family",function(d){var o=I.getIconInfo(d.icon);if(o){return o.fontFamily;}}).attr("font-size","16px");h.exit().remove();var j=f.selectAll("sapGanttExpandChartText").data(function(d){return d;});j.enter().append("text").classed("sapGanttExpandChartText",true);j.attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d)-26:g(d)+T+27;}).attr("y",function(d){return d.y+16.5;}).attr("font-size",function(d){return"0.75em";}).text(function(d){return d.name;}).attr("text-anchor",(a.browser.msie||a.browser.edge)&&C.getConfiguration().getRTL()?"end":"start");j.exit().remove();var k=this;var l=f.selectAll(".sapGanttExpandChartCloseButton").data(function(d){return d;});l.enter().append("text").classed("sapGanttExpandChartCloseButton",true);l.attr("x",function(d){var p,P=jQuery(this).prev("text");if(P&&P.length>0){var B=P[0].getBoundingClientRect();if(B&&B.width>0){p=B.width;}else{p=P[0].clientWidth;}}if(isNaN(p)||p==null||p==0){p=60;}var m=C.getConfiguration().getRTL()?t-T-g(d)-p-37:g(d)+T+p+35;return m;}).attr("y",function(d){return d.y+19;}).text(function(d){var o=I.getIconInfo("decline",undefined);if(o){return o.content;}}).attr("font-family",function(d){var o=I.getIconInfo("decline",undefined);if(o){return o.fontFamily;}}).attr("font-size","14px").attr("font-weight","bolder").on("click",function(d){var B=k._oGanttChartWithTable._oTT.getBinding("rows");var r=B.getContexts(0,B.getLength());for(var i=0;i<r.length;i++){var o=r[i].getProperty();if(o&&d.id&&o.id===d.id){k._oGanttChartWithTable.handleExpandChartChange(false,[d.chartScheme],[i]);}}});l.select("title").remove();l.insert("title",":first-child").text(function(d){return sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("TLTP_CLOSE");});l.exit().remove();};
S.prototype._getLevelIndentByShape=function(s){var f=13;var m=17;var i=25;var h=0;if(s&&s.bindingObj&&s.bindingObj._aRowIndexMap&&s.rowIndex&&s.rowIndex<s.bindingObj._aRowIndexMap.length){h=s.bindingObj._aRowIndexMap[s.rowIndex].level;}if(isNaN(h)||h==null){h=0;}return m*h+i+f;};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/ShapeCrossRow',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(D,U){"use strict";
var S=D.extend("sap.gantt.drawer.ShapeCrossRow");
S.prototype.drawSvg=function(s,o,a,A){this._oAxisTime=a;this._oAxisOrdinal=A;var b=s.select("."+o.getId()+"-top");if(b.empty()){b=s.append("g").classed(o.getId()+"-top",true);}var r=[];for(var i in o.dataSet){r.push(o.dataSet[i].shapeData[0]);}var c=b.selectAll("."+o.getId()).data(r);this._drawPath(c,o);this._drawInsertTitle(c,o);};
S.prototype._drawPath=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("path").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o,t))?true:false;}).classed("enableSelected",function(d){return o.getEnableSelection(d,f(this,o,t))?true:false;}).attr("d",function(d){return o.getD(d,f(this,o,t));}).attr("fill",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getFill(d,f(this,o,t));}}).attr("stroke",function(d){return o.getStroke(d,f(this,o,t));}).attr("stroke-width",function(d){return o.getStrokeWidth(d,f(this,o,t));}).attr("stroke-dasharray",function(d){return o.getStrokeDasharray(d,f(this,o,t));}).attr("fill-opacity",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getFillOpacity(d,f(this,o,t));}}).attr("stroke-opacity",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getStrokeOpacity(d,f(this,o,t));}});s.exit().remove();};
S.prototype._drawInsertTitle=function(s,o){var f=this._findObjectInfo;var t=this;s.select("title").remove();s.insert("title",":first-child").text(function(d){return o.getTitle(d,f(this,o,t));});};
S.prototype._findObjectInfo=function(n,s,t,i){var r=n.__data__;var R=r;if(i){R=r.data.rawData;}var a={from:{objectInfo:R.fromObject.objectInfoRef?R.fromObject.objectInfoRef:R.fromObject,shapeRawData:R.fromShapeRawData},to:{objectInfo:R.toObject.objectInfoRef?R.toObject.objectInfoRef:R.toObject,shapeRawData:R.toShapeRawData}};return a;};
S.prototype.destroySvg=function(s,o){};
S.prototype.generateRelationshipDataSet=function(s,o,n,a,r,A,b){var R=r;var c=[];if(R!==undefined&&R.length>0){var d;var e;for(e in o){if(o[e].getCategory(null,A,b)===sap.gantt.shape.ShapeCategory.Relationship){d=o[e];break;}}if(d){var f={};for(e in o){if(o[e].dataSet&&o[e].dataSet!=""&&o[e].mShapeConfig.getShapeDataName()!=sap.gantt.shape.ShapeCategory.Relationship){U.generateObjectPathToObjectMap(o[e].dataSet,f,null);}}U.generateObjectPathToObjectMap(n,f,null);var g;var h;for(var i=0;i<R.length;i++){g=R[i];h=g;var j=d.getFromObjectPath(h,null);var k=f[j];if(!k){continue;}var t=d.getToObjectPath(h,null);var l=f[t];if(!l){continue;}var m=d.getFromShapeId(h,null);var p=d.getFromDataId(h,null);var F=o[m].mShapeConfig.getShapeDataName();var q=this._findShapeDataFromRowObjectByShapeDataName(k,p,F);if(!q){continue;}var u=d.getToShapeId(h,null);var v=d.getToDataId(h,null);var T=o[u].mShapeConfig.getShapeDataName();var w=this._findShapeDataFromRowObjectByShapeDataName(l,v,T);if(!w){continue;}h.fromObject=k;h.toObject=l;h.fromShapeRawData=q;h.toShapeRawData=w;var x={"shapeData":[g]};c.push(x);}}}return c;};
S.prototype._findShapeDataFromRowObjectByShapeDataName=function(r,s,a){var o,b;if(r.shapeData){b=r.shapeData;}else if(r.data&&r.data[a]){b=r.data[a];}else if(r.data){b=r.data;}else{b=r;}for(var i=0;i<b.length;i++){if(b[i].id!==undefined&&b[i].id==s){o=b[i];break;}}if(o==undefined&&b.length>0){o=b[0];}return o;};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/ShapeInRow',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(D,U,F){"use strict";
var S=D.extend("sap.gantt.drawer.ShapeInRow",{constructor:function(){this._mValueColors={};}});
S.prototype.drawSvg=function(s,o,a,A,b){this._oAxisTime=a;this._oAxisOrdinal=A;this._oStatusSet=b;var c=s.select("."+o.getId()+"-top");if(c.empty()){c=s.append("g").classed(o.getId()+"-top",true);}var r=c.selectAll("."+o.getId()+"-row").data(o.dataSet);r.enter().append("g").classed(o.getId()+"-row",true);r.exit().remove();if(!r.empty()){this._recursiveDraw(r,o);}};
S.prototype._recursiveDraw=function(g,s,a){var t=this;var b=g.selectAll("."+s.getId()).data(function(d){return t._bindRowData(d,a,this,s);});this._drawPerTag(b,s);this._drawInsertTitle(g,s);};
S.prototype._bindRowData=function(d,s,n,o){var v=this._oStatusSet&&this._oStatusSet.aViewBoundary?this._oStatusSet.aViewBoundary:undefined;var a=o.getIsBulk();var f,i;if(d){var r=[];if(d.shapeData){if(!(d.shapeData instanceof Array)){r=r.concat(d.shapeData);}else{for(i=0;i<d.shapeData.length;i++){if(d.shapeData[i]){f={};f.oShape=o;f.objectInfo=d.objectInfoRef;f.dShapeData=d.shapeData[i];f.aViewRange=v;if(!a&&(v!==undefined)&&this._filterDataVisibleRange(f)){continue;}r=r.concat(d.shapeData[i]);}}}}else if(s&&d[s]){if(d[s].length){for(i=0;i<d[s].length;i++){f={};f.oShape=o;f.objectInfo=d.objectInfoRef;f.dShapeData=d[s][i];f.aViewRange=v;if(!a&&(v!==undefined)&&this._filterDataVisibleRange(f)){continue;}r.push(d[s][i]);}}else{r.push(d[s]);}}else if(d){r=r.concat(d);}if(o.filterValidData&&(r.length>0)){r=o.filterValidData(r);}return r;}};
S.prototype._filterDataVisibleRange=function(f){var a=this._oAxisTime;var A=this._oAxisOrdinal;var v=f.aViewRange;var i=f.oShape.getIsDuration(f.dShapeData);if(i){var s=a.timeToView(F.abapTimestampToDate(f.oShape.getTime(f.dShapeData,undefined,a,A,f.objectInfo)));var e=a.timeToView(F.abapTimestampToDate(f.oShape.getEndTime(f.dShapeData,undefined,a,A,f.objectInfo)));if(this._oStatusSet.bRTL===true){return(e>v[1])||(s<v[0]);}else{return(e<v[0])||(s>v[1]);}}else{var t=a.timeToView(F.abapTimestampToDate(f.oShape.getTime(f.dShapeData,undefined,a,A,f.objectInfo)));return(t>v[1])||(t<v[0]);}return false;};
S.prototype._drawPerTag=function(s,o){switch(o.getTag()){case"g":this._drawGroup(s,o);break;case"line":this._drawLine(s,o);break;case"rect":this._drawRect(s,o);break;case"text":this._drawText(s,o);break;case"path":this._drawPath(s,o);break;case"clippath":this._drawClipPath(s,o);break;case"image":this._drawImage(s,o);break;case"polygon":this._drawPolygon(s,o);break;case"polyline":this._drawPolyline(s,o);break;case"circle":this._drawCircle(s,o);break;default:break;}};
S.prototype._drawGroup=function(s,o){var f=this._findObjectInfo;s.enter().append("g").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;});s.exit().remove();var a=o.getShapes();if(a&&a.length>0){for(var i=0;i<a.length;i++){this._recursiveDraw(s,a[i],a[i].mShapeConfig.getShapeDataName());}}};
S.prototype._drawLine=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("line").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("x1",function(d){return o.getX1(d,f(this,o));}).attr("y1",function(d){return o.getY1(d,f(this,o));}).attr("x2",function(d){return o.getX2(d,f(this,o));}).attr("y2",function(d){return o.getY2(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){var O=f(this,o);return"stroke: "+t.determineValue("stroke",o,d,this)+";"+"stroke-width: "+o.getStrokeWidth(d,O)+";"+"stroke-dasharray: "+o.getStrokeDasharray(d,O)+";"+"fill-opacity: "+o.getFillOpacity(d,O)+";"+"stroke-opacity: "+o.getStrokeOpacity(d,O);});s.exit().remove();};
S.prototype._drawRect=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("rect").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).classed("enableClone",function(d){return o.getEnableDnD(d,f(this,o))?true:false;}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("width",function(d){return o.getWidth(d,f(this,o));}).attr("height",function(d){return o.getHeight(d,f(this,o));}).attr("rx",function(d){return o.getRx(d,f(this,o));}).attr("ry",function(d){return o.getRy(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("clip-path",function(d){return o.getClipPath(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){var O=f(this,o);return"fill: "+t.determineValue("fill",o,d,this)+";"+"stroke: "+t.determineValue("stroke",o,d,this)+";"+"stroke-width: "+o.getStrokeWidth(d,O)+";"+"stroke-dasharray: "+o.getStrokeDasharray(d,O)+";"+"fill-opacity: "+o.getFillOpacity(d,O)+";"+"stroke-opacity: "+o.getStrokeOpacity(d,O);});s.exit().remove();};
S.prototype._drawText=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("text").classed(o.getId(),true);s.classed("sapGanttShapeSvgText",true).classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("text-anchor",function(d){return o.getTextAnchor(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("style",function(d){var O=f(this,o);return"font-size: "+o.getFontSize(d,O)+"px;"+"fill: "+t.determineValue("fill",o,d,this)+";"+"font-family: "+o.getFontFamily(d,O)+";"+"stroke: "+t.determineValue("stroke",o,d,this)+";"+"stroke-width: "+o.getStrokeWidth(d,O);}).text(function(d){return o.getText(d,f(this,o));}).each(function(d){var a=d3.select(this);a.selectAll("tspan").remove();var O=f(this,o);var n=o.getWrapWidth(d,O);var b=o.getTruncateWidth(d,O);if(b>-1){t._textTruncate(d,a,b,o.getEllipsisWidth(d,O));}else if(n>-1){t._textWrap(d,this,n,o.getWrapDy(d,O));}});s.exit().remove();};
S.prototype._textTruncate=function(d,s,n,a){var b=s.node().getComputedTextLength();if(b>n){var t=s.text(),c,e;if(a>-1&&a<n){e=true;c=n-a;}else{e=false;c=n;}var f=this._getTextTruncatCountByBinarySearch(s,b,c,t);t=t.slice(0,f);s.text(t);if(e){if(sap.ui.Device.browser.name==="cr"){s.append("tspan").text("...").attr("textLength",s.node().getComputedTextLength()).attr("lengthAdjust","spacingAndGlyphs");}else{s.append("tspan").text("...").attr("textLength",a).attr("lengthAdjust","spacingAndGlyphs");}}}};
S.prototype._getTextTruncatCountByBinarySearch=function(s,n,a,t){var b=0;if(a>0&&t.length>0){var c=Math.round(a/Math.ceil(n/t.length));var d,e,f;if(c<1){d=c;e=c+1;f=c+2;}else if(c==t.length){d=c-2;e=c-1;f=c;}else{d=c-1;e=c;f=c+1;}var g=s[0][0].getSubStringLength(0,e);var h=s[0][0].getSubStringLength(0,f);var i=s[0][0].getSubStringLength(0,d);if(g==a||(g<a&&h>a)){b=e;}else if(h==a){b=f;}else if(i==a||(i<a&&g>a)){b=d;}else{var j=1,k=t.length;if(h<a){j=f;}else if(i>a){k=d-1;}while(j<=k){e=Math.floor(j+(k-j)/2);g=s[0][0].getSubStringLength(0,e);h=s[0][0].getSubStringLength(0,e+1);if(g==a||(g<a&&h>a)){b=e;break;}else if(g>a){k=e-1;}else{j=e+1;}}}}return(b>=0&&b<=t.length)?b:0;};
S.prototype._textWrap=function(d,s,n,a){};
S.prototype._drawPath=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("path").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("d",function(d){return o.getD(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){var O=f(this,o);var a="fill:"+t.determineValue("fill",o,d,this)+";"+"stroke: "+t.determineValue("stroke",o,d,this)+";"+"stroke-width: "+o.getStrokeWidth(d,O)+";"+"stroke-dasharray: "+o.getStrokeDasharray(d,O);if(o.getIsClosed(d,O)){a=a+"; fill-opacity: "+o.getFillOpacity(d,O)+";"+"stroke-opacity: "+o.getStrokeOpacity(d,O);}return a;});s.exit().remove();};
S.prototype._drawClipPath=function(s,o){var f=this._findObjectInfo;s.enter().append("defs").classed(o.getId(),true);s.selectAll("clipPath").remove();s.append("clipPath").attr("id",function(d){return o.getHtmlClass(d,f(this,o));}).append("path").attr("d",function(d){return o.getPaths()[0].getD(d,f(this,o));});s.exit().remove();};
S.prototype._drawImage=function(s,o){var f=this._findObjectInfo;s.enter().append("image").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("xlink:href",function(d){return o.getImage(d,f(this,o));}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("width",function(d){return o.getWidth(d,f(this,o));}).attr("height",function(d){return o.getHeight(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));});s.exit().remove();};
S.prototype._drawPolygon=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("polygon").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("points",function(d){return o.getPoints(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){var O=f(this,o);return"fill:"+t.determineValue("fill",o,d,this)+";"+"fill-opacity: "+o.getFillOpacity(d,O)+";"+"stroke: "+t.determineValue("stroke",o,d,this)+";"+"stroke-width: "+o.getStrokeWidth(d,O);});s.exit().remove();};
S.prototype._drawPolyline=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("polyline").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("points",function(d){return o.getPoints(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){var O=f(this,o);return"fill:"+t.determineValue("fill",o,d,this)+";"+"fill-opacity: "+o.getFillOpacity(d,O)+";"+"stroke: "+t.determineValue("stroke",o,d,this)+";"+"stroke-width: "+o.getStrokeWidth(d,O);});s.exit().remove();};
S.prototype._drawCircle=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("circle").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("cx",function(d){return o.getCx(d,f(this,o));}).attr("cy",function(d){return o.getCy(d,f(this,o));}).attr("r",function(d){return o.getR(d,f(this,o));}).attr("style",function(d){var O=f(this,o);return"fill:"+t.determineValue("fill",o,d,this)+";"+"fill-opacity: "+o.getFillOpacity(d,O)+";"+"stroke: "+t.determineValue("stroke",o,d,this)+";"+"stroke-width: "+o.getStrokeWidth(d,O);});s.exit().remove();};
S.prototype._drawInsertTitle=function(g,s){var f=this._findObjectInfo;var a=g.selectAll("."+s.getId()+".hasTitle");a.select("title").remove();a.insert("title",":first-child").text(function(d){return s.getTitle(d,f(this,s));});};
S.prototype._findObjectInfo=function(n,s,i){var t=n;while(!t.__data__.objectInfoRef){t=t.parentNode;}return t.__data__.objectInfoRef;};
S.prototype.determineValue=function(a,s,d,n){if(n!==null&&typeof n==="object"){var A=null;if(a==="fill"){A=s.getFill(d,this._findObjectInfo(n,s));}else if(a==="stroke"){A=s.getStroke(d,this._findObjectInfo(n,s));}var f=this._mValueColors[A];if(A&&!f){f=sap.gantt.ValueSVGPaintServer.normalize(A);this._mValueColors[A]=f;}return f;}};
S.prototype.destroySvg=function(s,o){};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/VerticalLine',["sap/gantt/misc/Utility","./Drawer","sap/ui/thirdparty/d3"],function(U,D){"use strict";
var V=D.extend("sap.gantt.drawer.VerticalLine",{constructor:function(a){this.oAxisTime=a;}});
V.prototype.drawSvg=function(g){var c=jQuery(g.node()),C=c.width(),a=Math.max.apply(null,c.map(function(){return jQuery(this).height();}).get());var I=this.oAxisTime.getCurrentTickTimeIntervalKey();var t=this.oAxisTime.getTickTimeIntervalLabel(I,null,[0,C]);var T=t[1];var p="";for(var i=0;i<T.length;i++){p+=" M"+" "+(T[i].value-1/2)+" 0"+" L"+" "+(T[i].value-1/2)+" "+(a);}if(p){g.selectAll(".sapGanttChartVerticalLine").remove();var $=jQuery(g.select("rect").node());var s=$.attr("class")?$.attr("class").split(" ")[0]:"";if(sap.ui.getCore().byId(s)&&sap.ui.getCore().byId(s).getMetadata().getName()==="sap.gantt.shape.ext.RowBackgroundRectangle"){g.select("g").append("g").classed("sapGanttChartVerticalLine",true).append("path").attr("d",p);}else{g.insert("g",":first-child").classed("sapGanttChartVerticalLine",true).append("path").attr("d",p);}}};
V.prototype.destroySvg=function(g){if(g){g.selectAll(".sapGanttChartVerticalLine").remove();}};
return V;},true);
sap.ui.predefine('sap/gantt/legend/DimensionLegend',["sap/ui/core/Control","./LegendBase","sap/gantt/drawer/Legend"],function(C,L,a){"use strict";
var D=L.extend("sap.gantt.legend.DimensionLegend",{metadata:{properties:{shape:{type:"sap.gantt.config.Shape"},xDimension:{type:"string"},yDimension:{type:"string"},xDomain:{type:"array",defaultValue:[]},yDomain:{type:"array",defaultValue:[]},exclude:{type:"array",defaultValue:[]},legendSpace:{type:"number",defaultValue:8}}}});
D.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oDimensionLegendDrawer=new a();};
D.prototype.applySettings=function(){var r=C.prototype.applySettings.apply(this,arguments);this._modifyDimensionFunction();return r;};
D.prototype._modifyDimensionFunction=function(){var x=this.getXDimension(),y=this.getYDimension();this._oShapeInstance._oLegend=this;this._oShapeInstance._sXDimension=x;this._oShapeInstance._sYDimension=y;this._oShapeInstance["get"+this._capitalFirst(x)]=function(d){if(this.mShapeConfig.hasShapeProperty(this._sXDimension)){return this._configFirst(this._sXDimension,d);}if(d.xIndex===-1){return sap.gantt.DIMENSION_LEGEND_NIL;}return this._oLegend.getXDomain()[d.xIndex];};this._oShapeInstance["get"+this._capitalFirst(y)]=function(d){if(this.mShapeConfig.hasShapeProperty(this._sYDimension)){return this._configFirst(this._sYDimension,d);}if(d.yIndex===-1){return sap.gantt.DIMENSION_LEGEND_NIL;}return this._oLegend.getYDomain()[d.yIndex];};};
D.prototype._capitalFirst=function(o){return o.charAt(0).toUpperCase()+(o.length>1?o.slice(1):"");};
D.prototype.onAfterRendering=function(){if(this._oShapeInstance){var s=d3.select("#"+this.getId()+"-svg");var l=this._drawDimensionLegend(s,this._oShapeInstance);s.attr("width",l.width+"px");s.attr("height",l.height+"px");var p=d3.select("#"+this.getId()+"-dimension-path");var P=this._drawDimensionPath(p,this._oShapeInstance);p.attr("width",l.width+"px");p.attr("height",P.height+"px");p.style("top",l.height+"px");var t=d3.select("#"+this.getId()+"-dimension-text");this._drawDimensionText(t,this._oShapeInstance);t.style(sap.ui.getCore().getConfiguration().getRTL()?"right":"left",l.width+"px");t.attr("height",l.height+P.height+this.getLegendSpace()*2+"px");}};
D.prototype.setShape=function(s){this.setProperty("shape",s);if(s){this._oShapeInstance=this._instantShape([s])[0];}return this;};
D.prototype._drawDimensionLegend=function(s,S){var x=this.getXDomain();var d=this._prepareData(S);var r=s.selectAll("."+S.getId()+"-row").data(d);r.enter().append("g").classed(S.getId()+"-row",true);r.exit().remove();if(!r.empty()){this._oDimensionLegendDrawer._recursiveDraw(r,S);}var l={};var i=x.length;if(i>0){l.width=this.getScaledLegendWidth()*i+this.getLegendSpace()*(i+1);l.height=this.getScaledLegendHeight()*d.length+this.getLegendSpace()*(d.length+1);}return l;};
D.prototype._prepareData=function(s){var r=[],x=this.getXDimension(),y=this.getYDimension(),X=this.getXDomain(),Y=this.getYDomain(),e=this.getExclude();this.aXDimension=[];this.aYDimension=[];var t=this,l;jQuery.each(X,function(i,v){l={};l.xIndex=i;l.yIndex=-1;t.aXDimension.push(s.getLegend(l));});this.aReversedXDimension=jQuery.extend(true,[],this.aXDimension);this.aReversedXDimension.reverse();jQuery.each(Y,function(i,v){l={};l.xIndex=-1;l.yIndex=i;t.aYDimension.push(s.getLegend(l));});jQuery.each(Y,function(b,o){var R=[];jQuery.each(X,function(c,d){var E=false;jQuery.each(e,function(i,f){if((d==f[0])&&(o==f[1])){E=true;return false;}});if(!E){var l={};l.xIndex=c;l.yIndex=b;l[x]=d;l[y]=o;l.xName=t.aXDimension[c];l.yName=t.aYDimension[b];R.push(l);}});if(R.length>0){r.push(R);}});return r;};
D.prototype._drawDimensionPath=function(s,S){var x=this.getXDomain(),X=x.length,t=this;var p=s.selectAll(".dimension-path").data(x);p.enter().append("path").attr("d",function(d,i){var w=t.getScaledLegendWidth();var h=t.getScaledLegendHeight();var b=0,c=c=h*(X-1-i)+t.getLegendSpace()*(X-i),e=w*(X-1-i)+t.getLegendSpace()*(X-i);if(sap.ui.getCore().getConfiguration().getRTL()){b=w*(X-1-i)+t.getLegendSpace()*(X-i)+w/2;e=-e;}else{b=w*i+t.getLegendSpace()*(i+1)+w/2;}return"M"+b+" 0 v"+c+" h"+e;}).attr("fill","none");p.exit().remove();var P={};P.height=0;if(X>0){P.height=this.getScaledLegendHeight()*X+this.getLegendSpace()*(X-1);}return P;};
D.prototype._drawDimensionText=function(s,S){var b=this.aYDimension.concat(this.aReversedXDimension);var x=this.aYDimension.length;var t=this;var T=s.selectAll(".dimension-text").data(b);T.enter().append("text").attr("x",function(d){if(sap.ui.getCore().getConfiguration().getRTL()){return 200;}return 0;}).attr("y",function(d,i){return t.getScaledLegendHeight()*i+t.getLegendSpace()*(i+1)+parseInt(t.getFontSize(),10)/2+t.getScaledLegendHeight()/2-2;}).text(function(d){return d;}).attr("font-size",t.getFontSize()+"px").attr("font-style",function(d,i){return i<x?"normal":"italic";}).attr("text-anchor",sap.ui.Device.browser.name==="ie"&&sap.ui.getCore().getConfiguration().getRTL()?"end":"start");T.select("title").remove();T.insert("title",":first-child").text(function(d){return d;});T.exit().remove();};
return D;},true);
sap.ui.predefine('sap/gantt/legend/DimensionLegendRenderer',[],function(P){"use strict";var D={};
D.render=function(r,l){jQuery.sap.measure.start("DimensionLegendRenderer render","GanttPerf:DimensionLegendRenderer render function");r.write("<div");r.writeControlData(l);r.addStyle("width","100%");r.addStyle("height","100%");r.addStyle("position","relative");r.writeStyles();r.write(">");this.renderSvgDefs(r,l);r.write("<div");r.addStyle("float",sap.ui.getCore().getConfiguration().getRTL()?"right":"left");r.writeStyles();r.write(">");r.write("<svg");r.writeAttribute("id",l.getId()+"-svg");r.writeClasses();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write("></svg>");r.write("<svg");r.writeAttribute("id",l.getId()+"-dimension-path");r.addClass("sapGanttDimensionLegendPath");r.writeClasses();r.addStyle("position","absolute");r.addStyle(sap.ui.getCore().getConfiguration().getRTL()?"right":"left","0px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write(">");r.write("</svg>");r.write("</div>");r.write("<div><svg");r.writeAttribute("id",l.getId()+"-dimension-text");r.addClass("sapGanttDimensionLegendText");r.writeClasses();r.addStyle("position","absolute");r.addStyle("width","202px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write("></svg></div>");r.write("</div>");jQuery.sap.measure.end("DimensionLegendRenderer render");};
D.renderSvgDefs=function(r,l){var s=l.getSvgDefs();if(s){r.write("<svg id='"+l.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write(">");r.write(s.getDefString());r.write("</svg>");}};
return D;},true);
sap.ui.predefine('sap/gantt/legend/LegendBase',["sap/ui/core/Control","sap/gantt/shape/cal/Calendar","sap/gantt/misc/Utility","../misc/AxisTime","sap/ui/thirdparty/d3"],function(C,a,U,A){"use strict";
var L=C.extend("sap.gantt.legend.LegendBase",{metadata:{abstract:true,properties:{svgDefs:{type:"sap.gantt.def.SvgDefs",defaultValue:null},legendWidth:{type:"number",defaultValue:32},legendHeight:{type:"number",defaultValue:32},fontSize:{type:"number",defaultValue:16}}}});
L.prototype.TIME_RANGE=["20160101000000","20160103000000"];L.prototype.TIME="20160102000000";
L.prototype.init=function(){this._aTimeRange=[d3.time.format("%Y%m%d%H%M%S").parse(this.TIME_RANGE[0]),d3.time.format("%Y%m%d%H%M%S").parse(this.TIME_RANGE[1])];};
L.prototype.getAxisTime=function(){return this._oAxisTime;};
L.prototype.onBeforeRendering=function(){this._sUiSizeMode=U.findSapUiSizeClass();this._aViewRange=[0,this.getScaledLegendWidth()];this._oAxisTime=new A(this._aTimeRange,this._aViewRange);};
L.prototype.getScaledLegendWidth=function(){var m=this.getSapUiSizeClass();return U.scaleBySapUiSize(m,this.getLegendWidth());};
L.prototype.getScaledLegendHeight=function(){var m=this.getSapUiSizeClass();return U.scaleBySapUiSize(m,this.getLegendHeight());};
L.prototype._instantShape=function(s){var r=[];for(var i=0;i<s.length;i++){if(s[i].getShapeClassName()){var S=this._instantiateCustomerClass(s[i].getShapeClassName(),i,s[i]);if(s[i].getClippathAggregation()&&s[i].getClippathAggregation()instanceof Array){var p=this._instantShape(s[i].getClippathAggregation());for(var j=0;j<p.length;j++){S.addPath(p[j]);}}else if(s[i].getGroupAggregation()&&s[i].getGroupAggregation()instanceof Array){var b=this._instantShape(s[i].getGroupAggregation());for(var k=0;k<b.length;k++){S.addShape(b[k]);}}if(this._isProperShape(S)){r.push(S);}}}return r;};
L.prototype._isProperShape=function(s){if(s instanceof sap.gantt.shape.cal.Calendar){jQuery.sap.log.warning("Calendar is not proper shape","key '"+s.mShapeConfig.getKey()+"'","ListLegend");return false;}else if(s.getTag()=="clippath"){return false;}else{return true;}};
L.prototype._instantiateCustomerClass=function(c,s,S){var b=jQuery.sap.getObject(c);if(!b){jQuery.sap.require(c);b=jQuery.sap.getObject(c);}var o=new b();o.mShapeConfig=S;o.mChartInstance=this;return o;};
L.prototype.getSapUiSizeClass=function(){return this._sUiSizeMode;};
return L;},true);
sap.ui.predefine('sap/gantt/legend/LegendContainer',["sap/ui/core/Control","sap/m/NavContainer","sap/m/Page","sap/m/List","sap/m/StandardListItem"],function(C,N,P,L,S){"use strict";
var a=C.extend("sap.gantt.legend.LegendContainer",{metadata:{properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"}},aggregations:{legendSections:{type:"sap.m.Page",multiple:true,visibility:"public",singularName:"legendSection"}}}});
a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this._sTitle=this._oRb.getText("LEGEND_TITLE");this._oNavContainer=new N({width:this.getWidth(),height:this.getHeight()});this._oInitNavPage=new P({title:this._oRb.getText("LEGEND_TITLE"),content:[new L()]});this._aLegendSections=[];};
a.prototype.setWidth=function(w){this.setProperty("width",w,true);this._oNavContainer.setWidth(w);return this;};
a.prototype.setHeight=function(h){this.setProperty("height",h,true);this._oNavContainer.setHeight(h);return this;};
a.prototype.addLegendSection=function(l){if(l){if(this._aLegendSections.length==1){this._oNavContainer.insertPage(this._oInitNavPage,0);this._aLegendSections[0].setShowNavButton(true);}if(this._aLegendSections.length!==0){l.setShowNavButton(true);}l.attachNavButtonPress(this._onNavBack,this);l.setBackgroundDesign(sap.m.PageBackgroundDesign.Solid);l.setEnableScrolling(true);var s=l.getTitle();if(s!==undefined){var o=new S({title:s,type:sap.m.ListType.Navigation});o.attachPress(this._onNavToLegendSection,this);this._oInitNavPage.getContent()[0].addItem(o);}this._aLegendSections.push(l);this._oNavContainer.addPage(l);}return this;};
a.prototype.insertLegendSection=function(l,i){if(l){var m=this._aLegendSections.length;if(m==1){this._oNavContainer.insertPage(this._oInitNavPage,0);this._aLegendSections[0].setShowNavButton(true);}if(m!==0){l.setShowNavButton(true);}if(i>=m){i=m;}l.attachNavButtonPress(this._onNavBack,this);l.setBackgroundDesign(sap.m.PageBackgroundDesign.Solid);l.setEnableScrolling(true);var s=l.getTitle();if(s!==undefined){var o=new S({title:s,type:sap.m.ListType.Navigation});o.attachPress(this._onNavToLegendSection,this);this._oInitNavPage.getContent()[0].insertItem(o,i);}this._oNavContainer.insertPage(l,i+1);this._aLegendSections.splice(i,0,l);}return this;};
a.prototype.indexOfLegendSection=function(l){var i=jQuery.inArray(l,this._aLegendSections);return i;};
a.prototype.removeLegendSection=function(p){var r;if((typeof p)==="number"){this._oNavContainer.removePage(p+1);this._oInitNavPage.getContent()[0].removeItem(p);r=this._aLegendSections.splice(p+1,1);}else if(p){this._oInitNavPage.getContent()[0].removeItem(jQuery.inArray(p,this._oNavContainer.getPages())-1);this._oNavContainer.removePage(p);r=this._aLegendSections.splice(jQuery.inArray(p,this._aLegendSections),1);}if(this._aLegendSections.length==1){if(this._oNavContainer.getCurrentPage()==this._oInitNavPage){this._oNavContainer.to(this._aLegendSections[0]);}this._aLegendSections[0].setShowNavButton(false);}return r;};
a.prototype.removeAllLegendSection=function(){var r=this._aLegendSections.splice(0,this._aLegendSections.length);this._oInitNavPage.getContent()[0].removeAllItems();this._oNavContainer.removeAllPages();return r;};
a.prototype.getLegendSections=function(){var p=this._oNavContainer.getPages();var t=this;return p.filter(function(v){if(v.getTitle()!==t._sTitle){return true;}});};
a.prototype.getNavigationPage=function(){return this._oInitNavPage;};
a.prototype.getNavigationItems=function(){return this._oInitNavPage.getContent()[0].getItems();};
a.prototype.getCurrentLegendSection=function(){return this._oNavContainer.getCurrentPage();};
a.prototype._onNavToLegendSection=function(e){var l=e.getSource().getTitle();for(var i=0;i<this._aLegendSections.length;i++){if(l==this._aLegendSections[i].getTitle()){this._oNavContainer.to(this._aLegendSections[i]);}}};
a.prototype._onNavBack=function(e){this._oNavContainer.to(this._oInitNavPage);};
return a;});
sap.ui.predefine('sap/gantt/legend/LegendContainerRenderer',[],function(){"use strict";var L={};
L.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLegend");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height","100%");r.writeStyles();r.write(">");r.renderControl(c._oNavContainer);r.write("</div>");};
return L;},true);
sap.ui.predefine('sap/gantt/legend/ListLegendRenderer',["sap/ui/core/theming/Parameters"],function(P){"use strict";var L={};
L.render=function(r,l){jQuery.sap.measure.start("ListLegendRenderer render","GanttPerf:ListLegendRenderer render function");var s=l._aShapeInstance,a=l.getScaledLegendWidth(),b=l.getScaledLegendHeight();r.write("<div");r.writeControlData(l);r.addClass("sapGanttLL");r.write(">");jQuery.sap.measure.start("ListLegendRenderer renderPaintServer","GanttPerf:ListLegendRenderer renderPaintServer part");this.renderSvgDefs(r,l);jQuery.sap.measure.end("ListLegendRenderer renderPaintServer");for(var i=0;i<s.length;i++){var c=s[i].getLegend();r.write("<div");r.writeAttributeEscaped("title",c);r.addClass("sapGanttLLItem");r.writeClasses();r.addStyle("height",b+"px");r.addStyle("line-height",b+"px");r.writeStyles();r.write(">");if(l._aCheckBoxes[i]){if(s[i].mShapeConfig.getSwitchOfCheckBox()=="noShow"){l._aCheckBoxes[i].addStyleClass("noShowCheckBox");}r.renderControl(l._aCheckBoxes[i]);}r.write("<svg");r.writeAttribute("id",l.getId()+"-svg-"+i);r.addClass("sapGanttLLSvg");r.addStyle("width",a+"px");r.writeStyles();r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);if(l._aCheckBoxes.length==0){r.addClass("NoCheckBox");}r.writeClasses();r.write("></svg>");r.write("<div");r.writeAttribute("id",l.getId()+"-txt-"+i);r.addClass("sapGanttLLItemTxt");r.writeClasses();r.addStyle("font-size",l.getFontSize()+"px");r.writeStyles();r.write(">");if(c){r.writeEscaped(c);}r.write("</div>");r.write("</div>");}r.write("</div>");jQuery.sap.measure.end("ListLegendRenderer render");};
L.renderSvgDefs=function(r,l){var s=l.getSvgDefs();if(s){r.write("<svg");r.writeAttribute("id",l.getId()+"-svg-psdef");r.addClass("sapGanttLLSvgDefs");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
return L;},true);
sap.ui.predefine('sap/gantt/library',['jquery.sap.global','sap/ui/core/library','sap/gantt/misc/Utility','sap/ui/base/DataType'],function(q,l,U,D){"use strict";sap.ui.getCore().initLibrary({name:"sap.gantt",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.table","sap.m"],types:["sap.gantt.control.ToolbarType","sap.gantt.SelectionMode","sap.gantt.shape.ShapeCategory","sap.gantt.def.filter.MorphologyOperator","sap.gantt.def.filter.ColorMatrixValue","sap.gantt.shape.ext.rls.RelationshipType"],interfaces:["sap.gantt.GanttChartBase"],controls:["sap.gantt.control.Toolbar","sap.gantt.GanttChart","sap.gantt.GanttChartWithTable","sap.gantt.GanttChartContainer"],elements:["sap.gantt.config.TimeHorizon","sap.gantt.config.TimeAxis","sap.gantt.config.ToolbarGroup","sap.gantt.config.Mode","sap.gantt.config.ModeGroup","sap.gantt.config.LayoutGroup","sap.gantt.config.ExpandChart","sap.gantt.config.ExpandChartGroup","sap.gantt.config.TimeZoomGroup","sap.gantt.config.ToolbarScheme","sap.gantt.config.Hierarchy","sap.gantt.config.HierarchyColumn","sap.gantt.config.ColumnAttribute","sap.gantt.config.GanttChartLayout","sap.gantt.config.ContainerLayout","sap.gantt.config.SettingItem","sap.gantt.config.SettingGroup","sap.gantt.config.ObjectType","sap.gantt.config.ChartScheme","sap.gantt.config.Locale","sap.gantt.config.Shape"],noLibraryCSS:false,version:"1.42.5"});this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");sap.gantt.SelectionMode={MultiWithKeyboard:"MultiWithKeyboard",Multiple:"Multiple",Single:"Single",None:"None"};sap.gantt.control.ToolbarType={Global:"GLOBAL",Local:"LOCAL"};sap.gantt.ValueSVGPaintServer=D.createType('sap.gantt.ValueSVGPaintServer',{isValid:function(v){var V=sap.m.ValueCSSColor.isValid(v);if(!V){V=/(?:url\(['|"]?)(.*?)(?:['|"]?\))|^[@|#](.*?)$|initial|transparent|none|inherit/.test(v);}return V;}},D.getType('string'));sap.gantt.ValueSVGPaintServer.setNormalizer(function(v){q.sap.require("sap.ui.core.theming.Parameters");if(!v){return v;}if(v.substr(0,1)==="@"){v=v.substring(1);}var r=sap.ui.core.theming.Parameters.get(v)||v;return r;});sap.gantt.shape.ShapeCategory={InRowShape:"inRowShape",Relationship:"relationship"};sap.gantt.def.filter.MorphologyOperator={Dilate:"dilate",Erode:"erode"};sap.gantt.def.filter.ColorMatrixValue={AllToWhite:"-1 0 0 0 1, 0 -1 0 0 1, 0 0 -1 0 1, 0 0 0 1 0",AllToBlack:"-1 0 0 0 0, 0 -1 0 0 0, 0 0 -1 0 0, 0 0 0 1 0"};sap.gantt.shape.ext.rls.RelationshipType={FinishToFinish:0,FinishToStart:1,StartToFinish:2,StartToStart:3};sap.gantt.config.TimeUnit={minute:"d3.time.minute",hour:"d3.time.hour",day:"d3.time.day",week:"d3.time.week",month:"d3.time.month",year:"d3.time.year"};sap.gantt.config.DEFAULT_PLAN_HORIZON=new sap.gantt.config.TimeHorizon({startTime:new Date((new Date()).getTime()-31536000000),endTime:new Date((new Date()).getTime()+31536000000)});sap.gantt.config.DEFAULT_INIT_HORIZON=new sap.gantt.config.TimeHorizon({startTime:new Date((new Date()).getTime()-2628000000),endTime:new Date((new Date()).getTime()+2628000000)});sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY={"5min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"cccc d.M.yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,format:"HH:mm"}},"10min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:10,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"cccc d.M.yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:10,format:"HH:mm"}},"15min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"cccc d.M.yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,format:"HH:mm"}},"30min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:30,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"cccc d.M.yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:30,format:"HH:mm"}},"1hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"cccc d.M.yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,format:"HH:mm"}},"2hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"cccc d.M.yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:2,format:"HH:mm"}},"4hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"cccc d.M.yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:4,format:"HH:mm"}},"6hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"cccc d.M.yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,format:"HH:mm"}},"12hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:12,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"cccc d.M.yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:12,format:"HH:mm"}},"1day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"MMMM yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:sap.ui.getCore().getConfiguration().getRTL()?".d.M":"d.M."}},"2day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"MMMM yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:2,format:sap.ui.getCore().getConfiguration().getRTL()?".d.M":"d.M."}},"4day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"MMMM yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:4,format:sap.ui.getCore().getConfiguration().getRTL()?".d.M":"d.M."}},"1week":{innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"MMMM yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,format:sap.ui.getCore().getConfiguration().getRTL()?".d.M":"d.M."}},"2week":{innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"MMMM yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:2,format:sap.ui.getCore().getConfiguration().getRTL()?".d.M":"d.M."}},"1month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,format:"MMMM yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:sap.ui.getCore().getConfiguration().getRTL()?".d.M":"d.M."}},"2month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,format:"MMMM yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:2,format:sap.ui.getCore().getConfiguration().getRTL()?".d.M":"d.M."}},"4month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:4,format:"MMMM"}},"6month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,format:"MMMM"}},"1year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,format:"MMMM"}},"2year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:2,format:"MMMM"}},"5year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:5,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:5,format:"MMMM"}}};sap.gantt.config.DEFAULT_TIME_AXIS=new sap.gantt.config.TimeAxis();sap.gantt.config.DEFAULT_MODE_KEY="sap_mode";sap.gantt.config.DEFAULT_MODE=new sap.gantt.config.Mode({key:sap.gantt.config.DEFAULT_MODE_KEY,text:this._oRb.getText("TLTP_DEFAULT"),icon:"sap-icon://status-positive"});sap.gantt.config.DEFAULT_MODES=[sap.gantt.config.DEFAULT_MODE];sap.gantt.config.DEFAULT_CHART_SCHEME_KEY="sap_main";sap.gantt.config.DEFAULT_CHART_SCHEME=new sap.gantt.config.ChartScheme({key:sap.gantt.config.DEFAULT_CHART_SCHEME_KEY,name:"Default",rowSpan:1});sap.gantt.config.DEFAULT_CHART_SCHEMES=[sap.gantt.config.DEFAULT_CHART_SCHEME];sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY="sap_object";sap.gantt.config.DEFAULT_OBJECT_TYPE=new sap.gantt.config.ObjectType({key:sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY,description:"Default",mainChartSchemeKey:sap.gantt.config.DEFAULT_CHART_SCHEME_KEY});sap.gantt.config.DEFAULT_OBJECT_TYPES=[sap.gantt.config.DEFAULT_OBJECT_TYPE];sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY="sap_enableNowLine";sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_NOW_LINE"),tooltip:this._oRb.getText("TLTP_NOW_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY="sap_enableCursorLine";sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_CURSOR_LINE"),tooltip:this._oRb.getText("TLTP_CURSOR_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY="sap_enableVerticalLine";sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_VERTICAL_LINE"),tooltip:this._oRb.getText("TLTP_VERTICAL_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY="sap_enableTimeScrollSync";sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY,checked:true,displayText:this._oRb.getText("XCKL_TIME_SCROLL_SYNC"),tooltip:this._oRb.getText("TLTP_TIME_SCROLL_SYNC")});sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS=[sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC];sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY="sap_empty_toolbar";sap.gantt.config.EMPTY_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L1",overflowPriority:sap.m.OverflowToolbarPriority.High})});sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY="sap_container_toolbar";sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L1",overflowPriority:sap.m.OverflowToolbarPriority.High}),timeZoom:new sap.gantt.config.TimeZoomGroup({position:"R2",overflowPriority:sap.m.OverflowToolbarPriority.NeverOverflow}),settings:new sap.gantt.config.SettingGroup({position:"R1",overflowPriority:sap.m.OverflowToolbarPriority.Low,items:sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS})});sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY="sap_ganttchart_toolbar";sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L2",overflowPriority:sap.m.OverflowToolbarPriority.High}),expandTree:new sap.gantt.config.ToolbarGroup({position:"L3",overflowPriority:sap.m.OverflowToolbarPriority.Low})});sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEMES=[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME];sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEMES=[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME];sap.gantt.config.DEFAULT_HIERARCHY_KEY="sap_hierarchy";sap.gantt.config.DEFAULT_HIERARCHY=new sap.gantt.config.Hierarchy();sap.gantt.config.DEFAULT_HIERARCHYS=[sap.gantt.config.DEFAULT_HIERARCHY];sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY="sap_container_layout_single";sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT=new sap.gantt.config.ContainerLayout({key:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY,text:this._oRb.getText("XLST_SINGLE_LAYOUT"),toolbarSchemeKey:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,ganttChartLayouts:[new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY})]});sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY="sap_container_layout_dual";sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT=new sap.gantt.config.ContainerLayout({key:sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY,text:this._oRb.getText("XLST_DUAL_LAYOUT"),toolbarSchemeKey:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,ganttChartLayouts:[new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY}),new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY})]});sap.gantt.config.DEFAULT_CONTAINER_LAYOUTS=[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT,sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT];sap.gantt.config.DEFAULT_LOCALE_CET=new sap.gantt.config.Locale({timeZone:"CET",utcdiff:"000000",utcsign:"+"});sap.gantt.config.DEFAULT_EMPTY_OBJECT={};sap.gantt.DIMENSION_LEGEND_NIL="NIL";return sap.gantt;});
sap.ui.predefine('sap/gantt/misc/AxisOrdinal',["sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(){"use strict";var A=function(a,s,n,b,c,d,e,f){this.elementArray=a;this.scaleArray=s;this.padding=sap.gantt.misc.Utility.assign(f,0);this.zoomRate=sap.gantt.misc.Utility.assign(d,1);this.zoomOrigin=sap.gantt.misc.Utility.assign(e,0);this.viewRangeStart=sap.gantt.misc.Utility.assign(b,0);this.viewBandWidth=n;this.viewRangeEnd=c;this.scale=d3.scale.ordinal();this._createScale();};A.prototype.CONSTANT={C_SEPARATOR:"_@@_",C_MESSAGE:{ARGUMENT_ERROR:"AxisOrdinal: Argument Error!"}};
A.prototype._createScale=function(){if(typeof(this.viewBandWidth)!=="undefined"){this.viewRangeEnd=undefined;this.scale.domain(this._calculateInternalValuesByElements()).rangeRoundBands(this._calculateViewRangeByViewBandWidth());}else if(typeof(this.viewRangeEnd)!=="undefined"){this.viewBandWidth=undefined;this.scale.domain(this._calculateInternalValuesByElements()).rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);}else{}};
A.prototype._calculateInternalValuesByElements=function(){var v=[];for(var i=0;i<this.scaleArray.length;i++){var a=this.elementArray[i]+this.CONSTANT.C_SEPARATOR;for(var j=0;j<this.scaleArray[i];j++){v.push(a+j);}}return v;};
A.prototype._calculateViewRangeByViewBandWidth=function(){var v=0;for(var i=0;i<this.scaleArray.length;i++){v+=this.scaleArray[i]*this.viewBandWidth;}return[this.viewRangeStart,this.viewRangeStart+v];};
A.prototype.elementToView=function(e){return(this.scale(e+this.CONSTANT.C_SEPARATOR+0)+this.padding-this.zoomOrigin)*this.zoomRate;};
A.prototype.viewToElement=function(v){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var t=this.elementArray.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(this.elementArray[m]+this.CONSTANT.C_SEPARATOR+0);if(c<a){t=m-1;}else{h=m;}}var r=this.elementArray[h];var b=this.scale(r+this.CONSTANT.C_SEPARATOR+0);if(c<b+this.padding||c>=b+this.scale.rangeBand()*this.scaleArray[h]){return undefined;}return r;};
A.prototype.viewToElementIndex=function(v){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var t=this.elementArray.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(this.elementArray[m]+this.CONSTANT.C_SEPARATOR+0);if(c<a){t=m-1;}else{h=m;}}var r=this.elementArray[h];var b=this.scale(r+this.CONSTANT.C_SEPARATOR+0);if(c<b+this.padding||c>=b+this.scale.rangeBand()*this.scaleArray[h]){return-1;}return h;};
A.prototype.viewToBandIndex=function(v){var c=v/this.zoomRate+this.zoomOrigin;var i=this._calculateInternalValuesByElements();var h=0;var t=i.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(i[m]);if(c<a){t=m-1;}else{h=m;}}var r=this.scale(i[h]);if(c<r+this.padding||c>=r+this.scale.rangeBand()){return-1;}return h;};
A.prototype.viewToRowIndex=function(v,m){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var a=this._calculateViewRangeByViewBandWidth();if(c<=a[1]&&c>=a[0]){return this.viewToElementIndex(v);}else if(jQuery.isNumeric(m)&&m>this.elementArray.length){var b=parseInt((v-a[1]-a[0])/this.viewBandWidth,10);var r=b+this.elementArray.length;h=r;}else{return-1;}return h;};
A.prototype.setElements=function(e,s){this.elementArray=e;this.scaleArray=s;this._createScale();return this;};
A.prototype.getElementArray=function(){return this.elementArray;};
A.prototype.getScaleArray=function(){return this.scaleArray;};
A.prototype.setViewRangeStart=function(v){this.viewBandWidth=undefined;this.viewRangeStart=sap.gantt.misc.Utility.assign(v,0);this.scale.rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);return this;};
A.prototype.setViewRangeEnd=function(v){this.viewBandWidth=undefined;this.viewRangeEnd=v;this.scale.rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);return this;};
A.prototype.getViewRange=function(){var v=this.scale.rangeExtent();return[(v[0]-this.zoomOrigin)*this.zoomRate,(v[1]-this.zoomOrigin)*this.zoomRate];};
A.prototype.setViewBandWidth=function(v){this.viewRangeEnd=undefined;this.viewBandWidth=v;this.scale.rangeRoundBands(this._calculateViewRangeByViewBandWidth());return this;};
A.prototype.getViewBandWidth=function(){return this.scale.rangeBand()*this.zoomRate;};
A.prototype.setZoomRate=function(z){this.zoomRate=sap.gantt.misc.Utility.assign(z,1);return this;};
A.prototype.getZoomRate=function(){return this.zoomRate;};
A.prototype.setZoomOrigin=function(z){this.zoomOrigin=sap.gantt.misc.Utility.assign(z,0);return this;};
A.prototype.getZoomOrigin=function(){return this.zoomOrigin;};
A.prototype.clone=function(){return new A(this.elementArray.slice(0),this.scaleArray.slice(0),this.viewBandWidth,this.viewRangeStart,this.viewRangeEnd,this.zoomRate,this.zoomOrigin,this.padding);};
return A;},true);
sap.ui.predefine('sap/gantt/misc/AxisTime',["sap/ui/base/Object","sap/ui/core/Core","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(B,C,U,F){"use strict";var A=function(t,v,z,a,b,l,Z){this.scale=d3.time.scale().domain(t).range(v).clamp(false);this.timeRange=t;this.viewRange=v;this.zoomRate=U.assign(z,1);this.zoomOrigin=U.assign(a,0);this.viewOffset=U.assign(b,0);this.locale=l;if(l&&l.getUtcdiff()){var f=d3.time.format("%Y%m%d%H%M%S");this.timeZoneOffset=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){this.timeZoneOffset=-this.timeZoneOffset;}}this._oZoomStrategy=Z?Z:sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY;};A.prototype.CONSTANT={C_SEPARATOR:"_@@_",C_MESSAGE:{ARGUMENT_ERROR:"AxisOrdinal: Argument Error!"}};
A.prototype.timeToView=function(t){if(C.getConfiguration().getRTL()!==true){return Math.round((this.scale(t)-this.zoomOrigin)*this.zoomRate-this.viewOffset);}else{return Math.round(this.viewRange[1]*this.zoomRate-(((this.scale(t)+this.zoomOrigin)*this.zoomRate)+this.viewOffset));}};
A.prototype.viewToTime=function(v){if(C.getConfiguration().getRTL()!==true){return this.scale.invert((v+this.viewOffset)/this.zoomRate+this.zoomOrigin);}else{return this.scale.invert(this.viewRange[1]-(v+this.viewOffset)/this.zoomRate-this.zoomOrigin);}};
A.prototype.setTimeRange=function(t){this.timeRange=t;this.scale.domain(t);return this;};
A.prototype.getTimeRange=function(){return this.scale.domain();};
A.prototype.setViewRange=function(v){this.viewRange=v;this.scale.range(v);return this;};
A.prototype.getViewRange=function(){var r=this.scale.range();return[Math.round((r[0]-this.zoomOrigin)*this.zoomRate-this.viewOffset),Math.round((r[1]-this.zoomOrigin)*this.zoomRate-this.viewOffset)];};
A.prototype.getZoomStrategy=function(){return this._oZoomStrategy;};
A.prototype.setZoomRate=function(z){this.zoomRate=U.assign(z,1);return this;};
A.prototype.getZoomRate=function(){return this.zoomRate;};
A.prototype.setZoomOrigin=function(z){this.zoomOrigin=U.assign(z,0);return this;};
A.prototype.getZoomOrigin=function(){return this.zoomOrigin;};
A.prototype.setViewOffset=function(v){this.viewOffset=U.assign(v,0);return this;};
A.prototype.getViewOffset=function(){return this.viewOffset;};
A.prototype.setLocale=function(l){this.locale=l;if(l&&l.getUtcdiff()){var f=d3.time.format("%Y%m%d%H%M%S");this.timeZoneOffset=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){this.timeZoneOffset=-this.timeZoneOffset;}}return this;};
A.prototype.getLocale=function(){return this.locale;};
A.prototype.clone=function(){return new A([new Date(this.timeRange[0].valueOf()),new Date(this.timeRange[1].valueOf())],this.viewRange.slice(0),this.zoomRate,this.zoomOrigin,this.viewOffset,this.locale);};
A.prototype.getCurrentTickTimeIntervalLevel=function(){var s=d3.time.format("%Y%m%d%H%M%S").parse("20000101000000");var a=this.scale(s);var c=0;for(var i in this._oZoomStrategy){var b=this._oZoomStrategy[i].innerInterval;var e=this.scale(jQuery.sap.getObject(b.unit).offset(s,b.span));var r=Math.ceil((e-a)*this.zoomRate);if(r>=b.range){return c;}c++;}return c-1;};
A.prototype.getCurrentTickTimeIntervalKey=function(){var s=d3.time.format("%Y%m%d%H%M%S").parse("20000101000000");var a=this.scale(s);var c,i;for(i in this._oZoomStrategy){var b=this._oZoomStrategy[i].innerInterval;var e=this.scale(jQuery.sap.getObject(b.unit).offset(s,b.span));var r=Math.ceil((e-a)*this.zoomRate);if(r>=b.range){c=i;break;}}return c?c:i;};
A.prototype.getNowLabel=function(){var d=new Date();var u=new Date(d.getTime()+(d.getTimezoneOffset()*60000));var v=this.timeToView(u);var l=d3.time.second.offset(u,this.timeZoneOffset);var z=this._oZoomStrategy[this.getCurrentTickTimeIntervalKey()].smallInterval;var a=F.creatTimeLabel(z,l);return[{"date":l,"value":Math.round(v),"label":a}];};
A.prototype.getTickTimeIntervalLabel=function(l,t,v){var i;var a=l;if(typeof l==="number"){var c=0;for(i in this._oZoomStrategy){if(c===l){a=i;break;}c++;}}var p,b;var e=null;if(this.locale&&this.locale.getDstHorizons().length>0){e=this.locale.getDstHorizons();}var f=d3.time.format("%Y%m%d%H%M%S");var g=[];if(e){for(i=0;i<e.length;i++){g[i]={};p=e[i].getStartTime();b=e[i].getEndTime();g[i].startDate=f.parse(p);g[i].endDate=f.parse(b);}}var h=this.timeZoneOffset?[d3.time.second.offset(this.timeRange[0],this.timeZoneOffset),d3.time.second.offset(this.timeRange[1],this.timeZoneOffset)]:this.timeRange;var j=new sap.gantt.misc.AxisTime(h,this.viewRange,this.zoomRate,this.zoomOrigin,this.viewOffset,null);var k=null;var m=null;var n=null;var o=null;var q=null;var r=null;var u=null;var w=[];var x=[];var y=null;if(t){r=this.timeZoneOffset?d3.time.second.offset(t[0],this.timeZoneOffset):t[0];u=this.timeZoneOffset?d3.time.second.offset(t[1],this.timeZoneOffset):t[1];k=this.timeZoneOffset?[d3.time.second.offset(t[0],this.timeZoneOffset),d3.time.second.offset(t[1],this.timeZoneOffset)]:t;m=[this.timeToView(t[0]),this.timeToView(t[1])];if(g&&g.length){this._calculateTimeRange(g,r,u,w);}y=this._calculateScale(w,x,k,m,false);}else if(v){r=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(v[0]),this.timeZoneOffset):this.viewToTime(v[0]);u=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(v[1]),this.timeZoneOffset):this.viewToTime(v[1]);k=[r,u];m=v;if(g.length){this._calculateTimeRange(g,r,u,w);}y=this._calculateScale(w,x,k,m,false);}else{r=h[0];u=h[1];k=h;m=this.viewRange;if(g.length){this._calculateTimeRange(g,r,u,w);}y=this._calculateScale(w,x,k,m,h);}x=y.viewRangeSet;n=y.visibleScale;o=y.dstScale;q=y.normalScale;var z=[];var D,E,G,H;var I=this._oZoomStrategy[a].largeInterval;var J=this._oZoomStrategy[a].smallInterval;var K,L;if(I){var M=[];var N=[];var O=[];if(!(n instanceof Array)){M[0]=n.ticks(jQuery.sap.getObject(I.unit).range,I.span);}else{for(K=0;K<o.length;K++){N[K]=o[K].ticks(jQuery.sap.getObject(I.unit).range,I.span);O[K]=q[K].ticks(jQuery.sap.getObject(I.unit).range,I.span);}for(K=0;K<n.length;K++){M[K]=n[K].ticks(jQuery.sap.getObject(I.unit).range,I.span);}}var P=[];if(M[0]!==null){for(K=0;K<M.length;K++){for(L=0;L<M[K].length;L++){D=M[K][L];G=j.timeToView(D);H=F.creatTimeLabel(I,D);P.push({"date":D,"value":Math.round(G),"label":H});}}}if(N[0]!==null){for(K=0;K<N.length;K++){for(L=0;L<N[K].length;L++){D=N[K][L];E=O[K][L];G=j.timeToView(d3.time.second.offset(D.getTime(),-60*60));H=F.creatTimeLabel(I,D);P.push({"date":D,"value":Math.round(G),"label":H});}}}z.push(P);}else{z.push([]);}if(J){var Q=[];var R=[];var S=[];if(!(n instanceof Array)){S[0]=n.ticks(jQuery.sap.getObject(J.unit).range,J.span);}else{for(K=0;K<o.length;K++){Q[K]=o[K].ticks(jQuery.sap.getObject(J.unit).range,J.span);R[K]=q[K].ticks(jQuery.sap.getObject(J.unit).range,J.span);}for(K=0;K<n.length;K++){S[K]=n[K].ticks(jQuery.sap.getObject(J.unit).range,J.span);}}var T=[];if(S[0]){for(K=0;K<S.length;K++){for(L=0;L<S[K].length;L++){D=S[K][L];var V;var W=false;if(g.length){for(var d=0;d<g.length;d++){if(D.getTime()===g[d].startDate.getTime()){V=d3.time.second.offset(D.getTime(),60*60);if((L===S[K].length-1)&&(a==="1hour"||a==="30min"||a==="15min"||a==="10min"||a==="5min")){W=true;}}if((L===S[K].length-1)&&(D.getTime()===d3.time.second.offset(g[d].endDate.getTime(),60*60).getTime())){V=d3.time.second.offset(D.getTime(),-60*60);}}}G=j.timeToView(D);if(W){break;}else if(V){H=F.creatTimeLabel(J,V);V=null;}else{H=F.creatTimeLabel(J,D);}T.push({"date":D,"value":Math.round(G),"label":H});}}}if(Q[0]){for(K=0;K<Q.length;K++){for(L=0;L<Q[K].length;L++){D=Q[K][L];E=R[K][L];var X;var Y=false;if((L===Q[K].length-1)&&(a==="1hour"||a==="30min"||a==="15min"||a==="10min"||a==="5min")){if(w.length>0){for(var Z=0;Z<w.length;Z++){if((!w[Z].haveDST)&&(E.getTime()===w[Z].range[0].getTime())){Y=true;}}}}if(g.length){for(var s=0;s<g.length;s++){if(D.getTime()===g[s].startDate.getTime()){X=d3.time.second.offset(D.getTime(),60*60);}if((L===Q[K].length-1)&&(D.getTime()===d3.time.second.offset(g[s].endDate.getTime(),60*60).getTime())){X=d3.time.second.offset(D.getTime(),-60*60);}}}if(a!=="1hour"&&a!=="30min"&&a!=="15min"&&a!=="10min"&&a!=="5min"){G=j.timeToView(d3.time.second.offset(D.getTime(),-60*60));}else{G=j.timeToView(E);}if(Y){break;}else if(X){H=F.creatTimeLabel(J,X);X=null;}else{H=F.creatTimeLabel(J,D);}T.push({"date":D,"value":Math.round(G),"label":H});}}}z.push(T);}else{z.push([]);}return z;};
A.prototype._calculateScale=function(a,v,b,c,l){var d=null;var e=[];var n=[];if(a.length){d=[];var f=0;var g=0;for(var t=0;t<a.length;t++){v[t]=[this.timeToView(a[t].range[0]),this.timeToView(a[t].range[1])];if(a[t].haveDST){e[f]=new sap.gantt.misc.AxisTime(a[t].dstRange,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;n[f]=new sap.gantt.misc.AxisTime(a[t].range,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;f++;}else{d[g]=new sap.gantt.misc.AxisTime(a[t].range,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;g++;}}}else if(l){d=new sap.gantt.misc.AxisTime(l,this.viewRange,this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;}else{d=new sap.gantt.misc.AxisTime(b,c,this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;}var r={"viewRangeSet":v,"visibleScale":d,"dstScale":e,"normalScale":n};return r;};
A.prototype._calculateTimeRange=function(d,s,e,a){if(d.length){var b=s;var c=e;var f=[];var g=[];var h,i;h=d[0].startDate;i=d[0].endDate;this._calculateRangeItem(h,i,b,c,f,g);if(d.length>1){for(var j=1;j<d.length;j++){if(f.length){var r=[];for(var k in f){r.push(f[k]);}f=[];for(var t=0;t<r.length;t++){h=d[j].startDate;i=d[j].endDate;b=r[t].range[0];c=r[t].range[1];this._calculateRangeItem(h,i,b,c,f,g);}}}}for(var l in g){a.push(g[l]);}for(var m in f){a.push(f[m]);}}};
A.prototype._calculateRangeItem=function(d,a,s,e,t,b){var r=null;if(s<d){if(e<a){if(e>d){r={};r.haveDST=false;r.range=[s,d];t.push(r);r={};r.haveDST=true;r.range=[d,e];r.dstRange=[d3.time.second.offset(d.getTime(),60*60),d3.time.second.offset(e,60*60)];b.push(r);}else{r={};r.haveDST=false;r.range=[s,e];t.push(r);}}else{r={};r.haveDST=false;r.range=[s,d];t.push(r);r={};r.haveDST=true;r.range=[d,a];r.dstRange=[d3.time.second.offset(d.getTime(),60*60),d3.time.second.offset(a.getTime(),60*60)];b.push(r);r={};r.haveDST=false;r.range=[a,e];t.push(r);}}else if(s>=d){if(s<a){if(e<=a){r={};r.haveDST=true;r.range=[s,e];r.dstRange=[d3.time.second.offset(s,60*60),d3.time.second.offset(e,60*60)];b.push(r);}else{r={};r.haveDST=true;r.range=[s,a];r.dstRange=[d3.time.second.offset(s,60*60),d3.time.second.offset(a.getTime(),60*60)];b.push(r);r={};r.haveDST=false;r.range=[a,e];t.push(r);}}else{r={};r.haveDST=false;r.range=[s,e];t.push(r);}}};
return A;},true);
sap.ui.predefine('sap/gantt/misc/Format',["sap/ui/core/format/DateFormat"],function(D){"use strict";var F=function(){throw new Error();};F._oDefaultDateTimeFormat=D.getDateTimeInstance();
F.abapTimestampToDate=function(t){if(typeof t==="string"){var d=new Date(t.substr(0,4),parseInt(t.substr(4,2),0)-1,t.substr(6,2),t.substr(8,2),t.substr(10,2),t.substr(12,2));if(!jQuery.isNumeric(d.getTime())){d=new Date(t);}return d;}else if(jQuery.type(t)==="date"){return t;}return null;};
F.dateToAbapTimestamp=function(d){return""+d.getFullYear()+(d.getMonth()<9?"0":"")+(d.getMonth()+1)+(d.getDate()<10?"0":"")+d.getDate()+(d.getHours()<10?"0":"")+d.getHours()+(d.getMinutes()<10?"0":"")+d.getMinutes()+(d.getSeconds()<10?"0":"")+d.getSeconds();};
F.abapTimestampToTimeLabel=function(t,l){var a=sap.gantt.misc.Format._convertUTCToLocalTime(t,l);var L=sap.gantt.misc.Format._oDefaultDateTimeFormat.format(a);return L;};
F._convertUTCToLocalTime=function(t,l){var a=0;if(l&&l.getUtcdiff()){var f=d3.time.format("%Y%m%d%H%M%S");a=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){a=-a;}}var u=sap.gantt.misc.Format.abapTimestampToDate(t);var b=d3.time.second.offset(u,a);var d=l.getDstHorizons();if(d.length>0){for(var i=0;i<d.length;i++){var s=sap.gantt.misc.Format.abapTimestampToDate(d[i].getStartTime());var e=sap.gantt.misc.Format.abapTimestampToDate(d[i].getEndTime());if(b>=s&&b<=e){b=d3.time.second.offset(b,60*60);}}}return b;};
F.creatTimeLabel=function(z,d){var f={pattern:z.format,format:z.pattern,style:z.style,calendarType:z.calendarType};var o;if(z.locale){o=D.getDateTimeInstance(f,new sap.ui.core.Locale(z.locale));}else{var l=sap.ui.getCore().getConfiguration().getLanguage().toLowerCase();o=D.getDateTimeInstance(f,new sap.ui.core.Locale(l));}return o.format(d);};
return F;},true);
sap.ui.predefine('sap/gantt/misc/Utility',["sap/gantt/misc/Format"],function(F){"use strict";var U={};
U.assign=function(i,d){if(typeof(i)!==typeof(d)){return d;}else if((typeof i==="undefined")||i===null){return d;}else{return i;}};
U.assignDeep=function(i,d){if(!i&&!d){return null;}else if(i&&!d){return i;}else if(!i&&d){return d;}else if(typeof(i)==="object"&&typeof(d)==="object"){var r=i;for(var a in d){if(typeof(r[a])!=="boolean"&&!r[a]){r[a]=d[a];}else if(typeof(d[a])==="object"&&typeof(r[a])==="object"){r[a]=this.assignDeep(r[a],d[a]);}}return r;}else{return i;}};
U.generateRowUid=function(d,o,s,p){jQuery.each(d,function(k,v){v.uid=v.id;if(p){v.uid=p+"|"+v.uid;}else if(v.bindingObj&&v.bindingObj.findNode){var n=v.bindingObj.findNode(v.rowIndex);while(n.parent&&n.level>0){n=n.parent;v.uid=n.context.getObject().id+"|"+v.uid;}}v.uid="PATH:"+v.uid+"|SCHEME:"+v.chartScheme+"["+v.index+"]";v.data.uid=v.uid;for(var i=0;i<s.length;i++){var D=s[i];if(D in v.data){for(var j=0;j<v.data[D].length;j++){var a=v.data[D][j];if(a.id===undefined){a.id=j;}a.uid=v.uid+"|DATA:"+D+"["+a.id+"]";}}}});};
U.getChartSchemeByShapeUid=function(s){if(s&&s.indexOf("|SCHEME:")>-1){var a=s.split("|SCHEME:");if(a&&a[1].length>0){return a[1].split("[")[0];}}return"";};
U.generateUidByShapeDataName=function(d,s){if(s===undefined){s="relationship";}for(var i=0;i<d.length;i++){if(d[i].id===undefined){d[i].id=i;}d[i].uid="|DATA:"+s+"["+d[i].id+"]";}};
U.generateObjectPathToObjectMap=function(d,m,p){var r;for(var i in d){var o=d[i],a;if(o.objectInfoRef){a=o.objectInfoRef.data.id;o=o.objectInfoRef;}else{a=o.data.id;}if(p&&p!=""){a=p.concat(".").concat(a);}m[a]=o;if(o.children&&o.children.length>0){r=this.generateObjectPathToObjectMap(o.children,m,a);}}return r;};
U.getShapeDataNameByUid=function(s){var S;if(s!==undefined){var a="|DATA:";if(s.split(a)[1]){S=s.split(a)[1].split("[")[0];}else{S=undefined;}}return S;};
U.getObjectIdByUid=function(u,i){if(u!==null&&u!==undefined){var p=new RegExp("PATH:","");var s,o;if(i){s=new RegExp("\\|SCHEME:","");}else{s=new RegExp("\\|DATA:","");}var f=p.exec(u);var l=s.exec(u);if((f!==null)&&(l!==null)){o=u.substring(f.index+5,l.index);}if(o){return o;}else{return undefined;}}return undefined;};
U.scaleBySapUiSize=function(m,n){switch(m){case"sapUiSizeCozy":return n*1.5;case"sapUiSizeCondensed":return n*0.78;default:return n;}};
U.findSapUiSizeClass=function(c){var $,a;if(c){$=c.$();}else{$=jQuery("body");}if($){a=$.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy");if(a.hasClass("sapUiSizeCondensed")){return"sapUiSizeCondensed";}else if(a.hasClass("sapUiSizeCompact")){return"sapUiSizeCompact";}else if(a.hasClass("sapUiSizeCozy")){return"sapUiSizeCozy";}}};
U.floatEqual=function(v,V){return Math.abs(v-V)<0.0001;};
U.calculateStringLength=function(s){var l=0;if(s.match("[\u4E00-\u9FFF]")===null){l=s.length;}else{l=s.length+s.match(/[\u4E00-\u9FFF]/g).length;}return l;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/Circle',["sap/gantt/shape/Shape"],function(S){"use strict";
var C=S.extend("sap.gantt.shape.Circle",{metadata:{properties:{tag:{type:"string",defaultValue:"circle"},cx:{type:"number"},cy:{type:"number"},r:{type:"number",defaultValue:5}}}});
C.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CIRCLE"));};
C.prototype.getCx=function(d,r){if(this.mShapeConfig.hasShapeProperty("cx")){return this._configFirst("cx",d);}return this.getRotationCenter(d,r)[0];};
C.prototype.getCy=function(d,r){if(this.mShapeConfig.hasShapeProperty("cy")){return this._configFirst("cy",d);}return this.getRowYCenter(d,r);};
C.prototype.getR=function(d){return this._configFirst("r",d,true);};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ClipPath',["sap/gantt/shape/Shape"],function(S){"use strict";
var C=S.extend("sap.gantt.shape.ClipPath",{metadata:{properties:{tag:{type:"string",defaultValue:"clippath"}},aggregations:{paths:{type:"sap.gantt.shape.Path",multiple:true,singularName:"path"}}}});
return C;},true);
sap.ui.predefine('sap/gantt/shape/Group',["sap/gantt/shape/Shape"],function(S){"use strict";
var G=S.extend("sap.gantt.shape.Group",{metadata:{properties:{tag:{type:"string",defaultValue:"g"},RLSAnchors:{type:"array"}},aggregations:{shapes:{type:"sap.gantt.shape.Shape",multiple:true,singularName:"shape"}}}});
G.prototype.getRLSAnchors=function(d,r){return this._configFirst("RLSAnchors",d);};
return G;},true);
sap.ui.predefine('sap/gantt/shape/Image',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(S,U,F,C){"use strict";
var I=S.extend("sap.gantt.shape.Image",{metadata:{properties:{tag:{type:"string",defaultValue:"image"},image:{type:"string"},x:{type:"number"},y:{type:"number"},width:{type:"number",defaultValue:20},height:{type:"number",defaultValue:20}}}});
I.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_IMAGE"));};
I.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n,a=this.mChartInstance.getAxisTime();if(C.getConfiguration().getRTL()){if(this.getIsDuration(d,r)===true){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}return(n?n:0)-this.getWidth(d,r)/2;};
I.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return this.getRowYCenter(d,r)-this.getHeight(d,r)/2;};
I.prototype.getImage=function(d){return this._configFirst("image",d);};
I.prototype.getWidth=function(d){return this._configFirst("width",d,true);};
I.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return I;},true);
sap.ui.predefine('sap/gantt/shape/Line',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format"],function(S,U,F){"use strict";
var L=S.extend("sap.gantt.shape.Line",{metadata:{properties:{tag:{type:"string",defaultValue:"line"},isDuration:{type:"boolean",defaultValue:true},x1:{type:"number"},y1:{type:"number"},x2:{type:"number"},y2:{type:"number"}}}});
L.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_LINE"));};
L.prototype.getX1=function(d,r){if(this.mShapeConfig.hasShapeProperty("x1")){return this._configFirst("x1",d);}return this.mChartInstance.getAxisTime().timeToView(F.abapTimestampToDate(this.getTime(d,r)));};
L.prototype.getY1=function(d,r){if(this.mShapeConfig.hasShapeProperty("y1")){return this._configFirst("y1",d,true);}return this.getRowYCenter(d,r);};
L.prototype.getX2=function(d,r){if(this.mShapeConfig.hasShapeProperty("x2")){return this._configFirst("x2",d);}return this.mChartInstance.getAxisTime().timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));};
L.prototype.getY2=function(d,r){if(this.mShapeConfig.hasShapeProperty("y2")){return this._configFirst("y2",d,true);}return this.getRowYCenter(d,r);};
return L;},true);
sap.ui.predefine('sap/gantt/shape/Path',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Path",{metadata:{properties:{tag:{type:"string",defaultValue:"path"},isClosed:{type:"boolean",defaultValue:false},fill:{type:"string",defaultValue:"none"},d:{type:"string"}}}});
P.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_PATH"));};
P.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var c=this._getCenter(d,r),i=this.getIsDuration(d,r),m=this.mChartInstance.getSapUiSizeClass();var n=U.scaleBySapUiSize(m,7.5);if(i){var e=this._getCenter(d,r,true);n=(e[0]-c[0])/2;}D="M "+c[0]+" "+c[1]+" c 0,"+-n+" "+n+","+-n+" "+n+",0 c 0,"+n+" "+n+","+n+" "+n+",0";}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Path shape generated invalid d: "+D+" from the given data: "+d);return null;}};
P.prototype.getIsClosed=function(d){return this._configFirst("isClosed",d);};
P.prototype.isValid=function(d){return!!d&&d.indexOf("NaN")===-1&&d.indexOf("undefined")===-1&&d.indexOf("null")===-1;};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Polygon',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Polygon",{metadata:{properties:{tag:{type:"string",defaultValue:"polygon"},points:{type:"string"}}}});
P.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_POLYGON"));};
P.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var m=this.mChartInstance.getSapUiSizeClass();var c=this.getRotationCenter(d,r),n=U.scaleBySapUiSize(m,8),a=U.scaleBySapUiSize(m,4),b=U.scaleBySapUiSize(m,4*Math.sqrt(3)),R=[];if(c&&c.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)){R.push([c[0]-b,c[1]-a].join(","));R.push([c[0],c[1]-n].join(","));R.push([c[0]+b,c[1]-a].join(","));R.push([c[0]+b,c[1]+a].join(","));R.push([c[0],c[1]+n].join(","));R.push([c[0]-b,c[1]+a].join(","));}return R.join(" ");};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Polyline',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Polyline",{metadata:{properties:{tag:{type:"string",defaultValue:"polyline"},fill:{type:"string",defaultValue:"none"},points:{type:"string"}}}});
P.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CIRCLE"));};
P.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var c=this.getRotationCenter(d,r),R=[];var m=this.mChartInstance.getSapUiSizeClass();if(c&&c.length===2){R.push([c[0]-15,c[1]].join(","));R.push([c[0]-10,c[1]].join(","));R.push([c[0]-5,c[1]-U.scaleBySapUiSize(m,7.5)].join(","));R.push([c[0]+5,c[1]+U.scaleBySapUiSize(m,7.5)].join(","));R.push([c[0]+10,c[1]].join(","));R.push([c[0]+15,c[1]].join(","));}return R.join(" ");};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Rectangle',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(S,U,F,C){"use strict";
var R=S.extend("sap.gantt.shape.Rectangle",{metadata:{properties:{tag:{type:"string",defaultValue:"rect"},isDuration:{type:"boolean",defaultValue:true},x:{type:"number"},y:{type:"number"},width:{type:"number"},height:{type:"number",defaultValue:15},rx:{type:"string",defaultValue:"0"},ry:{type:"string",defaultValue:"0"}}}});
R.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_RECTANGLE"));};
R.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n;var a=this.getStrokeWidth(d,r);var A=this.mChartInstance.getAxisTime();if(C.getConfiguration().getRTL()){n=A.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=A.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}if(!jQuery.isNumeric(n)){jQuery.sap.log.warning("Cannot get start time or end time from shape data: "+d+", please check whether the attribute name");return 0;}return n+(a?a:0)/2;};
R.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d,true);}return this.getRowYCenter(d,r)-this.getHeight(d,r)/2-this.getStrokeWidth(d,r)/2;};
R.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var a=this.mChartInstance.getAxisTime();var n,s=this.getStrokeWidth(d,r),b=a.timeToView(F.abapTimestampToDate(this.getTime(d,r))),e=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));if(!jQuery.isNumeric(b)||!jQuery.isNumeric(e)){return 0;}if(C.getConfiguration().getRTL()){n=b-e-s-1;}else{n=e-b-s-1;}if(n===0||n<0){n=1;}return n;};
R.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
R.prototype.getRx=function(d){return this._configFirst("rx",d);};
R.prototype.getRy=function(d){return this._configFirst("ry",d);};
return R;},true);
sap.ui.predefine('sap/gantt/shape/SelectedShape',["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(P,U,F,C){"use strict";
var S=P.extend("sap.gantt.shape.SelectedShape",{metadata:{properties:{fill:{type:"string",defaultValue:"none"},fillOpacity:{type:"float",defaultValue:0},strokeOpacity:{type:"float",defaultValue:0},height:{type:"int",defaultValue:15}}}});
S.prototype.getIsDuration=function(d,r){if(this.mShapeConfig.hasShapeProperty("isDuration")){return this._configFirst("isDuration",d);}return this.getParent().getIsDuration();};
S.prototype.getD=function(d,R){var s,x,a,y,b;var p="";var c=this.getParent().getTag();switch(c){case"rect":case"image":s=this.getStrokeWidth(d,R);x=this.getParent().getX(d,R)-s/2;y=this.getParent().getY(d,R)-s/2;a=x+this.getParent().getWidth(d,R)+s;b=y+this.getParent().getHeight(d)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"line":s=this.getStrokeWidth(d,R);x=this.getParent().getX1(d,R)-s/2;y=this.getParent().getY1(d,R)-s/2;a=this.getParent().getX2(d,R)+s;b=this.getParent().getY2(d,R)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"path":p=this.getParent().getD(d,R);break;case"clippath":p=this.getParent().getPaths()[0].getD(d,R);break;case"polygon":case"polyline":var j=this.getParent().getPoints(d,R);var k=j.split(" ");if(k!==undefined&&k[0]==""){k.splice(0,1);}if(k!==undefined&&k.length>1){p="M ";var l;for(var i in k){l=k[i].split(",");if(k[i]!==""&&l.length>1){if(i==k.length-1){if(c==="polygon"){p=p+l[0]+" "+l[1]+" z";}else{p=p+l[0]+" "+l[1];}}else{p=p+l[0]+" "+l[1]+" L ";}}}}break;case"circle":var m,n,r;m=this.getParent().getCx(d,R);n=this.getParent().getCy(d,R);r=this.getParent().getR(d);p="M "+m+" "+n+" A "+r+" "+r+", 0, 1, 1, "+m+" "+n;break;case"text":break;default:var w;var e=this.getParent().getStrokeWidth(d,R);s=this.getStrokeWidth(d,R);var f=this.getParent().getTime(d,R);var g=this.getParent().getEndTime(d,R);var A=this.getParent().mChartInstance.getAxisTime();var h=this.getHeight(d)+s;if(C.getConfiguration().getRTL()){x=A.timeToView(F.abapTimestampToDate(g));a=A.timeToView(F.abapTimestampToDate(f));}else{x=A.timeToView(F.abapTimestampToDate(f));a=A.timeToView(F.abapTimestampToDate(g));}if(this.getParent().mShapeConfig.hasShapeProperty("y")){y=this.getParent()._configFirst("y",d)-s/2;}else{y=this.getParent().getRowYCenter(d,R)-h/2-s/2;}if(this.getParent().mShapeConfig.hasShapeProperty("width")){w=this.getParent()._configFirst("width",d)+s;}else{w=a-x-e-1+s;}if(w===0||w<0||!w){w=2;}a=x+w;b=y+h;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;}if(this.isValid(p)){return p;}else{jQuery.sap.log.warning("SelectedShape generated invalid d: "+p+" from the given data: "+d);return null;}};
S.prototype.getStroke=function(d,r){return"red";};
S.prototype.getFill=function(d,r){return"none";};
S.prototype.getStrokeWidth=function(d,r){var s=this.getParent().getStrokeWidth(d,r);return s?s:2;};
S.prototype.getTransform=function(d,r){return this.getParent().getTransform(d,r);};
S.prototype.getEnableDnD=function(d,r){return false;};
S.prototype.getEnableSelection=function(d,r){return false;};
S.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return S;},true);
sap.ui.predefine('sap/gantt/shape/Shape',["sap/ui/core/Element","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core","sap/ui/core/format/NumberFormat"],function(E,U,F,C,N){"use strict";
var S=E.extend("sap.gantt.shape.Shape",{metadata:{"abstract":true,properties:{tag:{type:"string"},category:{type:"string",defaultValue:sap.gantt.shape.ShapeCategory.InRowShape},htmlClass:{type:"string"},isDuration:{type:"boolean",defaultValue:false},time:{type:"string"},endTime:{type:"string"},title:{type:"string"},ariaLabel:{type:"string"},xBias:{type:"number",defaultValue:0},yBias:{type:"number",defaultValue:0},fill:{type:"sap.gantt.ValueSVGPaintServer"},strokeOpacity:{type:"number",defaultValue:1},fillOpacity:{type:"number",defaultValue:1},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"number",defaultValue:2},strokeDasharray:{type:"string"},clipPath:{type:"string"},transform:{type:"string"},filter:{type:"string"},enableDnD:{type:"boolean",defaultValue:false},enableSelection:{type:"boolean",defaultValue:true},rowYCenter:{type:"number",defaultValue:7.5},rotationCenter:{type:"array"},rotationAngle:{type:"number"},isBulk:{type:"boolean",defaultValue:false},arrayAttribute:{type:"string"},timeFilterAttribute:{type:"string"},endTimeFilterAttribute:{type:"string"},legend:{type:"string"}},aggregations:{selectedShape:{type:"sap.gantt.shape.SelectedShape",multiple:false}}}});
S.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_SHAPE"));this.mShapeConfig=null;this.mLocaleConfig=null;this.mChartInstance=null;};
S.prototype.getTag=function(d){return this._configFirst("tag",d);};
S.prototype.getCategory=function(d){return this._configFirst("category",d);};
S.prototype.getHtmlClass=function(d){return this._configFirst("htmlClass",d);};
S.prototype.getIsDuration=function(d){return this._configFirst("isDuration",d);};
S.prototype.getTime=function(d){return this._configFirst("time",d);};
S.prototype.getEndTime=function(d){return this._configFirst("endTime",d);};
S.prototype.getTitle=function(d){return this._configFirst("title",d);};
S.prototype.getAriaLabel=function(d){return this._configFirst("ariaLabel",d);};
S.prototype.getXBias=function(d){if(C.getConfiguration().getRTL()===true){return 0-this._configFirst("xBias",d);}else{return this._configFirst("xBias",d);}};
S.prototype.getYBias=function(d){return this._configFirst("yBias",d,true);};
S.prototype.getFill=function(d,r){return this._configFirst("fill",d);};
S.prototype.getStrokeOpacity=function(d){return this._configFirst("strokeOpacity",d);};
S.prototype.getFillOpacity=function(d){return this._configFirst("fillOpacity",d);};
S.prototype.getStroke=function(d){return this._configFirst("stroke",d);};
S.prototype.getStrokeWidth=function(d){return this._configFirst("strokeWidth",d,true);};
S.prototype.getStrokeDasharray=function(d){return this._configFirst("strokeDasharray",d);};
S.prototype.getClipPath=function(d){return this._configFirst("clipPath",d);};
S.prototype.getTransform=function(d,r){if(this.mShapeConfig.hasShapeProperty("transform")){return this._configFirst("transform",d);}var R=[];this._translate(d,r,R);this._rotate(d,r,R);if(R.length>0){return R.join(" ");}};
S.prototype._rotate=function(d,r,R){var c=this.getRotationCenter(d,r),n=this.getRotationAngle(d,r);if(c&&c.length===2&&n){R.push("rotate("+n+" "+c[0]+" "+c[1]+")");}};
S.prototype._translate=function(d,r,R){var n=this.getXBias(d,r),a=this.getYBias(d,r);if(n||a){n=n?n:0;a=a?a:0;R.push("translate("+n+" "+a+")");}};
S.prototype.getFilter=function(d){return this._configFirst("filter",d);};
S.prototype.getEnableDnD=function(d){return this._configFirst("enableDnD",d);};
S.prototype.getEnableSelection=function(d){return this._configFirst("enableSelection",d);};
S.prototype.getRotationAngle=function(d){return this._rtlRotation(this._configFirst("rotationAngle",d));};
S.prototype._rtlRotation=function(n){if(n>0||n<0){if(C.getConfiguration().getRTL()){return 360-n;}else{return n;}}};
S.prototype.getRowYCenter=function(d,r){if(this.mShapeConfig.hasShapeProperty("rowYCenter")){return this._configFirst("rowYCenter",d);}if(r){return r.y+r.rowHeight/2;}else{return this.getProperty("rowYCenter");}};
S.prototype.getRotationCenter=function(d,r){if(this.mShapeConfig.hasShapeProperty("rotationCenter")){return this._configFirst("rotationCenter",d);}return this._getCenter(d,r);};
S.prototype._getCenter=function(d,r,e){var a=this.mChartInstance.getAxisTime();var t=e?this.getEndTime(d,r):this.getTime(d,r);if(!t){return undefined;}var n=a.timeToView(F.abapTimestampToDate(t));if(!n&&!n==0){n=a.timeToView(0);}var b=this.getRowYCenter(d,r);return[n,b];};
S.prototype.getIsBulk=function(d){return this._configFirst("isBulk",d);};
S.prototype.getArrayAttribute=function(d){return this._configFirst("arrayAttribute",d);};
S.prototype.getTimeFilterAttribute=function(d){return this._configFirst("timeFilterAttribute",d);};
S.prototype.getEndTimeFilterAttribute=function(d){return this._configFirst("endTimeFilterAttribute",d);};
S.prototype.getLegend=function(d){return this._configFirst("legend",d);};
S.prototype._configFirst=function(a,d,s){var p=null;if(this.mShapeConfig.hasShapeProperty(a)){var c=this.mShapeConfig.getShapeProperty(a);if(typeof c==="string"){p=this._formatting(d,a,c);}else{p=c;}}else{p=this.getProperty(a);}if(s){var m=this.mChartInstance.getSapUiSizeClass();p=U.scaleBySapUiSize(m,p);}return p;};
S.prototype.getShapeViewBoundary=function(){var s=this.mChartInstance._oStatusSet;if(s&&s.aViewBoundary){return s.aViewBoundary;}return null;};
S.prototype._formatting=function(d,a,A){if(!A){return"";}this._attributeNameBindingMap=this._attributeNameBindingMap||{};if(!this._attributeNameBindingMap[a]){this._attributeNameBindingMap[a]=this._resolveAttributeMap(A);}return this._formatFromResolvedAttributeMap(d,a);};
S.prototype._resolveAttributeMap=function(a){var r=[];var m=a.match(/[^\{\}]*(\{.*?\})?/g);m.pop();m.forEach(function(v,i,A){var o={},s=v.split("{");if(s[0].length>0){o.leadingText=s[0];}if(s[1]){s=s[1].split("}")[0].split(":");if(s[0].length>0){o.attributeName=s[0].trim().split("/");}if(s[1]){o.attributeType=s[1].trim();}}r.push(o);});return r;};
S.prototype._formatFromResolvedAttributeMap=function(d,a){var A=this._attributeNameBindingMap[a],r=[],p,v;if(A){A.forEach(function(P,i){p=P.leadingText;if(P.attributeName){v=d;P.attributeName.forEach(function(s,i){v=v[s];});if(p){p=p+this._formatValue(v,P.attributeType);}else{p=this._formatValue(v,P.attributeType);}}r.push(p);}.bind(this));}if(r.length===1){return r[0];}return r.join("");};
S.prototype._formatValue=function(a,t){var l=this.mLocaleConfig,r=a;switch(t){case"Number":r=this._formatNumber(a);break;case"Timestamp":if(l!=undefined){r=F.abapTimestampToTimeLabel(a,l);}break;default:if(r===undefined||r===null){r="";}break;}return r;};
S.prototype._formatNumber=function(n,d){var r="";if(d!==undefined){r=N.getFloatInstance({minFractionDigits:d,maxFractionDigits:d}).format(n);}else{r=N.getFloatInstance().format(n);}return r;};
return S;},true);
sap.ui.predefine('sap/gantt/shape/Text',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(S,U,F,C){"use strict";
var T=S.extend("sap.gantt.shape.Text",{metadata:{properties:{tag:{type:"string",defaultValue:"text"},text:{type:"string"},x:{type:"number"},y:{type:"number"},fontSize:{type:"number",defaultValue:10},textAnchor:{type:"string",defaultValue:"start"},fontFamily:{type:"string"},wrapWidth:{type:"number",defaultValue:-1},wrapDy:{type:"number",defaultValue:20},truncateWidth:{type:"number",defaultValue:-1},ellipsisWidth:{type:"number",defaultValue:12}}}});
T.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var t=this.getTime(d,r);var a=this.mChartInstance.getAxisTime();var x=a.timeToView(F.abapTimestampToDate(t));if(!jQuery.isNumeric(x)){x=a.timeToView(0).toFixed(1);}return x;};
T.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return this.getRowYCenter(d,r)+this.getFontSize(d,r)/2;};
T.prototype.getText=function(d){return this._configFirst("text",d);};
T.prototype.getTextAnchor=function(d){return this._configFirst("textAnchor",d);};
T.prototype.getFontSize=function(d){return this._configFirst("fontSize",d,true);};
T.prototype.getFontFamily=function(d){return this._configFirst("fontFamily",d,true);};
T.prototype.getWrapWidth=function(d){return this._configFirst("wrapWidth",d);};
T.prototype.getWrapDy=function(d){return this._configFirst("wrapDy",d);};
T.prototype.getTruncateWidth=function(d){return this._configFirst("truncateWidth",d);};
T.prototype.getEllipsisWidth=function(d){return this._configFirst("ellipsisWidth",d);};
return T;},true);
sap.ui.predefine('sap/gantt/shape/cal/Calendar',["sap/gantt/shape/Rectangle"],function(R){"use strict";
var C=R.extend("sap.gantt.shape.cal.Calendar",{metadata:{properties:{isBulk:{type:"boolean",defaultValue:true},enableSelection:{type:"boolean",defaultValue:false},calendarName:{type:"string",defaultValue:"nwt"}}}});
C.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CALENDAR"));};
C.prototype.getCalendarName=function(d){return this._configFirst("calendarName",d);};
C.prototype.getIsBulk=function(d){if(this.mShapeConfig.isBulk){return this._configFirst("isBulk",d);}return true;};
C.prototype.getEnableSelection=function(d){if(this.mShapeConfig.enableSelection){return this._configFirst("enableSelection",d);}return false;};
C.prototype.getX=function(d){if(this.mShapeConfig.x){return this._configFirst("x",d);}return this.mChartInstance._oStatusSet.aViewBoundary[0];};
C.prototype.getY=function(d,r){if(this.mShapeConfig.y){return this._configFirst("y",d);}return r.y;};
C.prototype.getWidth=function(d){if(this.mShapeConfig.width){return this._configFirst("width",d);}var s=this.mChartInstance._oStatusSet;if(s){return s.aViewBoundary[1]-s.aViewBoundary[0];}else{return 0;}};
C.prototype.getHeight=function(d,r){if(this.mShapeConfig.height){return this._configFirst("height",d);}return r.rowHeight;};
C.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c=this.getCalendarName(d,r);var p=this.mChartInstance.getCalendarDef();if(p){return p.getRefString(c);}};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ext/Chevron',["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(P,U,F,C){"use strict";
var a=P.extend("sap.gantt.shape.ext.Chevron",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},isDuration:{type:"boolean",defaultValue:true},headLength:{type:"number",defaultValue:5},tailLength:{type:"number",defaultValue:5},height:{type:"number",defaultValue:15}}}});
a.prototype.init=function(){this._isRTL=C.getConfiguration().getRTL();var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CHEVRON"));};
a.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getHeight(d,r);var b=this.getHeadLength(d,r),c=this.getTailLength(d,r),A=this.mChartInstance.getAxisTime();var e=A.timeToView(F.abapTimestampToDate(this.getTime(d,r)));var f=A.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));var g=this.getRowYCenter(d,r);D=this.getDString({nStartOriginalX:e,nEndOriginalX:f,nTailLength:c,nHeadLength:b,nHeight:n,nRowYCenter:g});}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Chevron shape generated invalid d: "+D+" from the given data: "+d);return null;}};
a.prototype.getDString=function(c){var n=c.nHeight/2;if(this._isRTL){var b=c.nStartOriginalX-c.nEndOriginalX-c.nHeadLength;var b=(b>0)?b:1;var d=(b===1)?(c.nStartOriginalX-1):(c.nStartOriginalX-c.nTailLength);var r="m "+d+" "+c.nRowYCenter+" l "+c.nTailLength+" -"+n+" l -"+b+" "+0+" l -"+c.nHeadLength+" "+n+" l "+c.nHeadLength+" "+n+" l "+b+" "+0+" z";}else{var b=c.nEndOriginalX-c.nStartOriginalX-c.nHeadLength;var b=(b>0)?b:1;var d=(b===1)?(c.nStartOriginalX+1):(c.nStartOriginalX+c.nTailLength);var r="m "+d+" "+c.nRowYCenter+" l -"+c.nTailLength+" -"+n+" l "+b+" "+0+" l "+c.nHeadLength+" "+n+" l -"+c.nHeadLength+" "+n+" l -"+b+" "+0+" z";}return r;};
a.prototype.getHeadLength=function(d){return this._configFirst("headLength",d,true);};
a.prototype.getTailLength=function(d){return this._configFirst("tailLength",d,true);};
a.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/Cursor',["sap/gantt/shape/Path"],function(P){"use strict";
var C=P.extend("sap.gantt.shape.ext.Cursor",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},length:{type:"number",defaultValue:10},width:{type:"number",defaultValue:5},pointHeight:{type:"number",defaultValue:5}}}});
C.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CURSOR"));};
C.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getPointHeight(d,r);var a=this.getWidth(d,r);var b=this.getLength(d,r);var c=b/2;var e=this.getRotationCenter(d,r);if(e&&e.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)&&jQuery.isNumeric(c)){D="M "+e.join(" ")+" m "+-c+" "+-(a+n)/2+" l "+b+" 0 l 0 "+a+" l -"+c+" "+n+" l -"+c+" -"+n+" z";}}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Cursor shape generated invalid d: "+D+" from the given data: "+d);return null;}};
C.prototype.getLength=function(d){return this._configFirst("length",d,true);};
C.prototype.getWidth=function(d){return this._configFirst("width",d,true);};
C.prototype.getPointHeight=function(d){return this._configFirst("pointHeight",d,true);};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ext/Diamond',["sap/gantt/shape/Path"],function(P){"use strict";
var D=P.extend("sap.gantt.shape.ext.Diamond",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},verticalDiagonal:{type:"number",defaultValue:12},horizontalDiagonal:{type:"number",defaultValue:12}}}});
D.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_DIAMOND"));};
D.prototype.getD=function(d,r){var s;if(this.mShapeConfig.hasShapeProperty("d")){s=this._configFirst("d",d);}else{var h=this.getVerticalDiagonal(d,r)/2;var a=this.getHorizontalDiagonal(d,r)/2;var c=this.getRotationCenter(d,r);if(c&&c.length===2&&jQuery.isNumeric(h)&&jQuery.isNumeric(a)){s="M "+c.join(" ")+" m "+-a+" 0"+" l "+a+" -"+h+" l "+a+" "+h+" l -"+a+" "+h+" z";}}if(this.isValid(s)){return s;}else{jQuery.sap.log.warning("Diamond shape generated invalid d: "+s+" from the given data: "+d);return null;}};
D.prototype.getVerticalDiagonal=function(d){return this._configFirst("verticalDiagonal",d,true);};
D.prototype.getHorizontalDiagonal=function(d){return this._configFirst("horizontalDiagonal",d,true);};
return D;},true);
sap.ui.predefine('sap/gantt/shape/ext/Iconfont',["sap/gantt/shape/Text","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core","sap/ui/core/IconPool"],function(T,U,F,C,I){"use strict";
var a=T.extend("sap.gantt.shape.ext.Iconfont",{metadata:{properties:{name:{type:"string"},collectionName:{type:"string"}}}});
a.prototype.getText=function(d,r){if(this.mShapeConfig.hasShapeProperty("text")){return this._configFirst("text",d);}var n=this.getName(d,r),c=this.getCollectionName(d,r);if(c===""){c=undefined;}var i=I.getIconInfo(n,c);if(i){return i.content;}};
a.prototype.getName=function(d){return this._configFirst("name",d);};
a.prototype.getCollectionName=function(d){return this._configFirst("collectionName",d);};
a.prototype.getFontFamily=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontFamily")){return this._configFirst("fontFamily",d);}var n=this.getName(d,r);var c=this.getCollectionName(d,r);if(c===""){c=undefined;}var i=I.getIconInfo(n,c);if(i){return i.fontFamily;}};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/Pentangle',["sap/gantt/shape/Polygon","sap/gantt/misc/Utility"],function(P,U){"use strict";
var a=P.extend("sap.gantt.shape.ext.Pentangle",{metadata:{properties:{radius:{type:"number",defaultValue:10},radius2:{type:"number",defaultValue:undefined}}}});
a.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_PENTANGLE"));};
a.prototype.getRadius=function(d){return this._configFirst("radius",d,true);};
a.prototype.getRadius2=function(d,r){if(this.mShapeConfig.hasShapeProperty("radius2")){return this._configFirst("radius2",d,true);}var D=this.getProperty("radius2");if(D||D===0){var m=this.mChartInstance.getSapUiSizeClass();return U.scaleBySapUiSize(m,D);}else{return this.calRadius2ByGoldenRatio(this.getRadius(d,r));}};
a.prototype.calRadius2ByGoldenRatio=function(n){return n*Math.cos(2*Math.PI/5)/Math.cos(Math.PI/5);};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var c=this.getRotationCenter(d,r);var n=this.getRadius(d,r);var b=this.getRadius2(d,r);var p=[];if(c&&c.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(b)){p=this._generatePentaclePoints(c,n,b);}return p.join("");};
a.prototype._generatePentaclePoints=function(c,n,b){var p={},d=[],e=Math.PI/5,f=0;for(var i=0;i<10;i++){f=e*i;p.x=this._getPointX(c[0],(i%2==0)?n:b,f);p.y=this._getPointY(c[1],(i%2==0)?n:b,f);d.push(" "+p.x+","+p.y);}return d;};
a.prototype._getPointX=function(n,b,c){return n+(b*Math.sin(c));};
a.prototype._getPointY=function(n,b,c){return n-(b*Math.cos(c));};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/Triangle',["sap/gantt/shape/Path"],function(P){"use strict";
var T=P.extend("sap.gantt.shape.ext.Triangle",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},base:{type:"number",defaultValue:10},height:{type:"number",defaultValue:10},distanceOfyAxisHeight:{type:"number",defaultValue:5}}}});
T.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_TRIANGLE"));};
T.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getBase(d,r);var a=this.getHeight(d,r);var b=this.getDistanceOfyAxisHeight(d,r);var c=this.getHeight(d,r)/2;var C=this.getRotationCenter(d,r);if(C&&C.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)&&jQuery.isNumeric(c)){D="M "+C.join(" ")+" m 0 "+c+" l -"+b+" 0 l "+b+" -"+a+" l "+Number(n-b)+" "+a+" l -"+Number(n-b)+" 0 z";}}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Triangle shape generated invalid d: "+D+" from the given data: "+d);return null;}};
T.prototype.getBase=function(d){return this._configFirst("base",d,true);};
T.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
T.prototype.getDistanceOfyAxisHeight=function(d){return this._configFirst("distanceOfyAxisHeight",d,true);};
return T;},true);
sap.ui.predefine('sap/gantt/shape/ext/rls/Relationship',["sap/gantt/shape/Path","sap/ui/core/Core"],function(P,C){"use strict";
var R=P.extend("sap.gantt.shape.ext.rls.Relationship",{metadata:{properties:{htmlClass:{type:"string",defaultValue:"relationshipLine"},category:{type:"string",defaultValue:sap.gantt.shape.ShapeCategory.Relationship},isClosed:{type:"boolean",defaultValue:true},isDuration:{type:"boolean",defaultValue:false},stroke:{type:"string",defaultValue:"#000000"},fill:{type:"string",defaultValue:"#000000"},type:{type:"sap.gantt.shape.ext.rls.RelationshipType",defaultValue:sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish},fromObjectPath:{type:"string"},fromShapeId:{type:"string"},fromDataId:{type:"string"},toObjectPath:{type:"string"},toShapeId:{type:"string"},toDataId:{type:"string"},showStart:{type:"boolean",defaultValue:false},showEnd:{type:"boolean",defaultValue:true},lShapeforTypeFS:{type:"boolean",defaultValue:true},minXLen:{type:"number",defaultValue:10},arrowSideLength:{type:"number",defaultValue:5}},aggregations:{selectedShape:{type:"sap.gantt.shape.ext.rls.SelectedRelationship",multiple:false}}}});
R.prototype.init=function(){this._isRTL=C.getConfiguration().getRTL();var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_RELATIONSHIP"));};
R.prototype.getType=function(d){return this._configFirst("type",d);};
R.prototype.getFromObjectPath=function(d){return this._configFirst("fromObjectPath",d);};
R.prototype.getFromShapeId=function(d){return this._configFirst("fromShapeId",d);};
R.prototype.getFromDataId=function(d){return this._configFirst("fromDataId",d);};
R.prototype.getToObjectPath=function(d){return this._configFirst("toObjectPath",d);};
R.prototype.getToShapeId=function(d){return this._configFirst("toShapeId",d);};
R.prototype.getToDataId=function(d){return this._configFirst("toDataId",d);};
R.prototype.getLShapeforTypeFS=function(d){return this._configFirst("lShapeforTypeFS",d);};
R.prototype.getHtmlClass=function(d){return this._configFirst("htmlClass",d);};
R.prototype.getShowStart=function(d){return this._configFirst("showStart",d);};
R.prototype.getShowEnd=function(d){return this._configFirst("showEnd",d);};
R.prototype.getD=function(d,r){var s=this.getShowEnd(d,r);var a=this.getShowStart(d,r);var x,y,b,c;var t;try{t=window.parseInt(this.getType(d,r));}catch(e){jQuery.sap.log.warning("invalid relationship type");}var l=this.getLShapeforTypeFS(d,r);var I=this.mChartInstance._getIdByShapeId(this.getFromShapeId(d,r.from.objectInfo));var p=sap.ui.getCore().byId(I).getRLSAnchors(r.from.shapeRawData,r.from.objectInfo);I=this.mChartInstance._getIdByShapeId(this.getToShapeId(d,r.from.objectInfo));var o=sap.ui.getCore().byId(I).getRLSAnchors(r.to.shapeRawData,r.to.objectInfo);if(this._isRTL){if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){x=p.startPoint.x;y=p.startPoint.y;b=o.startPoint.x;c=o.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){x=p.startPoint.x;y=p.startPoint.y;b=o.endPoint.x;c=o.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){x=p.endPoint.x;y=p.endPoint.y;b=o.startPoint.x;c=o.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){x=p.endPoint.x;y=p.endPoint.y;b=o.endPoint.x;c=o.endPoint.y;}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){x=p.endPoint.x;y=p.endPoint.y;b=o.endPoint.x;c=o.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){x=p.endPoint.x;y=p.endPoint.y;b=o.startPoint.x;c=o.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){x=p.startPoint.x;y=p.startPoint.y;b=o.endPoint.x;c=o.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){x=p.startPoint.x;y=p.startPoint.y;b=o.startPoint.x;c=o.startPoint.y;}var S="";if(a){var f=this._calculateSquareCoordinate(t,x,y);S=S.concat("M").concat(f[0].x).concat(",").concat(f[0].y).concat(" ");var g=f.length;for(var i=1;i<g;i++){S=S.concat("L").concat(f[i].x).concat(",").concat(f[i].y).concat(" ");}}var h=this._calculateLineCoordinate(l,t,x,b,y,c,r.from.objectInfo,o.startPoint.height);S=S.concat("M").concat(h[0].x).concat(",").concat(h[0].y).concat(" ");var m=h.length;for(var j=0;j<m;j++){S=S.concat("L").concat(h[j].x).concat(",").concat(h[j].y).concat(" ");S=S.concat("M").concat(h[j].x).concat(",").concat(h[j].y).concat(" ");}if(s){var n=this._calculateArrowCoordinate(l,t,x,b,y,c,o.startPoint.height);var q=n.length;for(var k=0;k<q;k++){S=S.concat("L").concat(n[k].x).concat(",").concat(n[k].y).concat(" ");}}S=S.concat("Z");if(this.isValid(S)){return S;}else{jQuery.sap.log.warning("Relationship shape generated invalid d: "+S+" from the given data: "+d);return null;}};
R.prototype._calculateSquareCoordinate=function(t,x,y){var s=[];if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish||t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){if(this._isRTL){s=[x,y-2,x-3,y-2,x-3,y+1.5,x,y+1.5,x,y-2];}else{s=[x-1,y-2,x-1+3,y-2,x-1+3,y+1.5,x-1,y+1.5,x-1,y-2];}}else if(this._isRTL){s=[x-1,y-2,x-1+3,y-2,x-1+3,y+1.5,x-1,y+1.5,x-1,y-2];}else{s=[x,y-2,x-3,y-2,x-3,y+1.5,x,y+1.5,x,y-2];}var o=[];var a=s.length;for(var i=0;i<a;){o[o.length]={"x":s[i++],"y":s[i++]};}return o;};
R.prototype._calculateLineCoordinate=function(l,t,x,a,y,b,f,s){var d=[];var r,c;if(y===b){d=d.concat([x,y,a,b]);}else{var k=this.getMinXLen();if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){if(this._isRTL){d=d.concat([x,y,Math.min(x,a)-k,y,Math.min(x,a)-k,b,a,b]);}else{d=d.concat([x,y,Math.max(x,a)+k,y,Math.max(x,a)+k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){if(l){if(this._isRTL){if(x>a){if(y<b){b=b-s/2;}else{b=b+s/2;}d=d.concat([x,y,a,y,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(x<=a){if(y<b){b=b-s/2-2;}else{b=b+s/2+2;}d=d.concat([x,y,a,y,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(this._isRTL){if(x-k>a){d=d.concat([x,y,x-k,y,x-k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y-f.rowHeight;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(x+k<=a){if(this.getShowEnd()){var e=this.getArrowSideLength();k=(x+k+e>a)?Math.abs(k-e):k;}d=d.concat([x,y,x+k,y,x+k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y-f.rowHeight;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){if(this._isRTL){if(x<a-k){d=d.concat([x,y,x+k,y,x+k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(x>=a+k){d=d.concat([x,y,x-k,y,x-k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){if(this._isRTL){d=d.concat([x,y,Math.max(x,a)+k,y,Math.max(x,a)+k,b,a,b]);}else{d=d.concat([x,y,Math.min(x,a)-k,y,Math.min(x,a)-k,b,a,b]);}}}var o=[];var g=d.length;for(var i=0;i<g;){o[o.length]={"x":d[i++],"y":d[i++]};}return o;};
R.prototype._calculateArrowCoordinate=function(l,t,x,a,y,b,s){var c=[];var d=this.getArrowSideLength();if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish||t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){if(this._isRTL){c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){if(this._isRTL){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}}else if(l){if(this._isRTL){if(x>a){if(y<b){b=b-s/2-1;}else if(y>b){b=b+s/2+1;}else{}if(y<b){c=[a+d/2,b-d*Math.pow(3,1/2)/2,a-d/2,b-d*Math.pow(3,1/2)/2];}else if(y==b){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a+d/2,b+d*Math.pow(3,1/2)/2,a-d/2,b+d*Math.pow(3,1/2)/2];}}else{c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}}else if(x<=a){if(y<b){b=b-s/2-1;}else if(y>b){b=b+s/2+1;}else{}if(y<b){c=[a-d/2,b-d*Math.pow(3,1/2)/2,a+d/2,b-d*Math.pow(3,1/2)/2];}else if(y==b){c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d/2,b+d*Math.pow(3,1/2)/2,a+d/2,b+d*Math.pow(3,1/2)/2];}}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}}else if(this._isRTL){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}var o=[];var e=c.length;for(var i=0;i<e;){o[o.length]={"x":c[i++],"y":c[i++]};}return o;};
return R;},true);
sap.ui.predefine('sap/gantt/shape/ext/rls/SelectedRelationship',["sap/gantt/shape/ext/rls/Relationship"],function(R){"use strict";
var S=R.extend("sap.gantt.shape.ext.rls.SelectedRelationship",{metadata:{properties:{stroke:{type:"string"},strokeWidth:{type:"int"}}}});
S.prototype.getStroke=function(d){return"red";};
S.prototype.getFill=function(d){return"red";};
S.prototype.getStrokeWidth=function(d){return 2;};
return S;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcBorderPath',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/Path"],function(U,F,P){"use strict";
var a=P.extend("sap.gantt.shape.ext.ubc.UbcBorderPath",{});
a.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
a.prototype.getD=function(d,r){var p="";if(this.mShapeConfig.hasShapeProperty("d")){p=this._configFirst("d",d);}else{var b=d.drawData?d.drawData:d.period;if(b.length>0){var m=this._getMaxTotalRevised(d);var c=this._getMaxY(d,r);var e=r.rowHeight-1;var A=this.mChartInstance.getAxisTime();for(var i=0;i<b.length;i++){var x,f,y,g;x=A.timeToView(F.abapTimestampToDate(b[i].start_date)).toFixed(1);if(i<b.length-1){f=A.timeToView(F.abapTimestampToDate(b[i+1].start_date)).toFixed(1);}else{f=A.timeToView(F.abapTimestampToDate(b[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(f)){x=A.timeToView(0).toFixed(1);}y=c-b[i].demand/m*e;y=y.toFixed(1);if(y<r.y){y=r.y;}if(i<b.length-1){g=c-b[i+1].demand/m*e;}else{f=A.timeToView(F.abapTimestampToDate(b[i].start_date)).toFixed(1);g=c-b[i].demand/m*e;}g=g.toFixed(1);if(g<r.y){g=r.y;}p+=" M "+x+" "+y+"L"+f+" "+y;p+=" M "+f+" "+y+"L"+f+" "+g;}}}if(this.isValid(p)){return p;}else{jQuery.sap.log.warning("UbcBorderPath shape generated invalid d: "+p+" from the given data: "+d);return null;}};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"blue";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
a.prototype._getMaxY=function(d,r){var t=r.y;var b=r.rowHeight-1;var m=t+b;return m;};
a.prototype._getMaxTotalRevised=function(d){var m=this._getMaxTotal(d);var b=m+this._getmaxExceedCap(d);return b;};
a.prototype._getMaxTotal=function(d){var m=Math.max.apply(Math,d.period.map(function(o){return o.supply;}));if(m<=0){m=1;}return m;};
a.prototype._getmaxExceedCap=function(d){var m=this._getMaxTotal(d);var b=25;if(this.mShapeConfig.hasShapeProperty("maxExceedCapacity")){b=this._configFirst("maxExceedCapacity",d);}return m*b/100;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcOverCapacityZonePolygon',["sap/gantt/misc/Utility","sap/gantt/shape/ext/ubc/UbcPolygon"],function(U,a){"use strict";
var b=a.extend("sap.gantt.shape.ext.ubc.UbcOverCapacityZonePolygon",{});
b.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c,p;if(this.mShapeConfig.hasShapeProperty("backgroundColor")){c=this._configFirst("backgroundColor",d);}if(this.mShapeConfig.hasShapeProperty("pattern")){p=this._configFirst("pattern",d);}var P;if(c&&p){P="pattern_"+p+"_"+(c.indexOf("#")==0?c.substring(1,c.length):c);}if(P&&sap.ui.getCore().byId(P)){return sap.ui.getCore().byId(P).getRefString();}};
b.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
b.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
b.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var v=this.getShapeViewBoundary();if(v){o=v[0]+","+r.y+" "+(v[1]-v[0])+","+r.y+" "+(v[1]-v[0])+","+(r.y+r.rowHeight)+" "+v[0]+","+(r.y+r.rowHeight);return o;}};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcPolygon',["sap/gantt/misc/Utility","sap/gantt/shape/Polygon"],function(U,P){"use strict";
var a=P.extend("sap.gantt.shape.ext.ubc.UbcPolygon",{metadata:{"abstract":true}});
a.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
a.prototype._getMaxY=function(d,r){var t=r.y;var b=r.rowHeight-1;var m=t+b;return m;};
a.prototype._getMaxTotal=function(d){var m=Math.max.apply(Math,d.period.map(function(o){return o.supply;}));if(m<=0){m=1;}return m;};
a.prototype._getmaxExceedCap=function(d,t){var m;if(t){m=t;}else{m=this._getMaxTotal(d);}var b=25;if(this.mShapeConfig.hasShapeProperty("maxExceedCapacity")){b=this._configFirst("maxExceedCapacity",d);}return m*b/100;};
a.prototype._getMaxTotalRevised=function(d){var m=this._getMaxTotal(d);var b=this._getmaxExceedCap(d,m)+m;return b;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcShortageCapacityPolygon',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(U,F,a){"use strict";
var b=a.extend("sap.gantt.shape.ext.ubc.UbcShortageCapacityPolygon",{});
b.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#FF0000";};
b.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
b.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
b.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var m=this._getMaxY(d,r);var t=r.y;var c=this._getMaxTotalRevised(d);var e=r.rowHeight-1;var f=d.drawData?d.drawData:d.period;var A=this.mChartInstance.getAxisTime();for(var i=0;i<f.length;i++){var p=f[i];var x,g;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<f.length-1){g=A.timeToView(F.abapTimestampToDate(f[i+1].start_date)).toFixed(1);}else{g=A.timeToView(F.abapTimestampToDate(f[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(g)){g=A.timeToView(0).toFixed(1);}if(i===0){o+=x+","+m+" ";}var h=m;if(p.demand>p.supply){if(p.demand/c>1){h=t;}else{h=m-p.demand/c*e;}}h=h.toFixed(1);o+=x+","+h+" ";o+=g+","+h+" ";if(i===f.length-1){o+=x+","+h+" ";o+=x+","+m+" ";}}return o;};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcTooltipRectangle',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/Rectangle"],function(U,F,R){"use strict";
var a=R.extend("sap.gantt.shape.ext.ubc.UbcTooltipRectangle",{});
a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");};
a.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
a.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var A=this.mChartInstance.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.start_date)).toFixed(1);if(!jQuery.isNumeric(x)){x=this.axisTime.timeToView(0).toFixed(1);}return x;};
a.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return r.y;};
a.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var w,s,e;var A=this.mChartInstance.getAxisTime();s=A.timeToView(F.abapTimestampToDate(d.start_date)).toFixed(1);e=A.timeToView(F.abapTimestampToDate(d.end_date)).toFixed(1);if(!jQuery.isNumeric(s)){s=this.axisTime.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(e)){e=this.axisTime.timeToView(0).toFixed(1);}w=(e-s>0)?(e-s):(s-e);if((w===0)||!jQuery.isNumeric(w)){w=1;}return w;};
a.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return r.rowHeight-1;};
a.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0;};
a.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0;};
a.prototype.getTitle=function(d,r){if(this.mShapeConfig.hasShapeProperty("title")){return this._configFirst("title",d);}var b=this._oRb.getText("TLTP_CAPACITY",[d.supply,d.demand]);if(d.demand>d.supply){b+=this._oRb.getText("TLTP_OVER_CAPACITY",[d.demand-d.supply]);}return b;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcUnderCapacityZonePolygon',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(U,F,a){"use strict";
var b=a.extend("sap.gantt.shape.ext.ubc.UbcUnderCapacityZonePolygon",{});
b.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#40d44c";};
b.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var m=this._getMaxY(d,r);var c=this._getMaxTotalRevised(d);var e=r.rowHeight-1;var f=d.drawData?d.drawData:d.period;var A=this.mChartInstance.getAxisTime();for(var i=0;i<f.length;i++){var p=f[i];var x,g;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<f.length-1){g=A.timeToView(F.abapTimestampToDate(f[i+1].start_date)).toFixed(1);}else{g=A.timeToView(F.abapTimestampToDate(f[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(g)){g=A.timeToView(0).toFixed(1);}if(i===0){o+=x+","+m+" ";}var h=m-p.supply/c*e;h=h.toFixed(1);o+=x+","+h+" ";o+=g+","+h+" ";if(i===f.length-1){o+=x+","+h+" ";o+=x+","+m+" ";}}return o;};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcUsedPolygon',["sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(U,F,a){"use strict";
var b=a.extend("sap.gantt.shape.ext.ubc.UbcUsedPolygon",{});
b.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#CAC7BA";};
b.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var u="";var m=this._getMaxY(d,r);var c=this._getMaxTotalRevised(d);var e=r.rowHeight-1;var f=d.drawData?d.drawData:d.period;var A=this.mChartInstance.getAxisTime();for(var i=0;i<f.length;i++){var p=f[i];var x,g;var h;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<f.length-1){g=A.timeToView(F.abapTimestampToDate(f[i+1].start_date)).toFixed(1);}else{g=A.timeToView(F.abapTimestampToDate(f[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(g)){g=A.timeToView(0).toFixed(1);}if(i===0){u+=x+","+m+" ";}if(p.demand>=p.supply){h=m-p.supply/c*e;}else{h=m-p.demand/c*e;}h=h.toFixed(1);u+=x+","+h+" ";u+=g+","+h+" ";if(i===f.length-1){u+=x+","+h+" ";u+=x+","+m+" ";}}return u;};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UtilizationBarChart',["sap/gantt/shape/Group","sap/gantt/misc/Format"],function(G,F){"use strict";
var U=G.extend("sap.gantt.shape.ext.ubc.UtilizationBarChart",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype.filterValidData=function(d){if(!d){return[];}var f=[];for(var i=0;i<d.length;i++){var a=this.getIsBulk(d[i]);var A=this.getArrayAttribute(d[i]);var t=this.getTimeFilterAttribute(d[i]);var e=this.getEndTimeFilterAttribute(d[i]);var T=this.mChartInstance._oStatusSet.aTimeBoundary;var o=jQuery.extend(true,{},d[i]);if(a&&A&&t&&e){var s=null;var b=null;var S=this.getShapes();var c=[];for(var j=0;j<S.length;j++){var g=S[j].mShapeConfig.getShapeDataName();if(g&&(jQuery.inArray(g,c)==-1)){c.push(g);}}for(var h in o){if((jQuery.type(o[h])=="object")&&o[h][A]&&o[h][A].length>0){s=this._binarySearchElement(T[0],o[h][A],t,e);b=this._binarySearchElement(T[1],o[h][A],t,e,s);if(s!==null&&b!==null&&s<=b){s=s>=1?s-1:s;o[h].drawData=o[h][A].slice(s,b+2);for(var k=0;k<c.length;k++){if(h!==c[k]&&(jQuery.type(o[c[k]])=="array")&&o[c[k]].length>0){o[c[k]]=o[c[k]].slice(s,b+1);}}}break;}}}f.push(o);}return f;};
U.prototype._binarySearchElement=function(v,a,t,e,l){var b=0;var h=a.length-1;if(l&&l<h){b=l;}var m;while(b<=h){m=Math.floor((b+h)/2);var s=F.abapTimestampToDate(a[m][t]);var c=F.abapTimestampToDate(a[m][e]);if(!c){c=s;}if(s<=v&&v<=c){return m;}else if(c<v){b=m+1;}else if(s>v){h=m-1;}}return m;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcBorderPath',["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format"],function(P,U,F){"use strict";
var a=P.extend("sap.gantt.shape.ext.ulc.UlcBorderPath",{});
a.prototype.getD=function(d,r){var b="";if(this.mShapeConfig.hasShapeProperty("d")){b=this._configFirst("d",d);}else{if(d.values){for(var i=0;i<d.values.length;i++){var A=this.mChartInstance.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.values[i].from));var c=A.timeToView(F.abapTimestampToDate(d.values[i].to));var e=d.values[i].value;if(isNaN(e)){e=0;}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}if(e>(100+m)){e=100+m;}var y=r.y+r.rowHeight-r.rowHeight*(e/(100+m));var l=r.y+r.rowHeight;b=b+(d.values[i].firstOne?" M "+x+" "+l:"")+" L "+x+" "+y+" L "+c+" "+y+(d.values[i].lastOne?" L "+c+" "+l:"");}}}if(this.isValid(b)){return b;}else{jQuery.sap.log.warning("UlcBorderPath shape generated invalid d: "+b+" from the given data: "+d);return null;}};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}var u;if(this.mShapeConfig.hasShapeProperty("utilizationCurves")){u=this._configFirst("utilizationCurves",d);return u[d.dimension].color;}};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 1;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcClipPath',["sap/gantt/shape/ClipPath"],function(C){"use strict";
var U=C.extend("sap.gantt.shape.ext.ulc.UlcClipPath",{});
U.prototype.getHtmlClass=function(d,r){if(this.mShapeConfig.hasShapeProperty("htmlClass")){return this._configFirst("htmlClass",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return n+"_"+d.id+"_"+d.dimension;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcClipingPath',["sap/gantt/shape/Path","sap/gantt/misc/Utility","sap/gantt/misc/Format"],function(P,U,F){"use strict";
var a=P.extend("sap.gantt.shape.ext.ulc.UlcClipingPath",{});
a.prototype.getD=function(d,r){var b="";if(this.mShapeConfig.hasShapeProperty("d")){b=this._configFirst("d",d);}else{if(d.values){for(var i=0;i<d.values.length;i++){var A=this.mChartInstance.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.values[i].from));var c=A.timeToView(F.abapTimestampToDate(d.values[i].to));var e=d.values[i].value;if(isNaN(e)){e=0;}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}if(e>(100+m)){e=100+m;}var y=r.y+r.rowHeight-r.rowHeight*(e/(100+m));var l=r.y+r.rowHeight;b=b+(d.values[i].firstOne?" M "+x+" "+l:"")+" L "+x+" "+y+" L "+c+" "+y+(d.values[i].lastOne?" L "+c+" "+l:"");}}}if(this.isValid(b)){return b;}else{jQuery.sap.log.warning("UlcClipingPath shape generated invalid d: "+b+" from the given data: "+d);return null;}};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcDimension',["sap/gantt/shape/Group"],function(G){"use strict";
var U=G.extend("sap.gantt.shape.ext.ulc.UlcDimension",{});
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcMiddleLine',["sap/gantt/shape/Line"],function(L){"use strict";
var U=L.extend("sap.gantt.shape.ext.ulc.UlcMiddleLine",{});
U.prototype.getX1=function(d,r){if(this.mShapeConfig.hasShapeProperty("x1")){return this._configFirst("x1",d);}var v=this.mChartInstance._oStatusSet?this.mChartInstance._oStatusSet.aViewBoundary:[];if(v.length>0){return v[0];}return 0;};
U.prototype.getY1=function(d,r){if(this.mShapeConfig.hasShapeProperty("y1")){return this._configFirst("y1",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.y+r.rowHeight*(50+m)/(100+m);};
U.prototype.getX2=function(d,r){if(this.mShapeConfig.hasShapeProperty("x2")){return this._configFirst("x2",d);}var v=this.mChartInstance._oStatusSet?this.mChartInstance._oStatusSet.aViewBoundary:[];if(v.length>0){return v[1];}return 0;};
U.prototype.getY2=function(d,r){if(this.mShapeConfig.hasShapeProperty("y2")){return this._configFirst("y2",d);}return this.getY1(d,r);};
U.prototype.getStrokeDasharray=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeDasharray")){return this._configFirst("strokeDasharray",d);}return"5,5";};
U.prototype.getStroke=function(d){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
U.prototype.getStrokeWidth=function(d){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 1;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcOverCapacityZoneRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcOverCapacityZoneRectangle",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c,p;if(this.mShapeConfig.hasShapeProperty("backgroundColor")){c=this._configFirst("backgroundColor",d);}if(this.mShapeConfig.hasShapeProperty("pattern")){p=this._configFirst("pattern",d);}var P;if(c&&p){P="pattern_"+p+"_"+(c.indexOf("#")==0?c.substring(1,c.length):c);}if(P&&sap.ui.getCore().byId(P)){return sap.ui.getCore().byId(P).getRefString();}return"#F6F6F6";};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcOverClipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcOverClipRectangle",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#FF0000";};
a.prototype.getClipPath=function(d,r){if(this.mShapeConfig.hasShapeProperty("clipPath")){return this._configFirst("clipPath",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return"url(#"+n+"_"+d.id+"_"+d.dimension+")";};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcRectangle',["sap/gantt/shape/Rectangle"],function(R){"use strict";
var U=R.extend("sap.gantt.shape.ext.ulc.UlcRectangle",{metadata:{"abstract":true}});
U.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var v=this.getShapeViewBoundary();if(v){return v[0];}return 0;};
U.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return r.y;};
U.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var v=this.getShapeViewBoundary();if(v){return v[1]-v[0];}return 0;};
U.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.rowHeight*m/(100+m);};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcTooltipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(U,a,F,C){"use strict";
var b=U.extend("sap.gantt.shape.ext.ulc.UlcTooltipRectangle",{});
b.prototype.getTitle=function(d,r){if(this.mShapeConfig.hasShapeProperty("title")){return this._configFirst("title",d);}var c="";var u;if(this.mShapeConfig.hasShapeProperty("utilizationCurves")){u=this._configFirst("utilizationCurves",d);}if(d){for(var e in u){if(d[u[e].ratioAttribute]||d[u[e].ratioAttribute]===0){if(d[u[e].ratioAttribute].previous!==undefined){c+=u[e].name+"\t"+d[u[e].ratioAttribute].previous+"-"+d[u[e].ratioAttribute].next+"%"+"\n";}else{c+=u[e].name+"\t"+d[u[e].ratioAttribute].value+"%"+"\n";}}}}return c;};
b.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var A=this.mChartInstance.getAxisTime();if(C.getConfiguration().getRTL()){return A.timeToView(F.abapTimestampToDate(d.to));}else{return A.timeToView(F.abapTimestampToDate(d.from));}};
b.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var A=this.mChartInstance.getAxisTime();if(C.getConfiguration().getRTL()){return Math.abs(A.timeToView(F.abapTimestampToDate(d.from))-A.timeToView(F.abapTimestampToDate(d.to)));}else{return Math.abs(A.timeToView(F.abapTimestampToDate(d.to))-A.timeToView(F.abapTimestampToDate(d.from)));}};
b.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return r.rowHeight;};
b.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0;};
b.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0;};
return b;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcUnderClipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcUnderClipRectangle",{});
a.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.y+r.rowHeight*m/(100+m);};
a.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.rowHeight-r.rowHeight*m/(100+m);};
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#F2F2F2";};
a.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0.3;};
a.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0.3;};
a.prototype.getClipPath=function(d,r){if(this.mShapeConfig.hasShapeProperty("clipPath")){return this._configFirst("clipPath",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return"url(#"+n+"_"+d.id+"_"+d.dimension+")";};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UtilizationLineChart',["sap/gantt/shape/Group"],function(G){"use strict";
var U=G.extend("sap.gantt.shape.ext.ulc.UtilizationLineChart",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
return U;},true);
jQuery.sap.registerPreloadedModules({
"name":"sap/gantt/library-preload",
"version":"2.0",
"modules":{
	"sap/gantt/manifest.json":'{\n  "_version": "1.2.0",\n  "sap.app": {\n    "_version": "1.2.0",\n    "id": "sap.gantt",\n    "type": "library",\n    "embeds": [],\n    "applicationVersion": {\n      "version": "1.42.5"\n    },\n    "title": "UI5 library: sap.gantt",\n    "description": "UI5 library: sap.gantt",\n    "ach": "CA-UI5-CTR-GNT",\n    "resources": "resources.json",\n    "offline": true\n  },\n  "sap.ui": {\n    "_version": "1.1.0",\n    "technology": "UI5",\n    "supportedThemes": [\n      "base",\n      "sap_bluecrystal",\n      "sap_hcb"\n    ]\n  },\n  "sap.ui5": {\n    "_version": "1.1.0",\n    "dependencies": {\n      "minUI5Version": "1.42",\n      "libs": {\n        "sap.ui.core": {\n          "minVersion": "1.42.0"\n        },\n        "sap.ui.layout": {\n          "minVersion": "1.42.0"\n        },\n        "sap.ui.table": {\n          "minVersion": "1.42.0"\n        },\n        "sap.m": {\n          "minVersion": "1.42.0"\n        }\n      }\n    }\n  }\n}',
	"sap/gantt/legend/ListLegend.js":function(){sap.gantt.legend.ListLegendItemCheckbox={NoShow:"noShow",Checked:"checked",Unchecked:"unchecked"};sap.ui.define(["./LegendBase","sap/m/CheckBox","sap/gantt/drawer/Legend"],function(L,C,a){"use strict";
var b=L.extend("sap.gantt.legend.ListLegend",{metadata:{properties:{shapes:{type:"array"}},events:{checkBoxChange:{parameters:{legendType:{type:"string"},value:{type:"boolean"}}}}}});
b.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oListLegendDrawer=new a();this._aCheckBoxes=[];};
b.prototype.onAfterRendering=function(){for(var i=0;i<this._aShapeInstance.length;i++){var s=this._aShapeInstance[i];var S=d3.select("#"+this.getId()+"-svg-"+i);var c=S.selectAll("."+s.getId()).data([i]);this._oListLegendDrawer._drawPerTag(c,s);}};
b.prototype.setShapes=function(s){this.setProperty("shapes",s);if(s&&s.length>0){this._aShapeInstance=this._instantShape(s);this._aCheckBoxes=[];var h=false;for(var i=0;i<this._aShapeInstance.length;i++){var S=this._aShapeInstance[i].mShapeConfig.getSwitchOfCheckBox();if(S==sap.gantt.legend.ListLegendItemCheckbox.Checked||S==sap.gantt.legend.ListLegendItemCheckbox.Unchecked){h=true;break;}}if(h){for(var j=0;j<this._aShapeInstance.length;j++){var o=this._aShapeInstance[j];var c=o.mShapeConfig.getSwitchOfCheckBox();var d=new C({selected:(c==sap.gantt.legend.ListLegendItemCheckbox.Checked)?true:false,enabled:(c==sap.gantt.legend.ListLegendItemCheckbox.NoShow)?false:true}).data("key",(o.mShapeConfig.getKey&&o.mShapeConfig.getKey())?o.mShapeConfig.getKey():o.getLegend()).setTooltip(o.getLegend()).attachSelect(this._onCheckBoxChange,this);this._aCheckBoxes.push(d);}}}return this;};
b.prototype._onCheckBoxChange=function(e){var s=e.getSource();this.fireCheckBoxChange({legendType:s.data("key"),value:e.getParameter("selected")});};
return b;},true);
}
}});

(function(){"use strict";sap.ui.controller("sap.ovp.cards.list.List",{maxValue:-1,minValue:1,counter:0,arrayLength:0,onInit:function(){this.counter=0;},onListItemPress:function(e){var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);},normalizeValueToPercentage:function(v){var e=this.getEntityType(),a=this.getCardPropertiesModel().getProperty("/annotationPath"),r=e[a],c=this.getMetaModel().createBindingContext(e.$path+"/"+a);if(sap.ovp.cards.AnnotationHelper.isFirstDataPointPercentageUnit(c,r)){var p=parseInt(v,10);return p<=100?p:100;}var m=this._getMaxValue();var b=this._getMinValue();if(b<0){m=m-b;v=v-b;}if(this.counter==this.arrayLength){this.counter=0;this.maxValue=-1;this.minValue=1;}if(v>m){return 100;}var V=(parseInt(v,10)*100)/m;if(V>0.5){return V;}return 0.5;},_getMaxValue:function(){this.counter++;if(this.maxValue!=-1){return this.maxValue;}var e=this.getEntityType(),a=this.getCardPropertiesModel().getProperty("/annotationPath"),r=e[a],c=this.getMetaModel().createBindingContext(e.$path+"/"+a);var d=sap.ovp.cards.AnnotationHelper.getFirstDataPointValue(c,r);var b=this.getView().byId("ovpList"),l=b.getBinding("items"),f=l.getCurrentContexts();this.arrayLength=f.length;for(var i=0;i<f.length;i++){if(parseInt(f[i].getObject()[d],10)>this.maxValue){this.maxValue=parseInt(f[i].getObject()[d],10);}}return this.maxValue;},_getMinValue:function(){if(this.minValue!=1){return this.minValue;}var e=this.getEntityType(),a=this.getCardPropertiesModel().getProperty("/annotationPath"),r=e[a],c=this.getMetaModel().createBindingContext(e.$path+"/"+a);var d=sap.ovp.cards.AnnotationHelper.getFirstDataPointValue(c,r);var b=this.getView().byId("ovpList"),l=b.getBinding("items"),f=l.getCurrentContexts();for(var i=0;i<f.length;i++){if(parseInt(f[i].getObject()[d],10)<this.minValue){this.minValue=parseInt(f[i].getObject()[d],10);}}return this.minValue;},getCardItemsBinding:function(){var l=this.getView().byId("ovpList");return l.getBinding("items");}});})();

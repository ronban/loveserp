/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2016 SAP SE. All rights reserved
 */
sap.ui.define(['sap/ui/rta/command/FlexCommand','sap/ui/rta/command/Unhide',"sap/ui/fl/changeHandler/UnhideControl"],function(F,U,a){"use strict";var b=U.extend("sap.ui.rta.command.UnhideForm",{metadata:{library:"sap.ui.rta",properties:{originalElement:{type:"object"},changeType:{type:"string",defaultValue:"unhideControl"}},associations:{},events:{}}});b.FORWARD=true;b.BACKWARD=false;b.prototype.init=function(){};b.prototype._getSpecificChangeInfo=function(f){var e=this.getElement();var s={};s.selector={};s.selector.id=e.getId();s.changeType=this.getChangeType();s.sUnhideId=this.getOriginalElement().getId();return s;};b.prototype._getFlexChange=function(f,e){var s=this._getSpecificChangeInfo(f);var c=this._completeChangeContent(s);return{change:c,selectorElement:e};};b.prototype._getForwardActionData=function(e){return this._getFlexChange(b.FORWARD,e);};b.prototype._getBackwardActionData=function(e){return this._getFlexChange(b.BACKWARD,e);};b.prototype._undoWithElement=function(e){var c=this.getOriginalElement();var C=e.getContent();if(this.getChangeType()==="unhideSimpleFormField"){var s=-1;C.some(function(f,i){if(f===c){s=i;f.setVisible(false);}if(s>=0&&i>s){if((f instanceof sap.m.Label)||(f instanceof sap.ui.core.Title)){return true;}else{f.setVisible(false);}}});}};b.prototype.serialize=function(){return this._getSpecificChangeInfo(b.FORWARD);};return b;},true);
